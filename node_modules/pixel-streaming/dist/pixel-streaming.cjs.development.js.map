{"version":3,"file":"pixel-streaming.cjs.development.js","sources":["../src/client/NativeDOMDelegate.ts","../src/client/index.ts","../src/context/usePlayer/useReducer.ts","../src/context/useSystem/useReducer.ts","../src/assets/config.ts","../src/hooks/useApi/useRequest.ts","../src/hooks/useApi/index.ts","../src/hooks/useEventListener.ts","../src/hooks/useStorage.ts","../src/hooks/useStorageBook.ts","../src/context/useSystem/hooks/useBuildConnector.ts","../src/context/useSystem/hooks/useVersionCompare.ts","../src/context/useSystem/hooks/useNotifier.tsx","../src/context/useSystem/useActions.ts","../src/context/useSystem/index.tsx","../src/context/usePlayer/hooks/useResolution.ts","../src/hooks/useUnload.ts","../src/hooks/useCountdown.ts","../src/context/usePlayer/hooks/useStreamKiller.ts","../src/context/usePlayer/hooks/useUnrealSettings.ts","../src/context/usePlayer/useActions.ts","../src/context/usePlayer/index.tsx","../src/context/index.tsx","../src/assets/styled/colors/blue.js","../src/assets/styled/colors/lightGreen.js","../src/assets/styled/index.ts","../src/snippets/DevBar/DevMenu/PanelPixelStreaming/DebugPanel.tsx","../src/components/Drawer.tsx","../src/components/JsonViewer.tsx","../src/snippets/DevBar/DevMenu/PanelPlayerData.tsx","../src/snippets/DevBar/DevMenu/PanelMetaData.tsx","../src/snippets/DevBar/snippets/CommandsList.tsx","../src/snippets/DevBar/DevMenu/PanelMenuProject.tsx","../src/snippets/DevBar/DevMenu/PanelMenuSystem.tsx","../src/snippets/DevBar/DevMenu/PanelHistoryCommands.tsx","../src/snippets/DevBar/DevMenu/PanelHistoryCallbacks.tsx","../src/snippets/DevBar/DevMenu/PanelSettings/NotificationsSettings.tsx","../src/snippets/DevBar/DevMenu/PanelSettings/index.tsx","../src/snippets/DevBar/DevMenu/PanelPixelStreaming/index.tsx","../src/snippets/DevBar/DevMenu/index.tsx","../src/components/Modal.tsx","../src/snippets/DevBar/Actions/index.tsx","../src/snippets/DevBar/UpdateMessage.tsx","../src/snippets/DevBar/index.tsx","../src/snippets/PlayerOverlay.tsx","../src/components/SvgIcon.tsx","../src/snippets/PlayerActions/useFullscreen.ts","../src/hooks/useCopy.ts","../src/components/QrCode.tsx","../src/snippets/PlayerActions/ShareLink.tsx","../src/snippets/PlayerActions/VolumeButton.tsx","../src/hooks/useNotify.tsx","../src/snippets/PlayerActions/Helpers/KeyboardHelper.tsx","../src/snippets/PlayerActions/Helpers/index.ts","../src/snippets/PlayerActions/index.tsx","../src/hooks/useMedia.ts","../src/snippets/QuickMenu/useBridge.ts","../src/snippets/QuickMenu/index.tsx","../src/snippets/ProgressKiller.tsx","../src/styles/theme.ts","../src/snippets/Player.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport * as client from 'unreal-pixel-streaming'\n\n\n/**\n * Class for the base overlay structure \n */\nexport class OverlayBase implements client.IOverlay {\n\tprotected rootElement: HTMLDivElement;\n\tprotected rootDiv: HTMLDivElement;\n\n\t/**\n\t * Construct an overlay \n\t * @param rootDiv the root element this overlay will be inserted into \n\t * @param rootElement the root element that is the overlay\n\t */\n\tprotected constructor(rootDiv: HTMLDivElement, rootElement: HTMLDivElement) {\n\t\tthis.rootDiv = rootDiv;\n\t\tthis.rootElement = rootElement;\n\t\tthis.rootElement.classList.add(\"hiddenState\");\n\t\tthis.rootDiv.appendChild(this.rootElement);\n\t}\n\n\t/**\n\t * Show the overlay \n\t */\n\tpublic show(): void {\n\t\tthis.rootElement.classList.remove(\"hiddenState\");\n\t}\n\n\t/**\n\t * Hide the overlay\n\t */\n\tpublic hide(): void {\n\t\tthis.rootElement.classList.add(\"hiddenState\");\n\t}\n}\n\n/**\n * Class for the base action overlay structure \n */\nexport class ActionOverlayBase extends client.ActionOverlay {\n\tprotected rootElement: HTMLDivElement;\n\tprotected rootDiv: HTMLDivElement;\n\tprivate textElement: HTMLDivElement;\n\n\t/**\n\t * Construct an action overlay \n\t * @param rootDiv the root element this overlay will be inserted into \n\t * @param rootElement the root element that is the overlay\n\t * @param textElement an element that contains text for the action overlay \n\t */\n\tpublic constructor(rootDiv: HTMLDivElement, rootElement: HTMLDivElement, textElement: HTMLDivElement) {\n\t\tsuper();\n\t\tthis.rootDiv = rootDiv;\n\t\tthis.rootElement = rootElement;\n\t\tthis.textElement = textElement;\n\t\tthis.rootElement.appendChild(this.textElement);\n\t\tthis.rootElement.classList.add(\"hiddenState\");\n\t\tthis.rootDiv.appendChild(this.rootElement);\n\t}\n\n\t/**\n\t * Show the overlay \n\t */\n\tpublic show(): void {\n\t\tthis.rootElement.classList.remove(\"hiddenState\");\n\t}\n\n\t/**\n\t * Hide the overlay\n\t */\n\tpublic hide(): void {\n\t\tthis.rootElement.classList.add(\"hiddenState\");\n\t}\n\n}\n\n/**\n * Class for the afk overlay base \n */\nexport class AfkOverlayBase extends client.AfkOverlay {\n\tprotected rootElement: HTMLDivElement;\n\tprotected rootDiv: HTMLDivElement;\n\tprivate textElement: HTMLDivElement;\n\tprivate countDownSpanElementId: string;\n\n\t/**\n\t * Construct an Afk overlay \n\t * @param rootDiv the root element this overlay will be inserted into \n\t * @param rootElement the root element that is the overlay\n\t * @param textElement an element that contains text for the action overlay  \n\t * @param countDownSpanElementId the id of the span that holds the countdown element \n\t */\n\tpublic constructor(rootDiv: HTMLDivElement, rootElement: HTMLDivElement, textElement: HTMLDivElement, countDownSpanElementId: string) {\n\t\tsuper();\n\t\tthis.rootDiv = rootDiv;\n\t\tthis.rootElement = rootElement;\n\t\tthis.countDownSpanElementId = countDownSpanElementId;\n\t\tthis.textElement = textElement;\n\t\tthis.rootElement.appendChild(this.textElement);\n\t\tthis.rootElement.classList.add(\"hiddenState\");\n\t\tthis.rootDiv.appendChild(this.rootElement);\n\t}\n\n\t/**\n\t * Show the overlay \n\t */\n\tpublic show(): void {\n\t\tthis.rootElement.classList.remove(\"hiddenState\");\n\t}\n\n\t/**\n\t * Hide the overlay \n\t */\n\tpublic hide(): void {\n\t\tthis.rootElement.classList.add(\"hiddenState\");\n\t}\n\n\t/**\n\t * Update the count down spans number for the overlay \n\t * @param countdown the count down number to be inserted into the span for updating\n\t */\n\tpublic update(countdown: number): void {\n\t\tdocument.getElementById(this.countDownSpanElementId).innerHTML = countdown.toString();\n\t}\n\n}\n\n/**\n * Class for the text overlay base \n */\nexport class TextOverlayBase extends OverlayBase implements client.ITextOverlay {\n\tprivate textElement: HTMLDivElement;\n\n\t/**\n\t * Construct a text overlay \n\t * @param rootDiv the root element this overlay will be inserted into \n\t * @param rootElement the root element that is the overlay\n\t * @param textElement an element that contains text for the action overlay\n\t */\n\tpublic constructor(rootDiv: HTMLDivElement, rootElement: HTMLDivElement, textElement: HTMLDivElement) {\n\t\tsuper(rootDiv, rootElement);\n\t\tthis.textElement = textElement;\n\t\tthis.rootElement.appendChild(this.textElement);\n\t}\n\n\t/**\n\t * Update the text overlays inner text \n\t * @param text the update text to be inserted into the overlay \n\t */\n\tpublic update(text: string): void {\n\t\tif (text != null || text != undefined) {\n\t\t\tthis.textElement.innerHTML = text;\n\t\t}\n\t}\n}\n\nexport class NativeDOMDelegate extends client.DelegateBase {\n\tconfig: client.Config;\n\tlatencyStartTime: number;\n\tvideoStartTime: number;\n\tvideoEncoderAvgQP: number;\n\n\t// instantiate the WebRtcPlayerControllers interface var \n\tiWebRtcController: client.IWebRtcPlayerController;\n\n\tshowStats: boolean;\n\n\tlogging: boolean;\n\n\t// HTML Elements that are used multiple times\n\n\t// Global\n\tstatusLight = document.getElementById(\"qualityStatus\") as HTMLDivElement;\n\n\t// Pre Stream options\n\tforceTurnToggle = document.getElementById(\"force-turn-tgl\") as HTMLInputElement;\n\n\t// Viewing\n\tqualityControlOwnershipCheckBox = document.getElementById(\"quality-control-ownership-tgl\") as HTMLInputElement;\n\ttoggleMatchViewPortRes = document.getElementById(\"match-viewport-res-tgl\") as HTMLInputElement;\n\tcontrolSchemeToggle = document.getElementById(\"control-scheme-tgl\") as HTMLInputElement;\n\tcontrolSchemeToggleTitle = document.getElementById(\"control-scheme-title\") as HTMLDivElement;\n\n\t// Commands\n\tuiDescriptorText = document.getElementById(\"ui-descriptor-text\") as HTMLInputElement;\n\n\t// Settings\n\tencoderMinQpText = document.getElementById(\"encoder-min-qp-text\") as HTMLInputElement;\n\tencoderMaxQpText = document.getElementById(\"encoder-max-qp-text\") as HTMLInputElement;\n\twebRtcFpsText = document.getElementById(\"webrtc-fps-text\") as HTMLInputElement;\n\twebRtcMinBitrateText = document.getElementById(\"webrtc-min-bitrate-text\") as HTMLInputElement;\n\twebRtcMaxBitrateText = document.getElementById(\"webrtc-max-bitrate-text\") as HTMLInputElement;\n\n\t// Statistics\n\tsendStatsToServer = document.getElementById(\"send-stats-tgl\") as HTMLInputElement;\n\n\t// Containers Headers\n\tpreStreamContainer = document.getElementById(\"preStreamOptionsHeader\") as HTMLDivElement;\n\tviewSettingsHeader = document.getElementById(\"viewSettingsHeader\") as HTMLDivElement;\n\tcommandsHeader = document.getElementById(\"commandsHeader\") as HTMLDivElement;\n\tstreamingSettingsHeader = document.getElementById(\"streamingSettingsHeader\") as HTMLDivElement;\n\tstatsHeader = document.getElementById(\"statisticsHeader\") as HTMLDivElement;\n\tlatencyHeader = document.getElementById(\"latencyTestHeader\") as HTMLDivElement;\n\n\t// Containers\n\tviewSettingsContainer = document.getElementById(\"viewSettingsContainer\") as HTMLDivElement;\n\tcommandsContainer = document.getElementById(\"commandsContainer\") as HTMLDivElement;\n\tstreamingSettingsContainer = document.getElementById(\"streamingSettingsContainer\") as HTMLDivElement;\n\tstatsContainer = document.getElementById(\"statisticsContainer\") as HTMLDivElement;\n\tlatencyContainer = document.getElementById(\"latencyTestContainer\") as HTMLDivElement;\n\n\tconstructor(config: client.Config) {\n\t\tsuper(config);\n\t\tthis.showStats = true;\n\t\tthis.logging = false;\n\t\tthis.videoEncoderAvgQP = -1;\n\n\t\t// build all of the overlays \n\t\tthis.buildConnectOverlay();\n\t\tthis.buildPlayOverlay();\n\t\tthis.buildAfkOverlay();\n\t\tthis.buildInfoOverlay();\n\t\tthis.buildErrorOverlay();\n\n\t\t// configure all buttons \n\t\tthis.ConfigureButtons();\n\t}\n\n\t/**\n\t * Builds the connect overlay \n\t */\n\tbuildConnectOverlay() {\n\t\t// build the overlay base div \n\t\tlet connectOverlayHtml = document.createElement('div');\n\t\tconnectOverlayHtml.id = \"connectOverlay\";\n\t\tconnectOverlayHtml.className = \"clickableState\";\n\n\t\t// set the event Listener\n\t\tlet connectOverlayEvent: EventListener = () => this.onConnectAction();\n\n\t\t// add the new event listener \n\t\tconnectOverlayHtml.addEventListener('click', function onOverlayClick(event: Event) {\n\t\t\tconnectOverlayEvent(event);\n\t\t\t//connectOverlayHtml.removeEventListener('click', onOverlayClick);\n\t\t});\n\n\t\t// build the inner html \n\t\tlet connectOverlayHtmlInner = document.createElement('div');\n\t\tconnectOverlayHtmlInner.id = 'connectButton';\n\t\tconnectOverlayHtmlInner.innerHTML = 'Click to start';\n\n\t\t// instantiate the overlay\n\t\tthis.connectOverlay = new ActionOverlayBase(this.config.playerElement, connectOverlayHtml, connectOverlayHtmlInner);\n\t}\n\n\t/**\n\t * Builds the play overlay \n\t */\n\tbuildPlayOverlay() {\n\t\t// build the overlay base div \n\t\tlet playOverlayHtml = document.createElement('div');\n\t\tplayOverlayHtml.id = \"playOverlay\";\n\t\tplayOverlayHtml.className = \"clickableState\";\n\n\t\t// set the event Listener\n\t\tlet playOverlayEvent: EventListener = () => this.onPlayAction();\n\n\t\t// add the new event listener \n\t\tplayOverlayHtml.addEventListener('click', function onOverlayClick(event: Event) {\n\t\t\tplayOverlayEvent(event);\n\t\t\t//playOverlayHtml.removeEventListener('click', onOverlayClick);\n\t\t});\n\n\t\t// build the inner html \n\t\tlet playOverlayHtmlInner = document.createElement('img');\n\t\tplayOverlayHtmlInner.id = 'playButton';\n\t\tplayOverlayHtmlInner.src = Images.playButton;\n\t\tplayOverlayHtmlInner.alt = 'Start Streaming';\n\n\t\t// instantiate the overlay\n\t\tthis.playOverlay = new ActionOverlayBase(this.config.playerElement, playOverlayHtml, playOverlayHtmlInner);\n\t}\n\n\t/**\n\t * Builds the Afk overlay \n\t */\n\tbuildAfkOverlay() {\n\t\t// build the overlay base div \n\t\tlet afkOverlayHtml = document.createElement('div');\n\t\tafkOverlayHtml.id = \"afkOverlay\";\n\t\tafkOverlayHtml.className = \"clickableState\";\n\n\t\tlet afkOverlayEvent: EventListener = () => this.onAfkAction();\n\n\t\tafkOverlayHtml.addEventListener('click', function onOverlayClick(event: Event) {\n\t\t\tafkOverlayEvent(event);\n\t\t\t//playOverlayHtml.removeEventListener('click', onOverlayClick);\n\t\t});\n\n\t\t// build the inner html\n\t\tlet afkOverlayHtmlInner = document.createElement('div');\n\t\tafkOverlayHtmlInner.id = 'afkOverlayInner';\n\t\tafkOverlayHtmlInner.innerHTML = '<center>No activity detected<br>Disconnecting in <span id=\"afkCountDownNumber\"></span> seconds<br>Click to continue<br></center>'\n\n\t\t// instantiate the overlay\n\t\tthis.afkOverlay = new AfkOverlayBase(this.config.playerElement, afkOverlayHtml, afkOverlayHtmlInner, \"afkCountDownNumber\");\n\t}\n\n\t/**\n\t * Builds the info overlay \n\t */\n\tbuildInfoOverlay() {\n\t\t// build the overlay base div \n\t\tlet infoOverlayHtml = document.createElement('div');\n\t\tinfoOverlayHtml.id = \"infoOverlay\";\n\t\tinfoOverlayHtml.className = \"textDisplayState\";\n\n\t\t// build the inner html\n\t\tlet infoOverlayHtmlInner = document.createElement('div');\n\t\tinfoOverlayHtmlInner.id = 'messageOverlayInner';\n\n\t\t/// instantiate the overlay\n\t\tthis.infoOverlay = new TextOverlayBase(this.config.playerElement, infoOverlayHtml, infoOverlayHtmlInner);\n\t}\n\n\t/**\n\t * Builds the error overlay \n\t */\n\tbuildErrorOverlay() {\n\t\t// build the overlay base div \n\t\tlet errorOverlayHtml = document.createElement('div');\n\t\terrorOverlayHtml.id = \"errorOverlay\";\n\t\terrorOverlayHtml.className = \"textDisplayState\";\n\n\t\t// build the inner html\n\t\tlet errorOverlayHtmlInner = document.createElement('div');\n\t\terrorOverlayHtmlInner.id = 'errorOverlayInner';\n\t\terrorOverlayHtmlInner.classList.add(\".text-danger\");\n\n\t\t// instantiate the overlay\n\t\tthis.errorOverlay = new TextOverlayBase(this.config.playerElement, errorOverlayHtml, errorOverlayHtmlInner);\n\t}\n\n\t/**\n\t* Set up functionality to happen when an instance state change occurs and updates the info overlay with the response\n\t* @param instanceState - the message instance state \n\t*/\n\tonInstanceStateChange(instanceState: client.MessageInstanceState) {\n\t\tlet instanceStateMessage = \"\";\n\t\tlet isInstancePending = false;\n\t\tlet isError = false;\n\n\t\t// get the response type\n\t\tswitch (instanceState.state) {\n\t\t\tcase client.InstanceState.UNALLOCATED:\n\t\t\t\tinstanceStateMessage = \"Instance Unallocated: \" + instanceState.details;\n\t\t\t\tbreak;\n\t\t\tcase client.InstanceState.FAILED:\n\t\t\t\tinstanceStateMessage = \"UE Instance Failed: \" + instanceState.details;\n\t\t\t\tisError = true;\n\t\t\t\tbreak;\n\t\t\tcase client.InstanceState.PENDING:\n\t\t\t\tisInstancePending = true;\n\t\t\t\tif (instanceState.details == undefined || instanceState.details == null) {\n\t\t\t\t\tinstanceStateMessage = \"Your application is pending\";\n\t\t\t\t} else {\n\t\t\t\t\tinstanceStateMessage = instanceState.details;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase client.InstanceState.READY:\n\t\t\t\tinstanceStateMessage = \"Instance is Ready: \" + instanceState.details;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tinstanceStateMessage = \"Unhandled Instance State\" + instanceState.state + \" \" + instanceState.details;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (isError) {\n\t\t\tthis.showErrorOverlay(instanceStateMessage);\n\t\t} else if (isInstancePending) {\n\t\t\t//check if there is already and instance pending if so return \n\t\t\tlet preExistingPendingMessage = document.getElementById('loading-spinner') as HTMLDivElement;\n\t\t\tif (preExistingPendingMessage) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// build the spinner span\n\t\t\tvar spinnerSpan: HTMLSpanElement = document.createElement('span');\n\t\t\tspinnerSpan.className = \"visually-hidden\"\n\t\t\tspinnerSpan.innerHTML = \"Loading...\"\n\n\t\t\t// build the spinner div\n\t\t\tvar spinnerDiv: HTMLDivElement = document.createElement('div');\n\t\t\tspinnerDiv.id = \"loading-spinner\"\n\t\t\tspinnerDiv.className = \"spinner-border ms-2\"\n\t\t\tspinnerDiv.setAttribute(\"role\", \"status\");\n\n\t\t\t// append the spinner to the element\n\t\t\tspinnerDiv.appendChild(spinnerSpan);\n\n\t\t\t// insert the inner html into the base div\n\t\t\tthis.showTextOverlay(instanceStateMessage + spinnerDiv.outerHTML);\n\t\t} else {\n\t\t\tthis.showTextOverlay(instanceStateMessage);\n\t\t}\n\t}\n\n\t/**\n\t * Set up functionality to happen when receiving an auth response and updates an info overlay with the response\n\t * @param authResponse - the auth response message type\n\t */\n\tonAuthenticationResponse(authResponse: client.MessageAuthResponse) {\n\t\tlet instanceStateMessage = \"\";\n\t\tlet isError = false;\n\n\t\t// get the response type\n\t\tswitch (authResponse.outcome) {\n\t\t\tcase client.MessageAuthResponseOutcomeType.AUTHENTICATED:\n\t\t\t\tinstanceStateMessage = \"Authentication has succeeded. Requesting Instance\";\n\t\t\t\tbreak;\n\t\t\tcase client.MessageAuthResponseOutcomeType.INVALID_TOKEN:\n\t\t\t\tinstanceStateMessage = \"Invalid Token: \" + authResponse.error;\n\t\t\t\tisError = true;\n\t\t\t\tbreak;\n\t\t\tcase client.MessageAuthResponseOutcomeType.REDIRECT:\n\t\t\t\tinstanceStateMessage = \"Redirecting to: \" + authResponse.redirect;\n\t\t\t\tbreak;\n\t\t\tcase client.MessageAuthResponseOutcomeType.ERROR:\n\t\t\t\tinstanceStateMessage = \"Error: \" + authResponse.error;\n\t\t\t\tisError = true;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tinstanceStateMessage = \"Unhandled Auth Response: \" + authResponse.outcome;\n\t\t\t\tbreak;\n\t\t}\n\n\t\t// if the response is an error show the error instead of the info \n\t\tif (isError) {\n\t\t\tthis.showErrorOverlay(instanceStateMessage);\n\t\t} else {\n\t\t\tthis.showTextOverlay(instanceStateMessage);\n\t\t}\n\t}\n\n\t/**\n\t * Set up button click functions and button functionality  \n\t */\n\tConfigureButtons() {\n\t\t// setup the Force TURN toggle\n\t\tthis.setUpToggleWithUrlParams(this.forceTurnToggle, \"ForceTURN\");\n\n\t\tthis.setUpControlSchemeTypeToggle(this.controlSchemeToggle);\n\n\t\t// set up the restart stream button\n\t\tdocument.getElementById(\"restart-stream-button\").onclick = () => {\n\t\t\tthis.iWebRtcController.restartStreamAutomaticity();\n\t\t}\n\n\t\tdocument.getElementById(\"btn-streaming-settings\").onclick = () => {\n\t\t\tconsole.debug(\"--------  Sending Streaming settings  --------\");\n\t\t\tlet encode: client.Encoder = {\n\t\t\t\tMinQP: Number(this.encoderMinQpText.value),\n\t\t\t\tMaxQP: Number(this.encoderMaxQpText.value),\n\t\t\t}\n\n\t\t\tlet webRtcSettings: client.WebRTC = {\n\t\t\t\tFPS: Number(this.webRtcFpsText.value),\n\t\t\t\tMinBitrate: Number(this.webRtcMinBitrateText.value) * 1000,\n\t\t\t\tMaxBitrate: Number(this.webRtcMaxBitrateText.value) * 1000,\n\t\t\t}\n\n\t\t\tthis.iWebRtcController.sendEncoderSettings(encode);\n\t\t\tthis.iWebRtcController.sendWebRtcSettings(webRtcSettings);\n\t\t\tconsole.debug(\"-------------------------------------------\");\n\t\t}\n\n\n\t\t// sending UI descriptors \n\t\tdocument.getElementById(\"sendUiDescriptor\").onclick = () => {\n\t\t\tthis.iWebRtcController.sendUeUiDescriptor(this.uiDescriptorText.value);\n\n\t\t};\n\n\t\t// show the current fps on screen \n\t\tdocument.getElementById(\"show-fps-button\").onclick = () => {\n\t\t\tthis.iWebRtcController.sendShowFps();\n\t\t};\n\n\t\t// make the player fill the window\n\t\tdocument.getElementById(\"enlarge-display-to-fill-window-tgl\").onchange = () => {\n\t\t\tthis.iWebRtcController.resizePlayerStyle();\n\t\t};\n\n\t\t// make the player match the view port resolution \n\t\tthis.toggleMatchViewPortRes.onchange = () => {\n\t\t\tthis.iWebRtcController.matchViewportResolution = this.toggleMatchViewPortRes.checked\n\t\t};\n\n\t\t// quality control ownership checkbox \n\t\tthis.qualityControlOwnershipCheckBox.onchange = () => {\n\t\t\tif (this.qualityControlOwnershipCheckBox.checked === false) {\n\t\t\t\tthis.iWebRtcController.sendRequestQualityControlOwnership();\n\t\t\t}\n\t\t};\n\n\t\t// show and hide the optional buttons overlay \n\t\tdocument.getElementById(\"overlayButton\").onclick = () => {\n\t\t\tdocument.getElementById(\"overlaySettings\").classList.toggle(\"d-none\");\n\t\t}\n\n\n\t}\n\n\t/**\n\t * Set up toggle element for controlling hovering mouse or locked mouse  \n\t * @param toggleElement the toggle html element to be set up\n\t */\n\tsetUpControlSchemeTypeToggle(toggleElement: HTMLInputElement) {\n\t\tif (toggleElement) {\n\n\t\t\t// set the state for the toggle based on the config\n\t\t\tif (this.config.controlScheme === client.ControlSchemeType.LockedMouse) {\n\t\t\t\tthis.controlSchemeToggleTitle.innerHTML = \"Control Scheme: Locked Mouse\"\n\t\t\t\tthis.controlSchemeToggle.checked = false;\n\t\t\t} else {\n\t\t\t\tthis.controlSchemeToggleTitle.innerHTML = \"Control Scheme: Hovering Mouse\"\n\t\t\t\tthis.controlSchemeToggle.checked = true;\n\t\t\t}\n\n\t\t\t// set the onChange event \n\t\t\ttoggleElement.onchange = () => {\n\t\t\t\tif (toggleElement.checked === true) {\n\t\t\t\t\tthis.controlSchemeToggleTitle.innerHTML = \"Control Scheme: Hovering Mouse\"\n\t\t\t\t\tthis.config.controlScheme = client.ControlSchemeType.HoveringMouse;\n\t\t\t\t\tthis.iWebRtcController.activateRegisterMouse();\n\t\t\t\t} else {\n\t\t\t\t\tthis.controlSchemeToggleTitle.innerHTML = \"Control Scheme: Locked Mouse\"\n\t\t\t\t\tthis.config.controlScheme = client.ControlSchemeType.LockedMouse;\n\t\t\t\t\tthis.iWebRtcController.activateRegisterMouse();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n\n\t/**\n\t * Set up url toggle buttons\n\t * @param toggleElement the toggle element being activated  \n\t * @param urlParameterKey the url key that is being made use of\n\t */\n\tsetUpToggleWithUrlParams(toggleElement: HTMLInputElement, urlParameterKey: string) {\n\t\tif (toggleElement) {\n\t\t\t//Check if the element has been set from the URL Params \n\t\t\ttoggleElement.checked = new URLSearchParams(window.location.search).has(urlParameterKey);\n\n\t\t\ttoggleElement.onchange = () => {\n\t\t\t\tconst urlParams = new URLSearchParams(window.location.search);\n\t\t\t\tif (toggleElement.checked === true) {\n\t\t\t\t\turlParams.set(urlParameterKey, \"true\");\n\t\t\t\t} else {\n\t\t\t\t\turlParams.delete(urlParameterKey);\n\t\t\t\t}\n\t\t\t\twindow.history.replaceState({}, '', urlParams.toString() !== \"\" ? `${location.pathname}?${urlParams}` : `${location.pathname}`);\n\t\t\t};\n\t\t}\n\t}\n\n\t/**\n\t * Disable shared session links for all players\n\t * @returns false\n\t */\n\tasync IsLinkSharingEnabled() {\n\t\treturn false;\n\t}\n\n\t/**\n\t * Handle when the Video has been Initialised\n\t */\n\tonVideoInitialised() {\n\t\t// starting a latency check\n\t\tdocument.getElementById(\"btn-start-latency-test\").onclick = () => {\n\t\t\tthis.iWebRtcController.sendLatencyTest();\n\t\t}\n\n\t\t// Set up overlay header functionality\n\t\tthis.viewSettingsHeader.onclick = () => {\n\t\t\tthis.viewSettingsContainer.classList.contains(\"d-none\") ? this.viewSettingsContainer.classList.remove(\"d-none\") : this.viewSettingsContainer.classList.add(\"d-none\")\n\t\t}\n\n\t\tthis.commandsHeader.onclick = () => {\n\t\t\tthis.commandsContainer.classList.contains(\"d-none\") ? this.commandsContainer.classList.remove(\"d-none\") : this.commandsContainer.classList.add(\"d-none\")\n\t\t}\n\n\t\tthis.streamingSettingsHeader.onclick = () => {\n\t\t\tthis.streamingSettingsContainer.classList.contains(\"d-none\") ? this.streamingSettingsContainer.classList.remove(\"d-none\") : this.streamingSettingsContainer.classList.add(\"d-none\")\n\t\t}\n\t\tthis.statsHeader.onclick = () => {\n\t\t\tthis.statsContainer.classList.contains(\"d-none\") ? this.statsContainer.classList.remove(\"d-none\") : this.statsContainer.classList.add(\"d-none\")\n\t\t}\n\t\tthis.latencyHeader.onclick = () => {\n\t\t\tthis.latencyContainer.classList.contains(\"d-none\") ? this.latencyContainer.classList.remove(\"d-none\") : this.latencyContainer.classList.add(\"d-none\")\n\t\t}\n\n\t\t// Reveal all the container\n\t\tthis.viewSettingsContainer.classList.remove(\"d-none\");\n\t\tthis.commandsContainer.classList.remove(\"d-none\");\n\t\tthis.streamingSettingsContainer.classList.remove(\"d-none\");\n\t\tthis.statsContainer.classList.remove(\"d-none\");\n\n\t\tthis.videoStartTime = Date.now();\n\t}\n\n\t/**\n\t * Extended from the base functionality; displays the text overlay and resets the buttons overlay upon disconnect \n\t * @param event \n\t */\n\tonDisconnect(event: CloseEvent) {\n\t\t// display the text overlay by calling its super method so it will use its default behavior first \n\t\tsuper.onDisconnect(event);\n\n\t\t// update all of the tools upon disconnect \n\t\tthis.onVideoEncoderAvgQP(-1);\n\n\t\t// starting a latency check\n\t\tdocument.getElementById(\"btn-start-latency-test\").onclick = () => { }\n\n\t\t// Set up overlay header functionality\n\t\tthis.viewSettingsHeader.onclick = () => { }\n\t\tthis.commandsHeader.onclick = () => { }\n\t\tthis.streamingSettingsHeader.onclick = () => { }\n\t\tthis.statsHeader.onclick = () => { }\n\t\tthis.latencyHeader.onclick = () => { }\n\n\t\t// Hide all the containers\n\t\tthis.viewSettingsContainer.classList.add(\"d-none\");\n\t\tthis.commandsContainer.classList.add(\"d-none\");\n\t\tthis.streamingSettingsContainer.classList.add(\"d-none\");\n\t\tthis.statsContainer.classList.add(\"d-none\");\n\t}\n\n\t/**\n\t * `Takes the InitialSettings and wired to frontend\n\t * @param settings - Settings sent from the UE Instance`\n\t */\n\tonInitialSettings(settings: client.InitialSettings): void {\n\t\tif (settings.Encoder) {\n\t\t\tthis.encoderMinQpText.value = settings.Encoder.MinQP.toString();\n\t\t\tthis.encoderMaxQpText.value = settings.Encoder.MaxQP.toString();\n\t\t}\n\t\tif (settings.WebRTC) {\n\t\t\tthis.webRtcMinBitrateText.value = settings.WebRTC.MinBitrate.toString();\n\t\t\tthis.webRtcMaxBitrateText.value = settings.WebRTC.MaxBitrate.toString();\n\t\t\tthis.webRtcFpsText.value = settings.WebRTC.FPS.toString();\n\t\t}\n\t}\n\n\t/**\n\t* Used to handle the Video Stats from the Peer Connection Client\n\t* @param stats - Stats generate from the Peer Connection Client\n\t*/\n\tonVideoStats(stats: client.AggregatedStats): void {\n\t\tlet runTime = new Date(Date.now() - this.videoStartTime).toISOString().substr(11, 8);\n\t\tlet statsText = \"\";\n\t\tlet inboundData = this.formatBytes(stats.inboundVideoStats.bytesReceived, 2);\n\n\t\tstatsText += `<div>Duration: ${runTime}</div>`;\n\t\tstatsText += `<div>Inbound Video Data Received: ${inboundData}</div>`;\n\t\tstatsText += `<div>Packets Lost: ${stats.inboundVideoStats.packetsLost}</div>`;\n\t\tstatsText += `<div>Bitrate (kbps): ${stats.inboundVideoStats.bitrate}</div>`;\n\t\tstatsText += `<div>Framerate: ${stats.inboundVideoStats.framerate}</div>`;\n\t\tstatsText += `<div>Frames dropped: ${stats.inboundVideoStats.framesDropped}</div>`;\n\t\tstatsText += `<div>Net RTT (ms): ${stats.candidatePair.currentRoundTripTime}</div>`;\n\t\tstatsText += `<div>Browser receive to composite (ms): ${stats.inboundVideoStats.receiveToCompositeMs}</div>`;\n\t\tstatsText += `<div>Video Quantization Parameter: ${this.videoEncoderAvgQP}</div>`;\n\n\t\t//document.getElementById(\"statsTitle\").style.display = \"\";\n\t\tlet statsDiv = document.getElementById(\"statisticsResult\");\n\t\tstatsDiv.innerHTML = statsText;\n\n\t\tif (this.logging) { client.Logger.verboseLog(`--------- Stats ---------\\n ${stats}\\n------------------------`) }\n\n\t\tif (this.sendStatsToServer.checked === true) {\n\t\t\tthis.iWebRtcController.sendStatsToSignallingServer(stats);\n\t\t}\n\t}\n\n\t/**\n\t* formats Bytes coming in for video stats\n\t* @param bytes number to convert\n\t* @param decimals number of decimal places\n\t*/\n\tformatBytes(bytes: number, decimals: number): string {\n\t\tif (bytes === 0) {\n\t\t\treturn \"0\";\n\t\t}\n\n\t\tconst factor: number = 1024;\n\t\tconst dm = decimals < 0 ? 0 : decimals;\n\t\tconst sizes = ['Bytes', 'KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB'];\n\n\t\tconst i = Math.floor(Math.log(bytes) / Math.log(factor));\n\n\t\treturn parseFloat((bytes / Math.pow(factor, i)).toFixed(dm)) + ' ' + sizes[i];\n\t}\n\n\t/**\n\t* Handles the result of the UE Latency Test\n\t* @param latencyTimings - Latency Test Timings sent from the UE Instance \n\t*/\n\tonLatencyTestResult(latencyTimings: client.LatencyTestResults): void {\n\t\tconsole.log(latencyTimings);\n\t\tlet latencyStatsInnerHTML = '';\n\t\tlatencyStatsInnerHTML += \"<div>Net latency RTT (ms): \" + latencyTimings.networkLatency + \"</div>\";\n\t\tlatencyStatsInnerHTML += \"<div>UE Encode (ms): \" + latencyTimings.EncodeMs + \"</div>\";\n\t\tlatencyStatsInnerHTML += \"<div>UE Capture (ms): \" + latencyTimings.CaptureToSendMs + \"</div>\";\n\t\tlatencyStatsInnerHTML += \"<div>Browser send latency (ms): \" + latencyTimings.browserSendLatency + \"</div>\";\n\t\tlatencyStatsInnerHTML += latencyTimings.frameDisplayDeltaTimeMs && latencyTimings.browserReceiptTimeMs ? \"<div>Browser receive latency (ms): \" + latencyTimings.frameDisplayDeltaTimeMs + \"</div>\" : \"\";\n\t\tlatencyStatsInnerHTML += \"<div>Total latency (excluding browser) (ms): \" + latencyTimings.latencyExcludingDecode + \"</div>\";\n\t\tlatencyStatsInnerHTML += latencyTimings.endToEndLatency ? \"<div>Total latency (ms): \" + latencyTimings.endToEndLatency + \"</div>\" : \"\";\n\n\t\tthis.latencyContainer.classList.remove(\"d-none\")\n\n\t\tdocument.getElementById(\"latencyStatsResults\").innerHTML = latencyStatsInnerHTML;\n\t}\n\n\t/**\n\t\t* \n\t\t* converts the Video Encoder QP to a colour light\n\t\t* @param QP - The video encoder QP number needed to find the average\n\t\t*/\n\tonVideoEncoderAvgQP(QP: number): void {\n\t\tthis.videoEncoderAvgQP = QP;\n\t\tthis.statusLight.style.color = QualityColour.None;\n\t\tthis.statusLight.title = \"QP: \" + QP;\n\n\t\tif (QP > QualityThresholds.Bad) {\n\t\t\tthis.statusLight.style.color = QualityColour.Bad;\n\t\t\tthis.statusLight.title += \" - Bad\";\n\t\t\tthis.BlinkVideoQualityStatus(2);\n\t\t} else if (QP > QualityThresholds.Spotty) {\n\t\t\tthis.statusLight.style.color = QualityColour.Spotty;\n\t\t\tthis.statusLight.title += \" - Spotty\";\n\t\t\tthis.BlinkVideoQualityStatus(1);\n\t\t} else if (QP < 0) {\n\t\t\tthis.statusLight.style.color = QualityColour.None;\n\t\t\tthis.statusLight.title += \" - Error\";\n\t\t\tconsole.error(\"Video Encoder QP can not be less then 0\");\n\t\t} else {\n\t\t\tthis.statusLight.title += \" - Good\";\n\t\t\tthis.statusLight.style.color = QualityColour.Good;\n\t\t}\n\t}\n\n\t/**\n\t * Handles when the ownership flag is sent from the signaling server\n\t * @param hasQualityOwnership - flag if the user has quality ownership\n\t */\n\tonQualityControlOwnership(hasQualityOwnership: boolean): void {\n\t\tthis.qualityControlOwnershipCheckBox.checked = hasQualityOwnership;\n\t}\n\n\t/**\n\t * used to set the speed of the status light\n\t * \n\t * @param speed - Set the speed of the blink if the status light higher the speed the faster the blink\n\t */\n\tBlinkVideoQualityStatus(speed: number) {\n\t\tlet iteration = speed;\n\t\tlet opacity = 1;\n\t\tlet tickID = setInterval(() => {\n\t\t\topacity -= 0.1;\n\t\t\tthis.statusLight.style.opacity = String(Math.abs((opacity - 0.5) * 2));\n\t\t\tif (opacity <= 0.1) {\n\t\t\t\tif (--iteration == 0) {\n\t\t\t\t\tclearInterval(tickID);\n\t\t\t\t} else {\n\t\t\t\t\topacity = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}, 100 / speed);\n\t}\n\n\n\n\t// ::START\n\tafkConnect() {\n\t\tthis.iWebRtcController.connectToSignallingSever()\n\t}\n\n\tsendEncoderSettings(payload: client.Encoder) {\n\t\tthis.iWebRtcController.sendEncoderSettings(payload)\n\t}\n\n\tsendWebRtcSettings(payload: client.WebRTC) {\n\t\tthis.iWebRtcController.sendWebRtcSettings(payload)\n\t}\n\t// ::END\n}\n\n/**\n * Used for Setting the colour of the Status Light\n */\nenum QualityColour {\n\tGood = \"lime\",\n\tSpotty = \"orange\",\n\tBad = \"red\",\n\tNone = \"black\"\n}\n\n/**\n * Used to set the Quality Thresholds of the Video Encoder QP\n */\nenum QualityThresholds {\n\tSpotty = 26,\n\tBad = 35,\n}\n\n\n/**\n * The static check to allow verbose logging\n */\nexport class LoggingOptions {\n\tstatic verboseLogging = false;\n}\n\n/**\n * The static image for the play button\n */\nexport class Images {\n\tstatic playButton: string = \"data:image/png;base64,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\"\n}\n","import * as React from 'react'\n\nimport { NativeDOMDelegate } from \"./NativeDOMDelegate\";\nimport * as client from 'unreal-pixel-streaming'\n\n// libs\nimport parse from 'url-parse'\n\nexport const { Logger, EventsClass } = client\n\n// declarations\ndeclare global {\n    interface Window {\n        RTCPlayer: any\n    }\n}\n\n// Determine whether a signalling server WebSocket URL was specified at compile-time or if we need to compute it at runtime\ninterface ClientBase {\n    streamingUrl: string;\n}\n\nexport interface psConfigSchema {\n    [key: string]: any,\n    enableVerboseLogging: boolean,\n    enableSpsAutoplay: boolean,\n    startVideoMuted: boolean,\n    controlScheme: client.ControlSchemeType,\n    suppressBrowserKeys: boolean,\n    fakeMouseWithTouches: boolean,\n}\n\nexport class ClientClass implements ClientBase {\n    streamingUrl: string\n    events: object\n    psConfig: psConfigSchema\n\n    constructor(streamingUrl: string, psConfig: psConfigSchema) {\n        this.streamingUrl = streamingUrl\n        this.psConfig = psConfig\n    }\n\n\n    init() {\n\n        // if (window.RTCPlayer) return window.RTCPlayer\n\n        // build the websocket endpoint based on the protocol used to load the frontend\n        const url_parsed = parse(this.streamingUrl, true);\n\n        // define our signallingServerProtocol to be used based on whether\n        // or not we're accessing our frontend via a tls\n        let signallingServerProtocol = 'ws:';\n        if (url_parsed.protocol === 'https:') {\n            signallingServerProtocol = 'wss:';\n        }\n\n        const signallingServerAddress = signallingServerProtocol + '//' + url_parsed.hostname\n\n        // Create a config object instance \n        const CreateConfig = (signalingAddress: string, playerElement: string) => {\n            let config = new client.Config(signalingAddress, playerElement);\n\n            // Config performer\n            const getCfg = (v: string, def: boolean | number) => {\n                const cfg = this.psConfig\n                if (typeof v === 'undefined' || !cfg.hasOwnProperty(v)) {\n                    return def\n                }\n                return cfg[v]\n            }\n\n            client.Config._enableVerboseLogging = getCfg('enableVerboseLogging', false)\n\n            config.enableSpsAutoplay = getCfg('enableSpsAutoplay', true)\n            config.startVideoMuted = getCfg('startVideoMuted', false)\n            config.controlScheme = getCfg('controlScheme', client.ControlSchemeType.HoveringMouse)\n            config.suppressBrowserKeys = getCfg('suppressBrowserKeys', true)\n            config.fakeMouseWithTouches = getCfg('fakeMouseWithTouches', true)\n\n            return config;\n        }\n\n        // Create a config object\n        let config = CreateConfig(signallingServerAddress, \"player\");\n\n        // Create a Native DOM delegate instance that implements the Delegate interface class\n        let delegate = new NativeDOMDelegate(config);\n\n        // Create and return a new webRtcPlayerController instance \n        let RTCPlayer = create(config, delegate);\n\n        // create takes in a delage interface type which our NativeDomDelegate class implements\n        function create(config: client.Config, delegate: client.IDelegate) {\n            return new client.webRtcPlayerController(config, delegate);\n        }\n\n        document.ontouchmove = (event: TouchEvent) => {\n            event.preventDefault();\n        }\n\n        // Apply client to window\n        window.RTCPlayer = RTCPlayer\n        return RTCPlayer\n\n    }\n\n}\n\nexport const ClientAccess = new class {\n\n    // Quck access to WebRTC object\n    get client() {\n        const RTCPlayer = window.RTCPlayer\n\n        // Check if WebRTC object connected\n        if (!RTCPlayer?.ueDescriptorUi) return null\n\n        return RTCPlayer\n    }\n\n    clientCb(cb: Function) {\n        if (this.client) cb(this.client)\n    }\n\n    connect(): void {\n        this.clientCb((cl: any) => {\n            cl.delegate.afkConnect()\n        })\n    }\n\n    close(): void {\n        this.clientCb((cl: any) => {\n            cl.afkLogic.closeWebSocket()\n        })\n    }\n\n    emitCommand(command: string, value: any): void {\n        if (!this.client) return\n        Logger.verboseLog(`emitCommand()\\n` + JSON.stringify({ command, value }, null, 4))\n        return this.client.ueDescriptorUi.emitCommand(command, value)\n    }\n\n    emitCommandSystem(command: string, payload: any): void {\n        if (!this.client) return\n        Logger.verboseLog(`emitCommandSystem()\\n` + JSON.stringify({ command, payload }, null, 4))\n        return this.client.ueDescriptorUi.emitCommandSystem(command, payload)\n    }\n\n    emitConsole(payload: string): void {\n        if (!this.client) return\n        Logger.verboseLog(`EmitConsole()\\n` + JSON.stringify(payload, null, 4))\n        return this.client.ueDescriptorUi.emitConsole(payload)\n    }\n\n    // sendEncoderSettings(payload: client.Encoder) {\n    //     if (!this.client) return\n    //     return this.client.iWebRTCController.sendEncoderSettings(payload)\n    // }\n\n    // sendWebRtcSettings(payload: client.WebRTC) {\n    //     if (!this.client) return\n    //     return this.client.iWebRTCController.sendWebRtcSettings(payload)\n    // }\n\n    restartStreamAutomaticity(): void {\n        Logger.verboseLog(`restartStreamAutomaticity()`)\n\n        this.clientCb((cl: any) => {\n            cl.iWebRTCController.restartStreamAutomaticity();\n        })\n    }\n\n\n}\n\n","import * as React from \"react\"\n\n// pixel-streaming\nimport { EventsClass } from '../../client/'\n\n// libs\nimport moment from 'moment';\n\n\nconst initialState: any = {\n  commands_list: [],\n  callbacks_list: [],\n  config: {\n    streamingUrl: null,\n    secondsToKill: null,\n    secondsToKillLeft: null,\n    secondsToStart: null,\n    autoRestart: null,\n  },\n  psConfig: null,\n  ueSettings: {\n    initial: null,\n    onStart: null,\n  },\n  playerSettings: {\n    volume: 1,\n  },\n  webrtcData: {\n    status: null,\n    statusUpdatedAt: null,\n    errorCode: null,\n    autoplaySupport: null,\n  },\n  mouseEvent: {\n    moving: false,\n  },\n};\n\nconst KEY = {\n  UPDATE: 'UPDATE',\n  UPDATE_CONFIG: 'UPDATE_CONFIG',\n  UPDATE_PS_CONFIG: 'UPDATE_PS_CONFIG',\n  UPDATE_UE_SETTINGS_INITIAL: 'UPDATE_UE_SETTINGS_INITIAL',\n  UPDATE_UE_SETTINGS_ONSTART: 'UPDATE_UE_SETTINGS_ONSTART',\n  UPDATE_PLAYER_SETTINGS: 'UPDATE_PLAYER_SETTINGS',\n  WEBRTC_STATUS: 'WEBRTC_STATUS',\n  COMMANDS_LIST: 'COMMANDS_LIST',\n  CALLBACKS_LIST: 'CALLBACKS_LIST',\n  COMMAND_CONFIRMATION: 'COMMAND_CONFIRMATION',\n  MOUSE_EVENT: 'MOUSE_EVENT',\n}\n\n\nfunction reducer(state: any, action: any) {\n  const { type, payload: anValue } = action;\n  // console.log(state);\n\n  if (type === KEY.UPDATE) {\n\n    return { ...state, ...anValue };\n\n  } else if (type === KEY.UPDATE_CONFIG) {\n    state.config = {\n      ...state.config,\n      ...anValue,\n    }\n\n    return { ...state };\n\n  } else if (type === KEY.UPDATE_PS_CONFIG) {\n    state.psConfig = {\n      ...state.psConfig,\n      ...anValue,\n    }\n\n    return { ...state };\n\n  } else if (type === KEY.UPDATE_UE_SETTINGS_INITIAL) {\n    state.ueSettings.initial = {\n      ...state.ueSettings.initial,\n      ...anValue,\n    }\n\n    return { ...state };\n\n  } else if (type === KEY.UPDATE_UE_SETTINGS_ONSTART) {\n    state.ueSettings.onStart = {\n      ...state.ueSettings.onStart,\n      ...anValue,\n    }\n\n    return { ...state };\n\n\n  } else if (type === KEY.UPDATE_PLAYER_SETTINGS) {\n\n    state.playerSettings = {\n      ...state.playerSettings,\n      ...anValue,\n    }\n\n    return { ...state };\n\n  } else if (type === KEY.WEBRTC_STATUS) {\n\n    // Show errorCode only in cases when status is error||disconnected\n    const status = EventsClass.webrtcStatusList\n    if (![status.disconnected, status.error].includes(anValue?.status)) {\n      anValue.errorCode = null\n    }\n\n    // Checking autoplay support\n    if (anValue?.status == status.initialized_no_autoplay) {\n      anValue.status = status.initialized\n      anValue.autoplaySupport = false\n    } else if (anValue?.status == status.initialized) {\n      anValue.autoplaySupport = true\n    }\n\n    state.webrtcData = {\n      ...state.webrtcData,\n      ...anValue,\n      statusUpdatedAt: moment().utc()\n    }\n\n    return { ...state };\n\n  } else if (type === KEY.COMMANDS_LIST) {\n    anValue.confirmed = false\n    return eventInjection(state, 'commands_list', anValue)\n\n  } else if (type === KEY.CALLBACKS_LIST) {\n    return eventInjection(state, 'callbacks_list', anValue)\n\n  } else if (type === KEY.COMMAND_CONFIRMATION) {\n    return commandConfirmation(state, anValue)\n\n  } else if (type === KEY.MOUSE_EVENT) {\n\n    const key = anValue?.variant\n    if (key) {\n\n      if (key === 'moveStart') {\n        state.mouseEvent.moving = true\n        return { ...state };\n      } else if (key === 'moveStop') {\n        state.mouseEvent.moving = false\n        return { ...state };\n      }\n\n    }\n\n  }\n\n  return state;\n}\n\n\n// Mark command as confirmed by callback\nconst commandConfirmation = (state: any, verification_id: any) => {\n  for (let i in state.commands_list) {\n    const item = state.commands_list[i]\n    if (item?.verification_id === verification_id) {\n      state.commands_list[i].confirmed = true\n      return { ...state }\n    }\n  }\n\n  return state\n}\n\n\n// Add item if verification_id doesnt exist in state\nconst eventInjection = (state: any, key: string, anValue: any) => {\n  const list = state[key] || []\n\n  // Dont save system commands from emitCommandSystem()\n  if (!anValue?.verification_id || anValue?.initiator === 'system') {\n    return state\n  }\n\n  let allow = true\n  for (let item of list) {\n    if (!item?.verification_id || !anValue?.verification_id) {\n      allow = false\n    }\n    if (item.verification_id == anValue.verification_id) {\n      allow = false\n      break;\n    }\n  }\n\n  if (allow) {\n    const res = [anValue, ...list].filter((o, index) => index < 100)\n    state[key] = res\n    window[key] = res // hack for emitAsyncCommand\n\n    return { ...state }\n  }\n\n  return state\n}\n\n\n\nconst parseJson = (data: any) => {\n  try {\n    return JSON.parse(data)\n  } catch (err) {\n    console.error('@@@cant parse json', data)\n  }\n  return undefined\n}\n\n\nexport const useDispatch = () => {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n\n  /**\n   * Events useCallback's wrapper for state updates\n   */\n  const eventCommand = React.useCallback(({ detail }: any) => {\n    const payload = parseJson(detail)\n    dispatch({ type: KEY.COMMANDS_LIST, payload })\n  }, [state]);\n\n  const eventCallbacks = React.useCallback(({ detail }: any) => {\n    const payload = parseJson(detail)\n    cls.commandConfirmation(payload?.verification_id)\n    dispatch({ type: KEY.CALLBACKS_LIST, payload })\n  }, [state]);\n\n  const eventMouse = React.useCallback(({ detail }: any) => {\n    const payload = detail\n    dispatch({ type: KEY.MOUSE_EVENT, payload })\n  }, [state]);\n\n  const eventWebrtcStatus = React.useCallback(({ detail }: any) => {\n    cls.updateWebrtcData(detail)\n  }, [state]);\n\n  const eventUeSettingsInitial = React.useCallback(({ detail }: any) => {\n    const payload = detail\n    dispatch({ type: KEY.UPDATE_UE_SETTINGS_INITIAL, payload })\n  }, [dispatch]);\n\n  const cls = new class {\n\n    update(payload: any) {\n      dispatch({ type: KEY.UPDATE, payload })\n    }\n\n    updateConfig(payload: any) {\n      dispatch({ type: KEY.UPDATE_CONFIG, payload })\n    }\n\n    updatePsConfig(payload: any) {\n      dispatch({ type: KEY.UPDATE_PS_CONFIG, payload })\n    }\n\n    updateUeSettingsOnStart(payload: any) {\n      dispatch({ type: KEY.UPDATE_UE_SETTINGS_ONSTART, payload })\n    }\n\n    updatePlayerSettings(payload: any) {\n      dispatch({ type: KEY.UPDATE_PLAYER_SETTINGS, payload })\n    }\n\n    commandConfirmation(payload: any) {\n      dispatch({ type: KEY.COMMAND_CONFIRMATION, payload })\n    }\n\n    updateWebrtcData(payload: any) {\n      dispatch({ type: KEY.WEBRTC_STATUS, payload })\n    }\n  }\n\n  const eventHandler = {\n    eventCommand,\n    eventCallbacks,\n    eventMouse,\n    eventWebrtcStatus,\n    eventUeSettingsInitial,\n  }\n\n  return [state, cls, eventHandler]\n}\n\n","import * as React from \"react\"\n\n\nconst initialState: any = {\n  apiKey: null,\n  buildId: null,\n  devBar: {\n    slug: null,\n  },\n  sessionData: null,\n  metaData: null,\n  metaConfig: {\n    showToolbar: true,\n    showQuickMenu: false,\n    showDevBar: true,\n    showOverlay: true,\n    notifications: {\n      showCommands: true,\n      showCallbacks: true,\n      placement: 'topStart',\n    },\n    videoUrl: null,\n    issuesUrl: null,\n  }\n};\n\nconst KEY = {\n  UPDATE: 'UPDATE',\n  UPDATE_DEVBAR: 'UPDATE_DEVBAR',\n  UPDATE_METACONFIG: 'UPDATE_METACONFIG',\n  UPDATE_NOTIFICATION_SETTINGS: 'UPDATE_NOTIFICATION_SETTINGS',\n  UPDATE_SESSION_DATA: 'UPDATE_SESSION_DATA',\n}\n\n\nconst reducer = (state: any, action: any): any => {\n  const { type, payload: anValue } = action;\n  // console.log(state);\n\n  if (type === KEY.UPDATE) {\n\n    return { ...state, ...anValue };\n\n  } else if (type === KEY.UPDATE_DEVBAR) {\n    state.devBar = {\n      ...state.devBar,\n      ...anValue,\n    }\n\n    return { ...state };\n\n  } else if (type === KEY.UPDATE_METACONFIG) {\n    state.metaConfig = {\n      ...state.metaConfig,\n      ...anValue,\n    }\n\n    return { ...state };\n\n  } else if (type === KEY.UPDATE_NOTIFICATION_SETTINGS) {\n    state.metaConfig.notifications = {\n      ...state.metaConfig.notifications,\n      ...anValue,\n    }\n\n    return { ...state };\n\n  } else if (type === KEY.UPDATE_SESSION_DATA) {\n    state.sessionData = {\n      ...state.sessionData,\n      ...anValue,\n    }\n\n    return { ...state };\n  }\n\n  return state;\n}\n\n\n\nexport const useDispatch: any = () => {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n\n  const cls = new class {\n\n    update(payload: JSON) {\n      dispatch({ type: KEY.UPDATE, payload })\n    }\n\n    updateDevBar(payload: JSON) {\n      dispatch({ type: KEY.UPDATE_DEVBAR, payload })\n    }\n\n    updateMetaConfig(payload: JSON) {\n      dispatch({ type: KEY.UPDATE_METACONFIG, payload })\n    }\n\n    updateNotificationSettings(payload: JSON) {\n      dispatch({ type: KEY.UPDATE_NOTIFICATION_SETTINGS, payload })\n    }\n\n    updateSessionData(payload: JSON) {\n      dispatch({ type: KEY.UPDATE_SESSION_DATA, payload })\n    }\n\n  }\n\n\n  return [state, cls]\n}\n\n","import * as React from 'react'\n\n// libs\nimport parse from 'url-parse'\n\n// package.json\nimport packageJson from '../../package.json'\n\n\nexport const config = new class {\n  isDev: boolean\n  version: string\n  systemName: string\n  websiteUrl: string\n  apiUrl: string\n  portalUrl: string\n  updateUrl: string\n\n  constructor() {\n    this.isDev = process.env.NODE_ENV === 'development'\n    this.version = packageJson.version\n    this.systemName = 'MetaEditor'\n    this.websiteUrl = 'https://metaeditor.io'\n\n    this.apiUrl = 'https://api.metaeditor.io'\n    if (this.isDev) {\n      // this.apiUrl = 'http://127.0.0.1:8000'\n    }\n\n    this.portalUrl = 'https://portal.metaeditor.io'\n    this.updateUrl = 'https://metaeditor.io/docs/pixel-streaming/settings/update'\n  }\n\n\n  get portal() {\n    const url_parsed: any = parse(this.portalUrl, true);\n    return {\n      name: url_parsed.hostname,\n      url: this.portalUrl,\n      urlProjects: this.portalUrl + '/user/projects/'\n    }\n  }\n\n}","/**\n * Usage:\n * \n Request.GET(url='https://...').then(res => {\n  if(res.status === 200) {\n    console.log(res.body)\n  }\n}).catch(err => {\n  console.error(err)\n})\n */\n\nimport * as React from 'react'\n\n// config\nimport { config } from '../../assets/config'\n\n\nexport const Request = new class {\n\n  urlBuilder(route: string) {\n    return `${config.apiUrl}/api` + route\n  }\n\n  async request(method: string, url: string, getOptions: any = {}) {\n\n    url = this.urlBuilder(url)\n\n    let options = {\n      method,\n      mode: 'cors',\n      ...getOptions,\n    }\n\n    options.headers = new Headers({\n      ...options.headers,\n      'Origin': '',\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n    })\n\n    // body preparations\n    if (method === 'POST' && options.body) {\n      try { options.body = JSON.stringify(options.body) } catch (err) {\n        console.error('Request', { method, err })\n      }\n    }\n\n    try {\n      const response = await fetch(url, options);\n      const responseJson = await response.json();\n      return {\n        ok: response.status === 200,\n        status: response.status,\n        body: responseJson,\n      }\n    } catch (error) {\n      console.error('Request', { error });\n      return {\n        status: 0,\n        error,\n      };\n    }\n\n  }\n\n  async GET(url: string, options?: any) {\n    return await this.request('GET', url, options);\n  }\n\n  async POST(url: string, body: any, options?: any) {\n    return await this.request('POST', url, { body, ...options });\n  }\n\n  async DELETE(url: string, options?: any) {\n    return await this.request('DELETE', url, options);\n  }\n}\n\n\n\n","import * as React from 'react'\n\n// hooks\nimport { Request } from './useRequest'\n\n\nexport const useApi = () => {\n\n  const cls = new class {\n    constructor() { }\n\n\n    sessionRead(sessionUuid: string) {\n      return Request.GET('/streams_provider/session/read/' + sessionUuid)\n    }\n\n    sessionCreate(build_id: any) {\n      return Request.POST('/streams_provider/session/create/', { build_id })\n    }\n\n    getMetaeditorData(apiKey?: string) {\n      const headers = {\n        'x-metaeditor-apikey': apiKey,\n      }\n      return Request.GET('/info/metaeditor/', { headers })\n    }\n  }\n\n  return cls\n}\n","import * as React from 'react'\n\n\nexport const dispatchEvent = (eventName: string, payload: unknown, element: any = document) => {\n  element.dispatchEvent(new CustomEvent(eventName, payload));\n}\n\nexport const useEventListener = (eventName: string, handler: Function, element: any = document) => {\n  // Create a ref that stores handler\n  const savedHandler = React.useRef<any>();\n  // Update ref.current value if handler changes.\n  // This allows our effect below to always get latest handler ...\n  // ... without us needing to pass it in effect deps array ...\n  // ... and potentially cause effect to re-run every render.\n  React.useEffect(() => {\n    savedHandler.current = handler;\n  }, [handler]);\n\n  React.useEffect(\n    () => {\n      // Make sure element supports addEventListener\n      // On\n      const isSupported = element && element.addEventListener;\n      if (!isSupported) return;\n      // Create event listener that calls handler function stored in ref\n      const eventListener = (event: any) => savedHandler.current(event);\n      // Add event listener\n      element.addEventListener(eventName, eventListener);\n      // Remove event listener on cleanup\n      return () => {\n        element.removeEventListener(eventName, eventListener);\n      };\n    },\n    [eventName, element] // Re-run if eventName or element changes\n  );\n}","// type StorageType = 'session' | 'local';\n// type UseStorageReturnValue = {\n//   getItem: (key: string, type?: StorageType) => string;\n//   setItem: (key: string, value: string, type?: StorageType) => boolean;\n//   removeItem: (key: string, type?: StorageType) => void;\n// };\n\nimport * as React from 'react'\n\n// declarations\ndeclare global {\n  interface Window {\n    [key: string]: any\n  }\n}\n\nexport const useStorage = () => {\n  const storageType = (type?: string) => `${type ?? 'session'}Storage`;\n\n  const isBrowser = typeof window !== 'undefined'\n\n  const getItem = (key: string, type?: string) => {\n\n    let value = window[storageType(type)][key]\n\n    // If value is object\n    try {\n      value = JSON.parse(value)\n    } catch (err) { }\n\n    return isBrowser ? value : '';\n  };\n\n  const setItem = (key: string, value: any, type?: string) => {\n    if (isBrowser) {\n\n      // If value is object\n      if (typeof value === 'object') {\n        try {\n          value = JSON.stringify(value)\n        } catch (err) {\n          console.error('Can\\'t serialize data', err)\n        }\n      }\n\n      window[storageType(type)].setItem(key, value);\n      return true;\n    }\n\n    return false;\n  };\n\n  const removeItem = (key: string, type?: string) => {\n    window[storageType(type)].removeItem(key);\n  };\n\n  const wrapper = (STORAGE_KEY: string, type?: string) => {\n    return {\n      read: async (cb?: Function) => {\n        const stored_data = await getItem(STORAGE_KEY, type)\n        if (typeof cb === 'function') {\n          cb(stored_data || null)\n          return stored_data\n        }\n      },\n      save: (data: string | JSON) => {\n        setItem(STORAGE_KEY, data, type)\n      },\n      remove: () => {\n        removeItem(STORAGE_KEY, type)\n      }\n    }\n  }\n\n  return {\n    getItem,\n    setItem,\n    removeItem,\n    wrapper,\n  };\n};\n\nexport default useStorage;\n","import * as React from 'react'\n\nimport useStorage from './useStorage'\n\nexport const useStorageBook = () => {\n  const storage = useStorage()\n\n  const cls = new class {\n\n    get apiKey() {\n      return storage.wrapper('API_KEY', 'local')\n    }\n\n    get sessionUuid() {\n      return storage.wrapper('SESSION_UUID', 'session')\n    }\n\n  }\n\n  return cls\n}","import * as React from 'react'\n\n// pixel-streaming\nimport { Logger } from 'unreal-pixel-streaming'\n\n// hooks\nimport { useApi } from \"../../../hooks/useApi\"\nimport { useStorageBook } from '../../../hooks/useStorageBook'\n\nconst API_INTERVAL_SEC = 3\n\nexport const useBuildConnector = (dispatch: any) => {\n  const api = useApi()\n  const storageBook = useStorageBook()\n\n  const refInterval = React.useRef<any>(null)\n\n  const [buildId, setBuildId] = React.useState<any>(false)\n  const [sessionUuid, setSessionUuid] = React.useState<any>(false)\n\n  React.useEffect(() => {\n    return () => {\n      clearInterval(refInterval.current)\n    }\n  }, [])\n\n  React.useEffect(() => {\n\n    if (sessionUuid) {\n      clearInterval(refInterval.current)\n      cls.readSessionData()\n\n      refInterval.current = setInterval(async () => {\n        await cls.readSessionData()\n      }, 1000 * API_INTERVAL_SEC)\n\n    }\n\n  }, [sessionUuid])\n\n\n  const cls = new class {\n\n    async start(buildId: string) {\n      setBuildId(buildId)\n\n      if (!this.urlSessionExist) {\n        await this.waitSessionData(buildId)\n      }\n    }\n\n    get urlSessionExist() {\n      const params = decodeURI(window.location.search)\n        .replace('?', '')\n        .split('&')\n        .map(param => param.split('='))\n        .reduce((values: any, [key, value]) => {\n          values[key] = value\n          return values\n        }, {})\n\n      if (params?.session) {\n        setSessionUuid(params.session)\n        storageBook.sessionUuid.save(params.session)\n        return true\n      }\n\n      return false\n    }\n\n    async waitSessionData(buildId: string) {\n\n      storageBook.sessionUuid.read((res: any) => {\n        if (res) {\n          setSessionUuid(res)\n          return\n        }\n      })\n\n      await api.sessionCreate(buildId).then(async res => {\n        if (res.ok) {\n          const { uuid } = res.body\n          if (uuid) {\n            setSessionUuid(uuid)\n            storageBook.sessionUuid.save(uuid)\n          }\n        }\n        return false\n      }).catch(err => {\n        throw new Error(err);\n      })\n    }\n\n    removeSession() {\n      Logger.infoLog('Remove session & reinit');\n      setSessionUuid(false)\n      storageBook.sessionUuid.remove()\n      clearInterval(refInterval.current)\n      this.waitSessionData(buildId)\n    }\n\n    async readSessionData() {\n      await api.sessionRead(sessionUuid).then(res => {\n        if (res.ok) {\n          const { stream_data } = res.body\n          // const { host, port, que, seconds_to_kill, seconds_to_start, status } = stream_data\n          // const streamingUrl = stream_data.host\n          // const secondsToStart = stream_data.seconds_to_start\n          // const secondsToKill = stream_data.seconds_to_kill\n          const status = stream_data.status\n\n          // console.log('@@status', status)\n          // console.log('@@secondsToStart', secondsToStart)\n\n          const sessionData = res.body\n          const apiKey = sessionData.metadata?.api_key\n          if (apiKey) {\n            dispatch.update({ apiKey })\n          }\n\n          dispatch.updateSessionData(sessionData)\n\n          if (status === 'active') {\n            clearInterval(refInterval.current)\n          }\n\n        } else {\n          this.removeSession()\n        }\n\n      }).catch(err => {\n        throw new Error(err);\n      })\n    }\n  }\n\n  return cls\n}","\nimport * as React from 'react';\n\n// config\nimport { config } from '../../../assets/config';\n\nexport const useVersionCompare = () => {\n\n  const compare = (a: string, b: string) => {\n    if (a === b) {\n      return 0;\n    }\n\n    var a_components = a.split('.')\n    var b_components = b.split('.')\n\n    var len = Math.min(a_components.length, b_components.length);\n\n    // loop while the components are equal\n    for (var i = 0; i < len; i++) {\n      // A bigger than B\n      if (parseInt(a_components[i]) > parseInt(b_components[i])) {\n        return 1;\n      }\n\n      // B bigger than A\n      if (parseInt(a_components[i]) < parseInt(b_components[i])) {\n        return -1;\n      }\n    }\n\n    // If one's a prefix of the other, the longer one is greater.\n    if (a_components.length > b_components.length) {\n      return 1;\n    }\n\n    if (a_components.length < b_components.length) {\n      return -1;\n    }\n\n    // Otherwise they are the same.\n    return 0;\n  }\n\n  const result = (current: string, release: string) => {\n\n    const transform = (v: string) => v.match(/\\d+/g).join('.')\n\n    current = transform(current)\n    release = transform(release)\n\n    const status = compare(current, release)\n\n    return {\n      current,\n      release,\n      status,\n      update: status < 0,\n    }\n  }\n\n  return (release: string) => result(config.version, release)\n\n}\n\n","import * as React from \"react\"\n\n// // context\n// import { useSystem } from '../../../context/'\n\n// ui\nimport Notification from 'rsuite/Notification';\nimport toaster from 'rsuite/toaster';\n\n// pixel-streaming\nimport * as client from 'unreal-pixel-streaming'\n\n// // components\n// import JsonViewer from '../../../components/JsonViewer'\n\n\nexport const useNotifier = () => {\n  const refCommand = React.useRef<any>(null)\n  const refCallback = React.useRef<any>(null)\n\n\n  const cls = new class {\n\n    // Hide system messages\n    public restricted(payload: any) {\n      if (['browser', 'ue'].includes(payload?.initiator)) {\n        return false\n      }\n      return true\n    }\n\n    getValue(detail: string) {\n      try {\n        return JSON.parse(detail)\n      } catch (err) {\n        console.error('@@@Cant parse event', { detail })\n      }\n    }\n\n    pushCommand(placement: any, event: any) {\n      const payload: client.IBodyCommand = this.getValue(event.detail)\n      if (this.restricted(payload)) return\n\n      const message = (\n        <Notification type={undefined} header={payload?.command} closable>\n          {/* <JsonViewer data={data} style={{\n          maxHeight: 100,\n          overflow: 'auto'\n        }} /> */}\n        </Notification>\n      );\n\n      // toaster.remove(refCommand.current)\n      refCommand.current = toaster.push(message, { placement })\n\n    }\n\n    pushCallback(placement: any, event: any) {\n      const payload: client.IBodyCallback = this.getValue(event.detail)\n      if (this.restricted(payload)) return\n\n      const message = (\n        <Notification type='success' header={payload?.command} closable>\n          {/* <JsonViewer data={data} style={{\n          maxHeight: 100,\n          overflow: 'auto'\n        }} /> */}\n        </Notification>\n      );\n\n      refCallback.current = toaster.push(message, { placement })\n    }\n  }\n\n  return cls\n}","import * as React from 'react'\n\n// reducer\nimport { useDispatch } from \"./useReducer\";\n\n// pixel-streaming\nimport { EventsClass as Ev } from '../../client/'\n\n// hooks\nimport { useApi } from '../../hooks/useApi';\nimport { useEventListener } from '../../hooks/useEventListener';\nimport { useBuildConnector } from './hooks/useBuildConnector';\nimport { useStorageBook } from '../../hooks/useStorageBook';\nimport { useVersionCompare } from './hooks/useVersionCompare';\nimport { useNotifier } from './hooks/useNotifier'\n\n\nexport const useActions = () => {\n  const [state, dispatch] = useDispatch()\n\n  const api = useApi()\n  const notifier = useNotifier()\n  const storageBook = useStorageBook()\n  const versionCompare = useVersionCompare()\n\n\n  // Fetch streaming session by buildId\n  const buildConnector = useBuildConnector(dispatch)\n\n\n  // Notification settings\n  useEventListener(Ev.commands.key, (payload: any) => {\n    if (!notifications.showCommands) return\n    notifier.pushCommand(notifications.placementValue, payload)\n  });\n  useEventListener(Ev.callbacks.key, (payload: any) => {\n    if (!notifications.showCallbacks) return\n    notifier.pushCallback(notifications.placementValue, payload)\n  });\n\n  /**\n   * First initialization\n   */\n  React.useEffect(() => {\n\n    // Load data by Api Key\n    storageBook.apiKey.read((v: any) => {\n      if (v) cls.loadData(v)\n    })\n\n  }, [])\n\n  /**\n   * loadData if apiKey applied\n   */\n  React.useEffect(() => {\n\n    if (state.apiKey) {\n      cls.loadData()\n    }\n\n  }, [state.apiKey])\n\n  const cls = new class {\n\n    initMetaConfig(payload: any) {\n      dispatch.updateMetaConfig(payload)\n    }\n\n    setApiKey(apiKey: string) {\n      dispatch.update({ apiKey })\n    }\n\n    get apiKeyIsCorrect() {\n      return state.apiKey ? true : false\n    }\n\n    async loadData(apiKey: string | null = state.apiKey) {\n      return await api.getMetaeditorData(apiKey).then(res => {\n        if (res.ok) {\n          const metaData = res.body\n          dispatch.update({ metaData })\n          storageBook.apiKey.save(apiKey)\n          return true\n        } else {\n          dispatch.update({ apiKey: null })\n          storageBook.apiKey.remove()\n        }\n        return false\n      })\n    }\n\n    get commands_system() {\n      const list = state.metaData?.commands_system\n      if (!Array.isArray(list)) return []\n      return list\n    }\n\n    get commands_project() {\n      const list = state.metaData?.commands_project\n      if (!Array.isArray(list)) return []\n      return list\n    }\n\n    connectBuild(buildId: string) {\n      dispatch.update({ buildId })\n      buildConnector.start(buildId)\n    }\n\n    get streamingUrl() {\n      if (this.sessionData) {\n        return this.sessionData.streamingUrl\n      }\n      return false\n    }\n\n    get sharedUrl() {\n      if (!this.sessionData) return false\n      const sessionUuid: string = this.sessionData?.uuid\n      const { protocol, host, pathname } = document.location\n      return `${protocol}//${host}${pathname}?session=${sessionUuid}`\n    }\n\n    get sessionData() {\n\n      if (state.sessionData) {\n        const { stream_data, uuid } = state.sessionData\n\n        return {\n          uuid,\n          streamingUrl: stream_data.host,\n          status: stream_data.status,\n          secondsToStart: stream_data.seconds_to_start,\n          // secondsToKill: stream_data.seconds_to_kill,\n        }\n      }\n\n      return false\n    }\n\n    get apiData() {\n      if (state.sessionData) {\n        const { error, module_version } = state.metaData?.api_data\n\n        return {\n          error,\n          module: versionCompare(module_version),\n        }\n      }\n\n      return false\n    }\n  }\n\n  const project = new class {\n    get exist() {\n      return state.metaData ? true : false\n    }\n\n    get name() {\n      return state.metaData?.project?.info?.name\n    }\n\n    get menu() {\n      return state.metaData?.menu || []\n    }\n\n    get config() {\n      return state.metaData?.project?.info?.config || false\n    }\n  }\n\n  const config = new class {\n    get showToolbar() {\n      return state.metaConfig.showToolbar\n    }\n    get showQuickMenu() {\n      return state.metaConfig.showQuickMenu\n    }\n    get showDevBar() {\n      return state.metaConfig.showDevBar\n    }\n    get helpers() {\n      return {\n        keyboard: state.metaConfig.helpers.keyboard\n      }\n    }\n\n    get showOverlay() {\n      return state.metaConfig.showOverlay\n    }\n    get issuesUrl() {\n      return state.metaConfig.issuesUrl\n    }\n    get videoUrl() {\n      return state.sessionData?.metadata?.video_url || state.metaConfig.videoUrl\n    }\n  }\n\n  const notifications = new class {\n    get showCommands() {\n      return state.metaConfig.notifications.showCommands\n    }\n    get showCallbacks() {\n      return state.metaConfig.notifications.showCallbacks\n    }\n    get placementsList() {\n      return [\n        { label: 'topStart', value: 'topStart' },\n        { label: 'topCenter', value: 'topCenter' },\n        { label: 'topEnd', value: 'topEnd' },\n        { label: 'bottomStart', value: 'bottomStart' },\n        { label: 'bottomCenter', value: 'bottomCenter' },\n        { label: 'bottomEnd', value: 'bottomEnd' }\n      ]\n    }\n    get placementValue() {\n      return state.metaConfig.notifications.placement\n    }\n    updatePlacement(placement: string) {\n      dispatch.updateNotificationSettings({ placement })\n    }\n    updateCommands(showCommands: boolean) {\n      dispatch.updateNotificationSettings({ showCommands })\n    }\n    updateCallbacks(showCallbacks: boolean) {\n      dispatch.updateNotificationSettings({ showCallbacks })\n    }\n  }\n\n  return {\n    state,\n    dispatch,\n    cls,\n    config,\n    project,\n    notifications,\n  }\n};\n\n","import * as React from \"react\"\n\nexport const AppContext = React.createContext<Partial<any>>({});\nexport const useSystem = () => React.useContext(AppContext)\n\n// classes\nimport { useActions } from './useActions'\n\nconst Provider = (props: any) => {\n\tconst actions = useActions();\n\n\treturn (\n\t\t<AppContext.Provider value={actions}>\n\t\t\t{props.children}\n\t\t</AppContext.Provider>\n\t);\n};\n\n\nexport default Provider","import * as React from 'react';\n\nimport { ClientAccess } from '../../../client/'\n\n// hooks\nimport { useEventListener } from '../../../hooks/useEventListener';\n\n\nexport const useResolution = (ConsoleSettings: any) => {\n\n\tconst refTimer = React.useRef<any>(null)\n\n\t// Initialize state with undefined width/height so server and client renders match\n\tconst [state, setState] = React.useState<any>({\n\t\twidth: 0,\n\t\theight: 0,\n\t});\n\n\t// Handler to call on window resize\n\tconst handleResize = () => {\n\n\t\t// Set window width/height to state\n\n\t\tconst width = window.innerWidth\n\t\tconst height = window.innerHeight\n\n\t\tsetState({ width, height });\n\n\t\t// Set for css\n\t\tconst doc = document.documentElement\n\t\tdoc.style.setProperty(\"--window-width\", window.innerWidth + 'px');\n\t\tdoc.style.setProperty(\"--window-height\", window.innerHeight + 'px');\n\n\t\t// Set object-fit for player dependes on highest resolution side\n\t\tconst objectFit = width > height ? 'unset' : 'fill'\n\t\tdoc.style.setProperty(\"--player-object-fit\", objectFit);\n\n\t\t// Update resolution of pixel-streaming\n\t\tcls.updateWebrtcResolution(width, height)\n\n\t}\n\n\tuseEventListener('resize', handleResize, window)\n\n\n\tconst cls = new class {\n\n\t\t// will be called after the stream activation\n\t\tresize() {\n\t\t\thandleResize()\n\t\t}\n\n\t\t// screen resolution options\n\t\tasync updateWebrtcResolution(width: number, height: number) {\n\n\t\t\tclearTimeout(refTimer.current)\n\n\t\t\tconst emitConsole = (payload: any) => ClientAccess.emitConsole(payload)\n\t\t\tconst emitCmd = (command: string, payload: any) => ClientAccess.emitCommandSystem(command, payload)\n\n\t\t\trefTimer.current = setTimeout(() => {\n\n\t\t\t\t// https://docs.unrealengine.com/5.0/en-US/unreal-engine-pixel-streaming-reference/\n\n\t\t\t\t// if (ui) ui.sendEncoderMinQP(-1)\n\n\t\t\t\t// emitCons('PixelStreaming.Encoder.MinQP -1')\n\t\t\t\t// emitCons('PixelStreaming.WebRTC.StartBitrate 20000000')\n\t\t\t\t// emitCons('PixelStreaming.Encoder.RateControl ConstQP')\n\n\t\t\t\tconst RTCPlayer = ClientAccess.client\n\n\t\t\t\tif (!ConsoleSettings) return\n\n\n\t\t\t\t// Whether to hide the UE application cursor.\n\t\t\t\tif (typeof ConsoleSettings.cursor === 'boolean') {\n\t\t\t\t\temitConsole(`PixelStreaming.HudStats ${ConsoleSettings.cursor.toString()}`)\n\t\t\t\t}\n\n\t\t\t\t// Whether to show PixelStreaming stats on the in-game HUD.\n\t\t\t\tif (typeof ConsoleSettings.hudSats === 'boolean') {\n\t\t\t\t\temitConsole(`PixelStreaming.HudStats ${ConsoleSettings.hudSats.toString()}`)\n\t\t\t\t}\n\n\t\t\t\tswitch (ConsoleSettings.mode) {\n\n\t\t\t\t\t// Set resolution to metaplugin\n\t\t\t\t\tcase 'command':\n\t\t\t\t\t\temitCmd('resolution_change', { width, height })\n\t\t\t\t\t\tbreak\n\n\t\t\t\t\t// Set resolution by native console method\n\t\t\t\t\tcase 'console':\n\t\t\t\t\t\tif (RTCPlayer) {\n\t\t\t\t\t\t\tRTCPlayer.ueDescriptorUi.sendUpdateVideoStreamSize(width, height)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// emitConsole(`r.SetRes ${width}x${height}f`)\n\t\t\t\t\t\t// emitConsole('PixelStreaming.Capturer.UseBackBufferSize 0')\n\t\t\t\t\t\t// emitConsole(`PixelStreaming.Capturer.CaptureSize ${width}x${height}`)\n\t\t\t\t\t\tbreak\n\t\t\t\t}\n\n\t\t\t}, 500)\n\t\t}\n\t}\n\n\treturn cls\n}\n","/*\nUsage:\n\n// hooks\nimport {useUnload} from 'hooks/'\n\n\nconst MyComponent = () => {\n  useUnload(e => {\n    e.preventDefault();\n    e.returnValue = '';\n  });\n\n  return (\n    <div>\n      Some content\n    </div>\n  );\n};\n\n*/\n\nimport * as React from 'react';\n\nexport const useUnload = (fn: any) => {\n  const cb = React.useRef<any>(fn); // init with fn, so that type checkers won't assume that current might be undefined\n\n  React.useEffect(() => {\n    cb.current = fn;\n  }, [fn]);\n\n  const onUnload = (...args: any) => cb.current?.(...args);\n\n  React.useEffect(() => {\n\n    return () => {\n      cls.deactivate()\n    };\n\n  }, []);\n\n  const cls = new class {\n    constructor() { }\n\n    activate() {\n      window.addEventListener(\"beforeunload\", onUnload);\n    }\n    deactivate() {\n      window.removeEventListener(\"beforeunload\", onUnload)\n    }\n  }\n\n  return cls\n};\n\n","import * as React from \"react\";\n\n// pixel-streaming\nimport { Logger } from \"unreal-pixel-streaming\";\n\n// libs\nimport moment from 'moment';\n\n\nexport const useCountdown = () => {\n  const refInterval = React.useRef<any>(null)\n\n  const [data, setData] = React.useState<any>({\n    active: false,\n    percent: 0,\n    leftSeconds: 0,\n  })\n\n  React.useEffect(() => {\n    return () => {\n      cls.stop()\n    }\n  }, [])\n\n  // React.useEffect(() => {\n  //   if (data.active && data.percent > 0) {\n  //     Logger.infoLog('Countdown: ' + data.percent);\n  //   }\n  // }, [data.percent])\n\n  const cls = new class {\n\n    get active() {\n      return data.active;\n    }\n\n    get percent() {\n      return data.percent;\n    }\n\n    get leftSeconds() {\n      return data.leftSeconds;\n    }\n\n    get time() {\n      const sec = data.leftSeconds\n      return moment.utc(sec * 1000).format('mm:ss');\n    }\n\n    stop() {\n      setData({ active: false, percent: 0, leftSeconds: 0 })\n      clearInterval(refInterval.current)\n    }\n\n    start(seconds: number) {\n\n      if (typeof seconds !== 'number' || seconds < 0) return\n      if (data.active) return\n\n      const startTime = moment()\n      const targetTime = startTime.add(seconds, 'seconds')\n\n      clearInterval(refInterval.current)\n      refInterval.current = setInterval(() => {\n\n        const totalSeconds = seconds\n        const leftSeconds = moment.duration(targetTime.diff(moment())).asSeconds();\n\n        const relDiff = (a: number, b: number) => Math.round(((a - b) / a) * 100)\n        const percent = relDiff(totalSeconds, leftSeconds)\n\n        if (percent >= 100) {\n          clearInterval(refInterval.current)\n          setData({ active: false, percent: 100, leftSeconds: 0 })\n          return;\n        }\n\n        setData({ active: true, percent, leftSeconds })\n\n      }, 100)\n\n    }\n  }\n\n  return cls\n};\n","import * as React from \"react\"\n\n// pixel-streaming\nimport { ClientAccess, Logger } from '../../../client/'\n\nexport const useStreamKiller = (dispatch: any, streamingActive: boolean, config: any) => {\n\n  const secondsToKill: number = Math.round(config.secondsToKill)\n\n  const refTimer = React.useRef<any>(null)\n  const refInterval = React.useRef<any>(null)\n  const refIntervalSec = React.useRef<any>(0)\n\n  React.useEffect(() => {\n    return () => {\n      handleStop()\n    }\n  }, [])\n\n  const handleStop = () => {\n    clearTimeout(refInterval.current)\n    clearTimeout(refTimer.current)\n    dispatch.updateConfig({ secondsToKillLeft: null })\n  }\n\n  // Initialization when streaming is active and secondsToKill > 0\n  React.useEffect(() => {\n\n    if (typeof secondsToKill !== 'number' || secondsToKill <= 0) return\n\n    if (streamingActive) {\n\n      if (typeof secondsToKill === 'number' && secondsToKill > 0) {\n        clearTimeout(refTimer.current)\n        clearInterval(refInterval.current)\n\n        refIntervalSec.current = Math.round(secondsToKill)\n\n        refInterval.current = setInterval(() => {\n          refIntervalSec.current -= 1\n          dispatch.updateConfig({ secondsToKillLeft: refIntervalSec.current })\n          // Logger.verboseLog('Seconds to kill: ' + refIntervalSec.current);\n        }, 1000)\n\n        refTimer.current = setTimeout(() => {\n          clearInterval(refInterval.current)\n          Logger.verboseLog('Connection killed');\n          ClientAccess.close()\n        }, 1000 * secondsToKill)\n      }\n\n    } else {\n\n      handleStop()\n\n    }\n\n\n  }, [config.secondsToKill, streamingActive])\n\n\n}","\nimport * as React from \"react\";\nimport { ClientAccess } from \"../../../client/\";\n\n\n\nexport const useUnrealSettings = (state: any, active: boolean) => {\n\n  React.useEffect(() => {\n\n    if (!active) return\n\n    // const encoderSettings = {\n    //   TargetBitrate: -1,\n    //   MaxBitrate: 20000000,\n    //   MinQP: 0, //-1\n    //   MaxQP: 51, //-1\n    //   RateControl: 'CBR', //\"CBR\" | \"VBR\" | \"ConstQP\"\n    //   FillerData: 0,\n    //   MultiPass: 'FULL', //\"DISABLED\" | \"QUARTER\" | \"FULL\";\n    // }\n\n    // const webrtcSettings = {\n    //   DegradationPref: 'MAINTAIN_FRAMERATE', //\"BALANCED\" | \"MAINTAIN_FRAMERATE\" | \"MAINTAIN_RESOLUTION\";\n    //   MinBitrate: 100000,\n    //   MaxBitrate: 20000000,\n    //   LowQP: 25,\n    //   HighQP: 37,\n    //   MaxFPS: 60,\n    //   FPS: 60,\n    // }\n\n    if (!ClientAccess.client) return\n\n    const { Encoder, WebRTC, Console } = state.ueSettings?.onStart\n\n    if (Encoder) {\n      ClientAccess.client.sendEncoderSettings(Encoder)\n    }\n\n    if (WebRTC) {\n      ClientAccess.client.sendWebRtcSettings(WebRTC)\n    }\n\n    if (Console) {\n      const emitConsole = (payload: string) => ClientAccess.emitConsole(payload)\n\n      // // Disable keys\n      // emitConsole(`PixelStreaming.KeyFilter \"Escape,Esc\"`)\n\n      // Whether to hide the UE application cursor.\n      if (typeof Console?.cursor === 'boolean') {\n        emitConsole(`PixelStreaming.HideCursor ${Console.cursor.toString()}`)\n      }\n\n      // Whether to show PixelStreaming stats on the in-game HUD.\n      if (typeof Console?.hudSats === 'boolean') {\n        emitConsole(`PixelStreaming.HudStats ${Console.hudSats.toString()}`)\n      }\n\n    }\n\n\n  }, [active])\n}\n\n\n// // Disables the synchronization of audio and video tracks in WebRTC.\n// PixelStreaming.WebRTC.DisableAudioSync true\n\n// // Disables transmission of UE audio to the browser.\n// // If audio is not required can improve latency in some cases.\n// PixelStreaming.WebRTC.DisableTransmitAudio false\n\n\n// // Disables receiving audio from the browser into UE.\n// // If audio is not required can improve latency in some cases.\n// PixelStreaming.WebRTC.DisableReceiveAudio false\n\n\n// // [INCLUDE:#HighQpTrhesholdInfo]\n// PixelStreaming.WebRTC.HighQpThreshold 37\n\n\n// // Only used when PixelStreaming.Encoder.LowQP = -1. Value between 1 and 51. If WebRTC is getting frames below this QP, it will try to make an adaptation decision.\n// PixelStreaming.WebRTC.LowQpThreshold 25\n\n\n// // Maximum bitrate(bps) that WebRTC will not request above.\n// // Be careful not to set this value too high, as a local(ideal) network will actually attempt to reach this value.\n// PixelStreaming.WebRTC.MaxBitrate 20000000\n\n// // Minimum bitrate(bps) that WebRTC will not request below.\n// // Be careful not to set this value too high, otherwise WebRTC will just drop frames.\n// PixelStreaming.WebRTC.MinBitrate 100000\n\n\n// // Start bitrate(bps) that WebRTC will try to begin the stream with.\n// // Value must be between Min and Max bitrates.\n// PixelStreaming.WebRTC.StartBitrate 10000000\n\n\n// // The maximum FPS WebRTC will try to capture/encode/transmit.\n// PixelStreaming.WebRTC.MaxFps 60\n\n\n\n// // [INCLUDE:#DegredationPreferenceInfo]\n// PixelStreaming.WebRTC.DegradationPreference \"MAINTAIN_FRAMERATE\"\n\n\n// // Specifies the log level of WebRTC.This is useful for debugging WebRTC.\n// LogCmds=PixelStreamingWebRTC < LogLevel > Where helpful log levels are: Log, Verbose, VeryVerbose\n\n\n// // Maximum number of back buffers to use. A value of 0 will not limit the number of back buffers.\n// PixelStreaming.Capturer.MaxNumBackBuffers 8\n\n// // Custom capture size to use if PixelStreaming.Capturer.UseBackBufferSize is false.\n// PixelStreaming.Capturer.CaptureSize 1920x1080\n\n\n// // Whether to use back buffer size or a custom size specified by PixelStreaming.Capturer.CaptureSize\n// PixelStreaming.Capturer.UseBackBufferSize true\n\n\n\n","import * as React from 'react'\n\n// reducer\nimport { useDispatch } from \"./useReducer\";\n\n// pixel-streaming\nimport { ClientClass, ClientAccess, EventsClass as Ev } from '../../client/'\n\n// context\nimport { useSystem } from '../useSystem';\n\n// hooks\nimport { useResolution } from './hooks/useResolution'\nimport { useUnload } from '../../hooks/useUnload';\nimport { useEventListener } from '../../hooks/useEventListener';\nimport { useCountdown } from '../../hooks/useCountdown';\nimport { useStreamKiller } from './hooks/useStreamKiller';\nimport { useUnrealSettings } from './hooks/useUnrealSettings'\n\n\nexport const useActions = () => {\n  const system = useSystem()\n\n  const [state, dispatch, eventHandler] = useDispatch()\n  const [initReady, setInitReady] = React.useState<any>(false)\n\n  const refTimeoutConfig = React.useRef<any>(null) //hack\n\n  // pixel-streaming events\n  useEventListener(Ev.mouseAction.key, (payload: any) => eventHandler.eventMouse(payload));\n\n  useEventListener(Ev.commands.key, (payload: any) => eventHandler.eventCommand(payload));\n  useEventListener(Ev.callbacks.key, (payload: any) => eventHandler.eventCallbacks(payload));\n\n  useEventListener(Ev.webrtcStatus.key, (payload: any) => eventHandler.eventWebrtcStatus(payload));\n  useEventListener(Ev.ueInitialSettings.key, (payload: any) => eventHandler.eventUeSettingsInitial(payload));\n\n  // prompt before unload\n  const unload = useUnload((e: any) => {\n    e.preventDefault();\n    e.returnValue = '';\n  });\n\n  // Computed data for quick access\n  const computed = new class {\n\n    get streaming() {\n      const { status } = state.webrtcData\n      const _s_ = Ev.webrtcStatusList\n      const ch = (v: any) => v === status\n      let res: any = {\n        empty: status === null,\n        initializing: ch(_s_.initializing),\n        initialized: ch(_s_.initialized),\n        active: ch(_s_.active),\n        activation: ch(_s_.activation),\n        disconnected: ch(_s_.disconnected),\n        stopped: ch(_s_.stopped),\n        error: ch(_s_.error),\n        autoplaySupport: state.webrtcData.autoplaySupport,\n        status: status || 'pending',\n      }\n\n      // For overlays\n\n      res._inProgress = res.empty || res.activation || res.disconnected\n      res._allowPlay = ((res.initialized || res.stopped) && res.autoplaySupport !== true) || res.stopped\n      res._playError = res.disconnected || res.error\n      res._allowOverlay = !res.active\n      res._isPending = res.status === 'pending'\n\n      return res\n    }\n\n    get mouse() {\n      return {\n        moving: state.mouseEvent.moving\n      }\n    }\n  }\n\n  /**\n   * Apply Unreal Engine Settings on start\n   */\n  useUnrealSettings(state, computed.streaming.active)\n\n\n  /**\n   * Resolution adapter\n   */\n  const resolution = useResolution(state.ueSettings.onStart?.Console)\n\n  /**\n   * Auto restart\n   */\n  React.useEffect(() => {\n    // If client not inited yet... return\n    if (!ClientAccess.client) return\n\n    if (computed.streaming.error && state.config.autoRestart) {\n      console.error('@@@restarting...')\n      cls.streamingConnect()\n    }\n  }, [computed.streaming.error])\n\n  /**\n   * Percentage progress for seconds to start\n   */\n\n  const loadingContdown = useCountdown()\n\n  React.useEffect(() => {\n\n    if (computed.streaming.empty) {\n      const sec = state.config.secondsToStart\n      if (typeof sec === 'number' && sec > 0) {\n        loadingContdown.start(sec)\n      }\n    }\n\n    if (computed.streaming.initialized) {\n      loadingContdown.stop()\n    }\n\n  }, [computed.streaming.initialized, state.config.secondsToStart])\n\n  /**\n   * Kill stream if secondsToKill > 0\n   */\n  useStreamKiller(dispatch, computed.streaming.active, state.config)\n\n  /**\n   * Streaming activation\n   */\n\n  React.useEffect(() => {\n\n    if (computed.streaming.active) {\n\n      // Show prompt befor exit\n      unload.activate()\n\n      // Apply current resolution\n      resolution.resize()\n\n    } else {\n      unload.deactivate()\n    }\n\n  }, [computed.streaming.active])\n\n\n  /**\n   * Init build if ready\n   */\n  React.useEffect(() => {\n    if (system.cls.streamingUrl) {\n      cls.initPlayer(system.cls.streamingUrl)\n    }\n  }, [system.cls.streamingUrl])\n\n\n  /**\n   * Update build config\n   * $sessionData — prevent init twice\n   */\n  const { sessionData } = system.state\n  React.useEffect(() => {\n    if (sessionData) {\n      const { secondsToStart } = system.cls.sessionData\n      if (typeof secondsToStart === 'number' && secondsToStart > 0 && !state.secondsToStart) {\n        dispatch.updateConfig({ secondsToStart })\n      }\n    }\n  }, [sessionData])\n\n  /**\n   * Wrapper for Client\n   */\n\n  const cls = new class {\n    initReady: boolean\n\n    constructor() {\n      this.initReady = initReady\n    }\n\n    // useful info\n    get info() {\n      return {\n        loading: loadingContdown,\n      }\n    }\n\n    // useful methods\n    get methods() {\n      return {\n        commands: {\n          clear: () => dispatch.update({ commands_list: [] })\n        },\n        callbacks: {\n          clear: () => dispatch.update({ callbacks_list: [] })\n        },\n      }\n    }\n\n    /**\n     * Allow command if RTCPlayer exist and connection is active\n     */\n    _allowCommand(command: string) {\n      if (!ClientAccess.client || !computed.streaming.active) {\n        console.error('@@@error, streaming not active', { command })\n        return\n      }\n      return true\n    }\n\n    /**\n     * Emit system command\n     */\n    emitCommandSystem(command: string, value: any) {\n      if (!this._allowCommand(command)) return\n      ClientAccess.emitCommandSystem(command, value)\n    }\n\n    /**\n     * Check callbacks_list and mark command item \n     * as confirmed if callback found by verification_id\n     */\n    async emitAsyncCommand(command: string, value: any) {\n      if (!this._allowCommand(command)) return\n\n      const emitItem: any = ClientAccess.emitCommand(command, value);\n\n      const ms = 100\n      const attempts = 5 * (ms / 10)\n\n      for (let i = 0; i < attempts; i++) {\n        await new Promise(r => setTimeout(r, ms, i))\n\n        for (let item of window.callbacks_list || []) {\n          if (item?.verification_id === emitItem?.verification_id) {\n            return item\n          }\n        }\n      }\n    }\n\n    /**\n     * Emit command via portal commands (by uuid)\n     */\n    async emitUuidAsync(uuid: string) {\n      for (let item of system.cls.commands_project) {\n        if (item.command_uuid === uuid) {\n          return await this.emitAsyncCommand(item.command, item.value)\n        }\n      }\n      return false\n    }\n\n\n    /**\n     * One time config initialization\n     */\n    initConfig(config: any, psConfig: any, ueSettings: any) {\n      dispatch.updateConfig(config)\n      dispatch.updatePsConfig(psConfig)\n      dispatch.updateUeSettingsOnStart(ueSettings)\n\n      // Delay for saving configs\n      clearTimeout(refTimeoutConfig.current)\n      refTimeoutConfig.current = setTimeout(() => {\n        setInitReady(true)\n      }, 300)\n    }\n\n    // Handle player initialization\n    initPlayer(streamingUrl: string) {\n\n      if (!streamingUrl) {\n        console.error('Missing data:', { streamingUrl })\n        return\n      }\n\n      // Send status handler for webrtc state changing\n      dispatch.updateConfig({ streamingUrl })\n      dispatch.updateWebrtcData({\n        status: 'initializing',\n      })\n\n      // Init client once\n      new ClientClass(streamingUrl, state.psConfig).init()\n\n    }\n\n    streamingConnect() {\n      ClientAccess.connect()\n    }\n\n    streamingStop() {\n      ClientAccess.close()\n    }\n\n    switchStart() {\n      computed.streaming.active ? this.streamingStop() : this.streamingConnect()\n    }\n\n    clientCb(cb: Function) {\n      const client = ClientAccess.client\n      if (client) cb(client)\n    }\n\n    changeVolume(volume: number = 1) {\n\n      this.clientCb((cl: any) => {\n        if (!cl.videoPlayerController.audioElement) {\n          cl.videoPlayerController.PlayAudioTrack()\n          volume = 1\n        } else {\n\n          if (volume > 0) {\n            cl.videoPlayerController.audioElement.play()\n          } else if (volume === 0) {\n            cl.videoPlayerController.audioElement.pause()\n          }\n\n          cl.videoPlayerController.audioElement.volume = volume\n        }\n      })\n\n      // this.emitCommandSystem('user_sound', { volume })\n      dispatch.updatePlayerSettings({ volume })\n    }\n\n  }\n\n  return {\n    state,\n    cls,\n    computed,\n    dispatch,\n  }\n};\n\n","import * as React from \"react\"\n\nexport const AppContext = React.createContext<Partial<any>>({});\nexport const usePlayer = () => React.useContext(AppContext)\n\n// classes\nimport { useActions } from './useActions'\n\nconst Provider = (props: any) => {\n\tconst actions = useActions();\n\n\treturn (\n\t\t<AppContext.Provider value={actions}>\n\t\t\t{props.children}\n\t\t</AppContext.Provider>\n\t);\n};\n\n\nexport default Provider","import * as React from \"react\"\n\n// ui\nimport CustomProvider from 'rsuite/CustomProvider';\n\n// layers\nimport PlayerProvider, { usePlayer } from './usePlayer/';\nimport SystemProvider, { useSystem } from './useSystem/';\n\n\nexport const ContextProvider: React.FC<any> = (props: any) => {\n  return (\n    <CustomProvider theme='dark'>\n      <SystemProvider>\n        <PlayerProvider>\n          {props.children}\n        </PlayerProvider>\n      </SystemProvider>\n    </CustomProvider>\n  )\n}\n\nexport {\n  usePlayer,\n  useSystem,\n}\n\n","const blue = {\n  50: '#e3f2fd',\n  100: '#bbdefb',\n  200: '#90caf9',\n  300: '#64b5f6',\n  400: '#42a5f5',\n  500: '#2196f3',\n  600: '#1e88e5',\n  700: '#1976d2',\n  800: '#1565c0',\n  900: '#0d47a1',\n  A100: '#82b1ff',\n  A200: '#448aff',\n  A400: '#2979ff',\n  A700: '#2962ff'\n};\nexport default blue;","const lightGreen = {\n  50: '#f1f8e9',\n  100: '#dcedc8',\n  200: '#c5e1a5',\n  300: '#aed581',\n  400: '#9ccc65',\n  500: '#8bc34a',\n  600: '#7cb342',\n  700: '#689f38',\n  800: '#558b2f',\n  900: '#33691e',\n  A100: '#ccff90',\n  A200: '#b2ff59',\n  A400: '#76ff03',\n  A700: '#64dd17'\n};\nexport default lightGreen;","/**\n * Demo usage\n */\n\n// // ui\n// import { jss } from '../assets/styled';\n// const useStyles = jss({\n//   root: {\n//     position: (props: any) => props.position,\n//   },\n// })\n\n// const classes = useStyles({ position: 'absolute' })\n// \n// <div className={classes.root} />\n\nimport * as React from 'react'\n\nexport { createUseStyles as jss } from 'react-jss'\n\n\n// colors\nimport {\n  blue as primary,\n  lightGreen as success,\n} from './colors/';\n\nexport const colors = {\n  primary,\n  success,\n}\n\ninterface MediaSizes {\n  xs: number\n  sm: number\n  md: number\n  lg: number\n  xl: number\n}\n\nexport const media = new class {\n\n  /*\n  Usage in css:\n\n  root: {\n    [media.down.sm]: {\n      height: 28,\n    },\n  },\n  */\n\n  sizes: MediaSizes\n  getMin: Function\n  getMax: Function\n\n  constructor() {\n    this.getMax = (int: number) => `@media (max-width: ${int}px)`\n    this.getMin = (int: number) => `@media (min-width: ${int}px)`\n\n    this.sizes = {\n      xs: 0,\n      sm: 600,\n      md: 900,\n      lg: 1200,\n      xl: 1536,\n    }\n\n  }\n\n  // {xs: 0, sm: 600, md: 900, lg: 1200, xl: 1536}\n\n  get down() {\n    return {\n      xs: this.getMax(this.sizes.sm),\n      sm: this.getMax(this.sizes.md),\n      md: this.getMax(this.sizes.lg),\n      lg: this.getMax(this.sizes.xl),\n      // xl: this.getMax(this.sizes.xl),\n    };\n  }\n\n  get up() {\n    return {\n      xs: this.getMin(this.sizes.xs),\n      sm: this.getMin(this.sizes.sm),\n      md: this.getMin(this.sizes.md),\n      lg: this.getMin(this.sizes.lg),\n      xl: this.getMin(this.sizes.xl),\n    };\n  }\n}","import * as React from 'react'\n\n// import '../../../../styles/debugpanel.css'\n\n// context\nimport { usePlayer } from \"../../../../context/\"\n\ninterface Props {\n  isFirst?: any\n}\n\nexport const DebugPanel: React.FC<Props> = (props) => {\n  const player = usePlayer()\n\n  const isFirst = props.isFirst\n  const show = isFirst ? false : true\n\n  if (isFirst && player.state.devBar?.slug === 'pixelStreaming') {\n    return (<div />)\n  }\n\n  return (\n    <div\n      id=\"playerUI\"\n      onWheel={e => e.stopPropagation()}\n      style={{\n        display: show === true ? 'block' : 'none',\n      }}>\n\n      <div id=\"overlay\" className=\"overlay\">\n\n        <div id=\"overlayHeader\">\n          <div id=\"qualityStatus\" className=\"greyStatus\">***</div>\n          <div id=\"overlayButton\">+</div>\n        </div>\n        <div id=\"overlaySettings\" className=\"container d-none\">\n\n          <div id=\"Controls\" className=\"row\">\n\n            <section id=\"preStreamOptions\" className=\"settingsContainer\">\n\n              <div id=\"preStreamOptionsHeader\" className=\"settings-text\">\n                <div>Pre Stream Options</div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"col-sm\">\n                  <label className=\"form-check-label\" htmlFor=\"force-turn-tgl\">Force TURN</label>\n                </div>\n                <div className=\"form-check form-switch col-auto\">\n                  <input className=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"force-turn-tgl\" />\n                </div>\n              </div>\n\n              <div className=\"row\" style={{ paddingTop: 5, paddingBottom: 5 }}>\n                <div className=\"col col-auto\">\n                  <input id=\"restart-stream-button\" className=\"overlay-button btn-flat\" type=\"button\"\n                    defaultValue=\"Restart Stream\" />\n                </div>\n              </div>\n            </section>\n\n            <section id=\"viewSettings\" className=\"settingsContainer\">\n              <div id=\"viewSettingsHeader\" className=\"settings-text\">\n                <div>Viewing</div>\n              </div>\n              <div id=\"viewSettingsContainer\" className=\"d-none\">\n\n                <div className=\"row\">\n                  <div className=\"col-sm\">\n                    <label className=\"form-check-label\" htmlFor=\"enlarge-display-to-fill-window-tgl\">Enlarge\n                      display to fill window</label>\n                  </div>\n                  <div className=\"form-check form-switch col-auto\">\n                    <input className=\"form-check-input\" type=\"checkbox\" role=\"switch\"\n                      id=\"enlarge-display-to-fill-window-tgl\" defaultChecked />\n                  </div>\n                </div>\n\n                <div className=\"row\">\n                  <div className=\"col-sm\">\n                    <label className=\"form-check-label\" htmlFor=\"quality-control-ownership-tgl\">Is Quality\n                      Controller</label>\n                  </div>\n                  <div className=\"form-check form-switch col-auto\">\n                    <input className=\"form-check-input\" type=\"checkbox\" role=\"switch\"\n                      id=\"quality-control-ownership-tgl\" />\n                  </div>\n                </div>\n\n                <div className=\"row\">\n                  <div className=\"col-sm\">\n                    <label className=\"form-check-label\" htmlFor=\"match-viewport-res-tgl\">Match viewport\n                      resolution</label>\n                  </div>\n                  <div className=\"form-check form-switch col-auto\">\n                    <input className=\"form-check-input\" type=\"checkbox\" role=\"switch\"\n                      id=\"match-viewport-res-tgl\" />\n                  </div>\n                </div>\n\n                <div className=\"row\">\n                  <div className=\"col-sm\">\n                    <label className=\"form-check-label\" htmlFor=\"control-scheme-tgl\"\n                      id=\"control-scheme-title\">Match viewport resolution</label>\n                  </div>\n                  <div className=\"form-check form-switch col-auto\">\n                    <input className=\"form-check-input\" type=\"checkbox\" role=\"switch\"\n                      id=\"control-scheme-tgl\" />\n                  </div>\n                </div>\n              </div>\n            </section>\n\n            <section id=\"commands\" className=\"settingsContainer\">\n              <div id=\"commandsHeader\" className=\"settings-text\">\n                <div>Commands</div>\n              </div>\n              <div id=\"commandsContainer\" className=\"d-none\">\n                <div className=\"row\" style={{ paddingTop: 5, paddingBottom: 5 }}>\n                  <div className=\"row\" style={{ paddingTop: 5, paddingBottom: 5 }}>\n                    <div className=\"col col-auto\">\n                      <input id=\"show-fps-button\" className=\"overlay-button btn-flat\" type=\"button\"\n                        defaultValue=\"Show FPS\" />\n                    </div>\n                  </div>\n                  <div className=\"col col-auto\">\n                    <label htmlFor=\"ui-descriptor-text\" className=\"settings-text\">UI Descriptor</label>\n                  </div>\n                  <div className=\"col col-auto\">\n                    <input type=\"text\" className=\"form-control form-control-sm\" id=\"ui-descriptor-text\" />\n                  </div>\n\n                  <div className=\"col col-auto\">\n                    <input type=\"button\" id=\"sendUiDescriptor\" className=\"overlay-button btn-flat\"\n                      defaultValue=\"Send\" />\n                  </div>\n                </div>\n              </div>\n            </section>\n\n            <section id=\"streamingSettings\" className=\"settingsContainer\">\n              <div id=\"streamingSettingsHeader\" className=\"settings-text\">\n                <div>Settings</div>\n              </div>\n              <div id=\"streamingSettingsContainer\" className=\"d-none\">\n                <div className=\"form-group row\">\n                  <div className=\"col-sm\">\n                    <div>Encoder Settings</div>\n                    <div id=\"encoderSettings\" className=\"col\">\n                      <div className=\"form-group row\">\n                        <label htmlFor=\"encoder-min-qp-text\">Min QP</label>\n                        <input type=\"number\" className=\"form-control form-control-sm\"\n                          id=\"encoder-min-qp-text\" defaultValue=\"0\" min=\"0\" max=\"51\" />\n                      </div>\n\n                      <div className=\"form-group row\">\n                        <label htmlFor=\"encoder-max-qp-text\">Max QP</label>\n                        <input type=\"number\" className=\"form-control form-control-sm\"\n                          id=\"encoder-max-qp-text\" defaultValue=\"51\" min=\"0\" max=\"51\" />\n                      </div>\n\n                    </div>\n                  </div>\n\n                  <div className=\"col-sm\">\n                    <div>WebRTC Settings</div>\n                    <div id=\"webrtcSettings\">\n                      <div className=\"form-group row\">\n                        <label htmlFor=\"webrtc-fps-text\">FPS</label>\n                        <input type=\"number\" className=\"form-control form-control-sm\"\n                          id=\"webrtc-fps-text\" defaultValue=\"0\" min=\"1\" max=\"999\" />\n                      </div>\n                      <div className=\"form-group row\">\n                        <label htmlFor=\"webrtc-min-bitrate-text\">Min bitrate (bps)</label>\n                        <input type=\"number\" className=\"form-control form-control-sm\"\n                          id=\"webrtc-min-bitrate-text\" defaultValue=\"0\" min=\"0\" max=\"100000\" />\n                      </div>\n                      <div className=\"form-group row\">\n                        <label htmlFor=\"webrtc-max-bitrate-text\">Max bitrate (bps)</label>\n                        <input type=\"number\" className=\"form-control form-control-sm\"\n                          id=\"webrtc-max-bitrate-text\" defaultValue=\"0\" min=\"0\" max=\"100000\" />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"form-group row\">\n                  <input id=\"btn-streaming-settings\" className=\"overlay-button btn-flat\" type=\"button\"\n                    defaultValue=\"Apply\" />\n                </div>\n              </div>\n            </section>\n\n            <section id=\"statistics\" className=\"settingsContainer\">\n              <div id=\"statisticsHeader\" className=\"settings-text\">\n                <div>Statistics</div>\n              </div>\n              <div id=\"statisticsContainer\" className=\"d-none\">\n\n                <div className=\"row\">\n                  <div className=\"col-sm\">\n                    <label className=\"form-check-label\" htmlFor=\"send-stats-tgl\" id=\"control-scheme-title\">Send\n                      to server</label>\n                  </div>\n                  <div className=\"form-check form-switch col-auto\">\n                    <input className=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"send-stats-tgl\" />\n                  </div>\n                </div>\n                <div id=\"statisticsResult\" className=\"StatsResult\"></div>\n              </div>\n            </section>\n\n            <section id=\"latencyTest\" className=\"settingsContainer\">\n              <div id=\"latencyTestHeader\" className=\"settings-text\">\n                <div>Latency Test</div>\n                <input id=\"btn-start-latency-test\" className=\"overlay-button btn-flat\" type=\"button\"\n                  defaultValue=\"Run Test\" />\n              </div>\n              <div id=\"latencyTestContainer\" className=\"d-none\">\n                <div id=\"latencyStatsResults\" className=\"StatsResult\"></div>\n              </div>\n            </section>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}","import * as React from 'react'\n\n// ui\nimport { jss, media } from '../assets/styled';\nimport Drawer from 'rsuite/Drawer';\n\n\nconst useStyles = jss({\n  header: {\n    [media.down.xs]: {\n      marginTop: 40,\n    },\n  },\n  container: {\n    overflow: 'auto',\n    pointerEvents: 'all',\n    maxHeight: 'calc(100vh - 77px)',\n  },\n})\n\ninterface Props {\n  children?: React.ReactNode\n  title?: string | React.ReactNode\n  onClose?: Function\n  withBody?: boolean\n  ActionsComponent?: React.ReactNode\n}\n\nexport const CustomDrawer: React.FC<any> = React.forwardRef((props: Props, ref: any) => {\n  const classes = useStyles()\n\n  const [open, setOpen] = React.useState<any>(false);\n  const [config, setConfig] = React.useState<any>({\n    body: props.withBody,\n    title: props.title,\n    Component: null,\n  });\n\n  /**\n   * The component instance will be extended\n   * with whatever you return from the callback passed\n   * as the second argument\n   */\n  React.useImperativeHandle(ref, () => ({\n\n    open: (title: string, body: boolean, Component: any = null) => {\n      setConfig((c: any) => ({\n        ...c,\n        title: title || c.title,\n        body: body || c.body,\n        Component: Component || null,\n      }))\n      setOpen(true)\n    },\n    close: () => {\n      handleClose()\n    },\n    isOpen: open,\n\n  }));\n\n  const handleClose = () => {\n    setOpen(false)\n\n    if (typeof props.onClose === 'function') {\n      props.onClose()\n    }\n  }\n\n  const renderChildren = () => {\n    const Children = config.Component || props.children\n\n    if (config.body) {\n      return (\n        <div style={{ padding: 20 }}>\n          {Children}\n        </div>\n      )\n    }\n\n    return (\n      Children\n    )\n  }\n\n  return (\n    <Drawer\n      size='xs'\n      placement='right'\n      backdrop={false}\n      open={open}\n      onClose={handleClose}>\n      <Drawer.Header className={classes.header}>\n        {typeof config.title === 'string' ? (\n          <Drawer.Title>\n            {config.title}\n          </Drawer.Title>\n        ) : (config.title)}\n\n        {props.ActionsComponent ? (\n          <Drawer.Actions style={{\n            marginRight: -20,\n          }}>\n            {props.ActionsComponent}\n          </Drawer.Actions>\n        ) : ''}\n      </Drawer.Header>\n      <div\n        onWheel={(e: any) => {\n          e.stopPropagation()\n        }}\n        className={classes.container}>\n        {renderChildren()}\n      </div>\n    </Drawer>\n  );\n})","import * as React from 'react'\n\n// libs\nimport ReactJson from 'react-json-view'\n\n\n\ninterface Props {\n  data: JSON | boolean\n}\n\nexport const JsonViewer: React.FC<Props> = (props: any) => {\n  return (\n    <ReactJson\n      style={{\n        backgroundColor: 'transparent'\n      }}\n      theme='monokai'\n      quotesOnKeys={false}\n      groupArraysAfterLength={2}\n      collapseStringsAfterLength={10}\n      displayDataTypes={false}\n      displayObjectSize={false}\n      enableClipboard={false}\n      src={props.data} />\n  )\n}\nexport default JsonViewer","import * as React from 'react'\n\n// context\nimport { usePlayer } from '../../../context/';\n\n// components\nimport JsonViewer from '../../../components/JsonViewer'\n\n\ninterface Props {\n  // children: any\n}\n\nexport const Panel: React.FC<Props> = () => {\n  const player = usePlayer()\n\n  const renderState = () => {\n    const res = player.state\n    delete res.callbacks_list\n    delete res.commands_list\n    // delete res.sessionData\n    return res\n  }\n  return (\n    <div>\n      <JsonViewer data={renderState()} />\n    </div>\n  )\n}","import * as React from 'react'\n\n// context\nimport { useSystem } from '../../../context/';\n\n// components\nimport JsonViewer from '../../../components/JsonViewer'\n\n\ninterface Props {\n  // children: any\n}\n\nexport const Panel: React.FC<Props> = () => {\n  const system = useSystem()\n\n  return (\n    <div>\n      <JsonViewer data={system.state} />\n    </div>\n  )\n}","import * as React from 'react';\n\n// context\nimport { usePlayer, useSystem } from '../../../context/';\n\n// ui\nimport { jss } from '../../../assets/styled';\nimport IconButton from 'rsuite/IconButton';\n\n// icons\nimport CopyIcon from '@rsuite/icons/Copy';\n\n\n\nconst useStyles = jss({\n  groupList: {\n    listStyle: 'none',\n    margin: 0,\n    padding: 0,\n    marginBottom: 10,\n    paddingBottom: 10,\n    borderBottom: `solid 1px rgba(255,255,255,.1)`,\n    '& > li': {\n      '&:nth-child(1)': {\n        opacity: .7,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        maxWidth: 200,\n        marginBottom: 10,\n      },\n      '&:nth-child(2)': {\n        display: 'flex',\n        flexWrap: 'wrap',\n        gap: 5,\n      }\n    }\n  },\n})\n\ninterface Props {\n  list: any,\n}\n\nexport const CommandsList: React.FC<Props> = (props) => {\n  const classes = useStyles()\n  const player = usePlayer()\n  const system = useSystem()\n\n  const [performers, setPerformers] = React.useState<any>({})\n\n  React.useEffect(() => {\n    system.cls.loadData()\n  }, [])\n\n  const handlePerformer = (id: any, status: string) => {\n    setPerformers((c: any) => ({ ...c, [id]: status }))\n  }\n\n  const handlerCommand = async (item: any) => {\n    handlePerformer(item.id, 'loading')\n    await player.cls.emitAsyncCommand(item.slug, item.value).then((res: any) => {\n      if (res) {\n        handlePerformer(item.id, 'success')\n      } else {\n        handlePerformer(item.id, 'error')\n      }\n    })\n  }\n\n  const renderCommandsList = () => {\n\n    let groups: any = {}\n    props.list.map((item: any) => {\n      if (typeof groups[item.slug] === 'undefined') {\n        groups[item.slug] = {\n          name: item.slug,\n          group: item.group?.name,\n          items: [],\n        }\n      }\n      groups[item.slug].items.push(item)\n    })\n    const group_list = Object.values(groups)\n\n    return (\n      <div>\n        {group_list.map((group: any, index: number) => {\n          return (\n            <ul key={index} className={classes.groupList}>\n              <li>\n                {group.name} ({group.group})\n              </li>\n              <li>\n                {group.items.map((item: any, i: number) => {\n                  let status: string | boolean = false\n                  if (performers.hasOwnProperty(item.id)) {\n                    status = performers[item.id]\n                  }\n                  const isLoading = status === 'loading'\n                  // const isError = status === 'error'\n                  // const isSuccess = status === 'success'\n\n                  const getName = () => {\n                    if (typeof item?.name === 'undefined') return ''\n                    if (item.name.length > 20) {\n                      return item.name.substr(0, 17) + '...'\n                    }\n                    return item.name\n                  }\n                  return (\n                    <div key={`${index}-${i}`}>\n                      <IconButton\n                        onClick={() => handlerCommand(item)}\n                        loading={isLoading}\n                        icon={(\n                          <CopyIcon\n                            style={{\n                              zIndex: 10,\n                            }}\n                            onClick={(event) => {\n                              event.preventDefault()\n                              event.stopPropagation()\n\n                              navigator.clipboard.writeText(item.command_uuid).then(function () {\n                                alert(`Uuid copied:\\n${item.command_uuid}`)\n                              }, function (err) {\n                                console.error('Async: Could not copy text: ', err);\n                              });\n\n                            }} />\n                        )}\n                        placement=\"left\">\n                        {getName()}\n                      </IconButton>\n                    </div>\n                  )\n                })}\n              </li>\n            </ul>\n          )\n        })}\n      </div>\n    )\n  }\n\n\n  return (\n    <div>\n      {renderCommandsList()}\n    </div>\n  )\n}","import * as React from 'react'\n\n// context\nimport { useSystem } from '../../../context/';\n\n// snippets\nimport { CommandsList } from '../snippets/CommandsList'\n\n\ninterface Props {\n  // children: any\n}\n\nexport const Panel: React.FC<Props> = () => {\n  const system = useSystem()\n\n  return (\n    <div>\n\n      <CommandsList list={system.cls.commands_project} />\n\n    </div>\n  )\n}","import * as React from 'react';\n\n// context\nimport { usePlayer, useSystem } from '../../../context/';\n\n// ui\nimport Button from 'rsuite/Button';\n\n// snippets\nimport { CommandsList } from '../snippets/CommandsList'\n\n\ninterface Props {\n  // children: any\n}\n\nexport const Panel: React.FC<Props> = () => {\n  const player = usePlayer()\n  const system = useSystem()\n\n  return (\n    <div>\n\n      <Button block style={{ marginBottom: 20 }} onClick={() => player.cls.switchStart()}>\n        Start / stop\n      </Button>\n\n      <CommandsList list={system.cls.commands_system} />\n\n    </div>\n  )\n}","import * as React from 'react'\n\n// context\nimport { usePlayer } from '../../../context/';\n\n// ui\nimport Button from 'rsuite/Button';\n\n// components\nimport JsonViewer from '../../../components/JsonViewer'\n\n\ninterface Props {\n  // children: any\n}\n\nexport const Panel: React.FC<Props> = () => {\n  const player = usePlayer()\n\n  return (\n    <div>\n      <Button style={{ marginBottom: 10 }} block onClick={() => player.cls.methods.commands.clear()}>\n        Clear\n      </Button>\n\n      <JsonViewer data={player.state?.commands_list} />\n    </div>\n  )\n}","import * as React from 'react'\n\n// context\nimport { usePlayer } from '../../../context/';\n\n// ui\nimport Button from 'rsuite/Button';\n\n// components\nimport JsonViewer from '../../../components/JsonViewer'\n\n\ninterface Props {\n  // children: any\n}\n\nexport const Panel: React.FC<Props> = () => {\n\n  const player = usePlayer()\n\n  return (\n    <div>\n      <Button style={{ marginBottom: 10 }} block onClick={() => player.cls.methods.callbacks.clear()}>\n        Clear\n      </Button>\n\n      <JsonViewer data={player.state?.callbacks_list} />\n    </div>\n  )\n}","import * as React from 'react'\n\n// context\nimport { useSystem } from '../../../../context/'\n\n// ui\nimport ButtonToolbar from 'rsuite/ButtonToolbar';\nimport SelectPicker from 'rsuite/SelectPicker';\nimport Button from 'rsuite/Button';\nimport Notification from 'rsuite/Notification';\nimport toaster from 'rsuite/toaster';\n\n\ninterface Props {\n  // children: any\n}\n\nexport const NotificationsSettings: React.FC<Props> = () => {\n\n  const system = useSystem()\n\n  const [data, setData] = React.useState<any>({\n    type: 'info',\n    header: 'Some title',\n  });\n\n  const message = (\n    <Notification type={data.type} header={data.header} closable>\n      {/* <Placeholder.Paragraph rows={3} /> */}\n      {/* <JsonViewer data={{ ok: true }} /> */}\n    </Notification>\n  );\n\n\n  return (\n    <div>\n\n      {message}\n\n      <ButtonToolbar>\n        <SelectPicker\n          value={data.type}\n          data={[\n            { label: 'Test command', value: 'info' },\n            { label: 'Test callback', value: 'success' },\n            // { label: 'warning', value: 'warning' },\n            // { label: 'error', value: 'error' }\n          ]}\n          onChange={(type, event: any) => {\n            setData({\n              type,\n              header: event.target.innerText,\n            })\n          }}\n        />\n        <SelectPicker\n          defaultValue={system.notifications.placementValue}\n          data={system.notifications.placementsList}\n          onChange={(v) => {\n            system.notifications.updatePlacement(v)\n          }}\n        />\n        <Button onClick={() => toaster.push(message, { placement: system.notifications.placementValue })}>Push</Button>\n      </ButtonToolbar>\n\n      <ButtonToolbar>\n        <Button onClick={() => toaster.remove('')}>Remove</Button>\n        <Button onClick={() => toaster.clear()}>Clear</Button>\n      </ButtonToolbar>\n\n    </div>\n  )\n}","import * as React from 'react'\n\n// context\nimport { useSystem } from '../../../../context/'\n\n// ui\nimport Form from 'rsuite/Form';\nimport Toggle from 'rsuite/Toggle';\n\n// blocks\nimport { NotificationsSettings } from './NotificationsSettings'\n\n\ninterface Props {\n  // children: any\n}\n\nexport const Panel: React.FC<Props> = () => {\n  const system = useSystem()\n\n  return (\n    <div>\n\n      <Form.Group>\n        <Form.ControlLabel>System Notifications</Form.ControlLabel>\n        {/* <Form.Control /> */}\n        <div style={{ display: 'flex', gap: 5, paddingTop: 10 }}>\n\n          <Toggle\n            checked={system.notifications.showCommands}\n            onChange={v => system.notifications.updateCommands(v)}\n            size=\"lg\"\n            checkedChildren=\"Commands: on\"\n            unCheckedChildren=\"Commands: off\" />\n\n          <Toggle\n            checked={system.notifications.showCallbacks}\n            onChange={v => system.notifications.updateCallbacks(v)}\n            size=\"lg\"\n            checkedChildren=\"Callbacks: on\"\n            unCheckedChildren=\"Callbacks: off\" />\n\n        </div>\n\n        {/* <Form.HelpText>Username is required</Form.HelpText> */}\n      </Form.Group>\n\n      <div style={{ paddingTop: 20 }}>\n        <NotificationsSettings />\n      </div>\n\n    </div>\n  )\n}","import * as React from 'react'\n\n// blocks\nimport { DebugPanel } from './DebugPanel'\n\n\ninterface Props {\n  // children: any\n}\n\nexport const Panel: React.FC<Props> = () => {\n\n  return (\n    <div>\n      <DebugPanel />\n    </div>\n  )\n}","import * as React from 'react'\n\n// context\nimport { useSystem } from '../../../context/';\n\n// ui\nimport Sidenav from 'rsuite/Sidenav';\nimport Nav from 'rsuite/Nav';\n// import Dropdown from 'rsuite/Dropdown';\n\n// icons\nimport ListIcon from '@rsuite/icons/List';\nimport HistoryIcon from '@rsuite/icons/History';\nimport SettingIcon from '@rsuite/icons/Setting';\nimport PlayOutlineIcon from '@rsuite/icons/PlayOutline';\nimport ProjectIcon from '@rsuite/icons/Project';\n\n// components\nimport { CustomDrawer } from '../../../components/Drawer'\n\n// panels\nimport { Panel as PanelPlayerData } from './PanelPlayerData'\nimport { Panel as PanelMetaData } from './PanelMetaData'\nimport { Panel as PanelMenuProject } from './PanelMenuProject'\nimport { Panel as PanelMenuSystem } from './PanelMenuSystem'\nimport { Panel as PanelHistoryCommands } from './PanelHistoryCommands'\nimport { Panel as PanelHistoryCallbacks } from './PanelHistoryCallbacks'\nimport { Panel as PanelSettings } from './PanelSettings'\nimport { Panel as PanelPixelStreaming } from './PanelPixelStreaming'\n\ninterface Props {\n  onClose: Function,\n}\n\nexport const DevMenu: React.FC<Props> = (props) => {\n  const refDrawer = React.useRef<any>(null)\n  const system = useSystem()\n\n  const menuList = [\n    ['Player Data', 'playerData', <ListIcon />, <PanelPlayerData />],\n    ['Meta Data', 'metaData', <ListIcon />, <PanelMetaData />],\n    ['Menu: system', 'menuSystem', <ProjectIcon />, <PanelMenuSystem />],\n    ['Menu: project', 'menuProject', <ProjectIcon />, <PanelMenuProject />],\n    ['History: commands', 'historyCommands', <HistoryIcon />, <PanelHistoryCommands />],\n    ['History: callbacks', 'historyCallbacks', <HistoryIcon />, <PanelHistoryCallbacks />],\n    ['Settings', 'settings', <SettingIcon />, <PanelSettings />],\n    ['Pixel Streaming', 'pixelStreaming', <PlayOutlineIcon />, <PanelPixelStreaming />],\n  ].map(([label, slug, Icon, Component]) => ({ label, slug, Icon, Component }))\n\n  const openPanel = (item: any) => {\n    system.dispatch.updateDevBar({ slug: item.slug })\n    refDrawer.current.open(item.label, true, item.Component)\n  }\n\n\n  return (\n    <div>\n      <CustomDrawer\n        onClose={() => props.onClose()}\n        ref={refDrawer} />\n\n      <Sidenav defaultOpenKeys={['3', '4']}>\n        <Sidenav.Body>\n          <Nav>\n            {menuList.map((item, index) => {\n              return (\n                <Nav.Item\n                  key={index}\n                  icon={<>{item.Icon}</>}\n                  eventKey={index.toString()}\n                  children={item.label}\n                  onClick={() => {\n                    openPanel(item)\n                  }} />\n              )\n            })}\n\n            {/* <Dropdown eventKey=\"3\" title=\"Advanced\" icon={<Magic />}>\n              <Dropdown.Item eventKey=\"3-1\">Geo</Dropdown.Item>\n              <Dropdown.Item eventKey=\"3-2\">Devices</Dropdown.Item>\n              <Dropdown.Item eventKey=\"3-3\">Loyalty</Dropdown.Item>\n              <Dropdown.Item eventKey=\"3-4\">Visit Depth</Dropdown.Item>\n            </Dropdown> */}\n            {/* <Dropdown eventKey=\"4\" title=\"Settings\" icon={undefined}>\n              <Dropdown.Item eventKey=\"4-1\">Applications</Dropdown.Item>\n              <Dropdown.Item eventKey=\"4-2\">Channels</Dropdown.Item>\n              <Dropdown.Item eventKey=\"4-3\">Versions</Dropdown.Item>\n            </Dropdown> */}\n          </Nav>\n        </Sidenav.Body>\n      </Sidenav>\n\n      <></>\n    </div>\n  )\n}","import * as React from 'react'\n\n// ui\nimport Modal from 'rsuite/Modal';\nimport Button from 'rsuite/Button';\n\n\ninterface Props {\n  children: React.ReactNode\n  onClose?: Function\n  onSuccess?: Function\n  title: string\n  FooterComponent?: React.ReactNode | false\n}\n\nexport const CustomModal: React.FC<any> = React.forwardRef((props: Props, ref: any) => {\n\n  const [open, setOpen] = React.useState<any>(false);\n\n  /**\n   * The component instance will be extended\n   * with whatever you return from the callback passed\n   * as the second argument\n   */\n  React.useImperativeHandle(ref, () => ({\n\n    open: () => {\n      setOpen(true)\n    },\n    close: () => {\n      handleClose()\n    },\n    isOpen: open,\n\n  }));\n\n  const handleClose = () => {\n    setOpen(false)\n\n    if (typeof props.onClose === 'function') {\n      props.onClose()\n    }\n  }\n\n  const handleSuccess = () => {\n    if (typeof props.onSuccess === 'function') {\n      props.onSuccess()\n    }\n\n    handleClose()\n  }\n\n  const showFooter = props.FooterComponent !== false\n\n  return (\n    <Modal open={open} onClose={handleClose}>\n      <Modal.Header>\n        <Modal.Title>\n          {props.title}\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        {props.children}\n      </Modal.Body>\n\n      {showFooter && (\n        <Modal.Footer>\n          {props.FooterComponent || (\n            <>\n              <Button onClick={handleSuccess} appearance=\"primary\">\n                Ok\n              </Button>\n              <Button onClick={handleClose} appearance=\"subtle\">\n                Cancel\n              </Button>\n            </>\n          )}\n\n        </Modal.Footer>\n      )}\n\n    </Modal>\n  );\n})","\n\nimport * as React from 'react'\n\n// config\nimport { config } from '../../../assets/config'\n\n// hooks\nimport { useStorageBook } from '../../../hooks/useStorageBook';\n\n// context\nimport { useSystem } from '../../../context/';\n\n// ui\nimport Button from 'rsuite/Button'\nimport Input from 'rsuite/Input';\nimport Message from 'rsuite/Message';\n\n// components\nimport { CustomModal } from '../../../components/Modal'\n\n\nexport const Actions: React.FC = () => {\n  const system = useSystem()\n  const storageBook = useStorageBook()\n  const refModal = React.useRef<any>(null)\n\n  const [value, setValue] = React.useState<string>('')\n  const [error_, setError] = React.useState<boolean | string>(false)\n  const [disabled, setDisabled] = React.useState<boolean>(false)\n\n  const error = system.cls?.apiData?.error\n\n  React.useEffect(() => {\n\n    storageBook.apiKey.read((v: any) => {\n      if (v) setValue(v)\n    })\n\n  }, [])\n\n  const handleOpen = () => {\n    refModal.current.open()\n  }\n\n  const handleSubmit = async (event: any) => {\n    if (event) {\n      event.stopPropagation()\n      event.preventDefault()\n    }\n\n    setDisabled(true)\n    setError(false)\n    const isDataLoaded = await system.cls.loadData(value)\n\n    if (isDataLoaded) {\n      system.cls.setApiKey(value)\n      refModal.current.close()\n    } else {\n      setError('Wrong Api Key')\n    }\n\n    setDisabled(false)\n\n  }\n\n  return (\n    <div>\n      <CustomModal\n        title=\"Api Connector\"\n        onSuccess={undefined}\n        onClose={undefined}\n        FooterComponent={(\n          <>\n            <Button onClick={() => {\n              window.open(config.portal.urlProjects)\n            }}>\n              My Projects\n            </Button>\n            <Button disabled={disabled} onClick={handleSubmit} appearance=\"primary\">\n              Connect\n            </Button>\n          </>\n        )}\n        ref={refModal}>\n        <div>\n          <Message showIcon type=\"warning\" style={{ marginBottom: 20 }}>\n            Copy your Api Key from <a href={config.portal.urlProjects} target=\"_blank\">{config.portal.name}</a>\n          </Message>\n\n          <form onSubmit={handleSubmit}>\n            <Input\n              disabled={disabled}\n              value={value}\n              onChange={setValue}\n              size='lg'\n              required\n              placeholder=\"Enter Api Key\" />\n\n            {error && (\n              <div style={{ color: 'red', marginTop: 10 }}>\n                {error}\n              </div>\n            )}\n          </form>\n\n        </div>\n      </CustomModal>\n\n      {system.cls.apiKeyIsCorrect ? (\n        <Button\n          color='green'\n          appearance='ghost'\n          onClick={handleOpen}>\n          Reconnect Project\n        </Button>\n      ) : (\n        <Button\n          color='red'\n          appearance='primary'\n          onClick={handleOpen}>\n          Connect Project\n        </Button>\n      )}\n\n    </div>\n  )\n}","\nimport * as React from 'react'\n\n// config\nimport { config } from '../../assets/config';\n\n// ui\nimport Button from 'rsuite/Button';\n\n// context\nimport { useSystem } from '../../context/';\n\n\nexport const UpdateMessage: React.FC = () => {\n  const system = useSystem()\n\n  const data = system.cls.apiData.module\n\n  if (!data?.update) {\n    return <div />\n  }\n\n  return (\n    <div style={{ padding: '1rem' }}>\n      <Button color=\"red\" appearance=\"primary\" block href={config.updateUrl} target=\"_blank\">\n        Update MetaEditor to v{data?.release}\n      </Button>\n    </div>\n  )\n}","import * as React from 'react'\n\n// config\nimport { config } from '../../assets/config';\n\n// context\nimport { useSystem } from '../../context/';\n\n// hooks\nimport { useHotkeys } from '../../hooks/useHotkeys'\n\n// ui\nimport { jss, media } from '../../assets/styled';\nimport IconButton from 'rsuite/IconButton';\nimport GearIcon from '@rsuite/icons/Gear';\n\n// components\nimport { CustomDrawer } from '../../components/Drawer'\n\n// blocks\nimport { DevMenu } from './DevMenu'\nimport { Actions } from './Actions/'\nimport { UpdateMessage } from './UpdateMessage'\n\n\nconst useStyles = jss({\n  titleList: {\n    margin: 0,\n    display: 'flex',\n    alignItems: 'center',\n    '& > li:nth-child(2) > span': {\n      marginLeft: 10,\n      padding: '3px 5px',\n      borderRadius: 4,\n      fontSize: 11,\n      backgroundColor: 'rgba(255,255,255,.3)',\n    }\n  }\n})\n\ninterface Props {\n  // children: any\n}\n\nexport const DevBar: React.FC<Props> = () => {\n  const classes = useStyles()\n  const system = useSystem()\n  const refDrawer = React.useRef<any>(null)\n\n  const setDrawerSlug = () => {\n    system.dispatch.updateDevBar({ slug: 'drawer' })\n  }\n\n  const openDrawer = () => {\n    setDrawerSlug()\n    if (refDrawer.current.isOpen) {\n      refDrawer.current.close()\n    } else {\n      refDrawer.current.open()\n    }\n  }\n\n  useHotkeys('ctrl+z', (e) => {\n    if (!e.repeat) {\n      openDrawer()\n      return;\n    }\n  }, [])\n\n\n  return (\n    <div>\n\n      <IconButton\n        onClick={() => openDrawer()}\n        icon={<GearIcon />} circle size=\"lg\" />\n\n      <CustomDrawer\n        onClose={() => {\n          system.dispatch.updateDevBar({ slug: null })\n        }}\n        ref={refDrawer}\n        withBody={false}\n        title={(\n          <ul className={classes.titleList}>\n            <li>\n              <h6>\n                MetaEditor\n              </h6>\n            </li>\n            <li>\n              <span>v{config.version}</span>\n            </li>\n          </ul>\n        )}\n        ActionsComponent={<Actions />}>\n        <div>\n          <UpdateMessage />\n          <DevMenu onClose={() => {\n            setDrawerSlug()\n          }} />\n        </div>\n      </CustomDrawer>\n\n    </div>\n  );\n};\n","import * as React from 'react'\n\n// context\nimport { usePlayer, useSystem } from '../context/';\n\n// ui\nimport { jss } from '../assets/styled';\nimport Progress from 'rsuite/Progress';\nimport IconButton from 'rsuite/IconButton';\nimport PlayOutlineIcon from '@rsuite/icons/PlayOutline';\nimport GearIcon from '@rsuite/icons/Gear';\n\n\nconst useStyles = jss({\n  root: {\n    transition: 'opacity 700ms linear',\n    backgroundColor: '#000',\n    position: 'fixed',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    zIndex: 1050 - 100, //modal\n    '& > video': {\n      width: '100%',\n      height: '100%',\n      objectFit: 'cover',\n      opacity: .4,\n      position: 'absolute',\n      overflow: 'hidden',\n      alignItems: 'center',\n      justifyContent: 'center',\n      pointerEvents: 'none',\n      zIndex: -1,\n    }\n  },\n  box: {\n    fontSize: 12,\n    opacity: .7,\n    display: 'inline-block',\n    cursor: 'default'\n  },\n  reportLink: {\n    display: 'inline-block',\n    marginTop: 10,\n    borderBottom: `solid 1px rgba(255,255,255,.3)`,\n    cursor: 'pointer'\n  }\n})\n\n\ninterface Props {\n  // children: any\n}\n\nexport const PlayerOverlay: React.FC<Props> = () => {\n  const classes = useStyles()\n  const player = usePlayer()\n  const system = useSystem()\n  const refRoot = React.useRef<any>(null)\n\n  const { percent, time } = player.cls.info.loading\n\n  const videoUrl = system.config.videoUrl\n  const { status, _isPending, _inProgress, _allowPlay, _allowOverlay, _playError } = player.computed.streaming\n\n  React.useEffect(() => {\n    refRoot.current.style.opacity = _allowOverlay ? 1 : 0;\n    refRoot.current.style.pointerEvents = _allowOverlay ? 'all' : 'none'\n  }, [_allowOverlay])\n\n  const renderButton = (onClick: Function, Icon: Function, spin: boolean) => {\n    return (\n      <IconButton\n        onClick={(event: any) => {\n          event.preventDefault()\n          event.stopPropagation()\n          onClick()\n        }}\n        circle\n        icon={(\n          <Icon\n            spin={spin}\n            style={{ fontSize: '5em' }} />\n        )} />\n    )\n  }\n\n  const renderContent = () => {\n\n    // const { active, empty, activation, initialized, initializing } = player.computed.streaming\n\n    const eProps = {\n      style: { width: 120, cursor: 'default' },\n      percent,\n      showInfo: true,\n    }\n\n\n    if (_playError) {\n      return (<Progress.Circle {...eProps} status='fail' />)\n\n    } else if (_inProgress && percent > 0) {\n\n      //  else if (_allowPlay || initialized || active || percent >= 100) {\n      //   return (<Progress.Circle {...eProps} status='success' />)\n      // }\n\n      return (<Progress.Circle {...eProps} status='active' />)\n\n    } else if (_allowPlay) {\n      return renderButton(() => player.cls.streamingConnect(), PlayOutlineIcon, false)\n    }\n\n    return renderButton(() => { }, GearIcon, true)\n  }\n\n  const renderStatus = () => {\n\n\n    return (\n      <div style={{\n        textAlign: 'center'\n      }}>\n\n        <div style={{\n          margin: 20\n        }}>\n          {renderContent()}\n        </div>\n\n        <div className={classes.box}>\n          <div style={{\n            textTransform: 'uppercase',\n            letterSpacing: 2,\n          }}>\n            {status} {_isPending && percent > 0 ? time : ''}\n          </div>\n\n          {system.config.issuesUrl ? (\n            <div\n              onClick={() => window.open(system.config.issuesUrl)}\n              className={classes.reportLink}>\n              Report a problem\n            </div>\n          ) : ''}\n\n\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div\n      ref={refRoot}\n      className={classes.root}>\n\n      {videoUrl ? (\n        <video loop autoPlay muted>\n          <source src={videoUrl} type=\"video/mp4\" />\n        </video>\n      ) : ''}\n\n      {renderStatus()}\n\n    </div>\n  )\n}","import * as React from 'react'\n\n// ui\nimport { jss } from '../assets/styled'\nimport IconButton from 'rsuite/IconButton';\nimport { TypeAttributes } from 'rsuite/esm/@types/common';\n\n// icons\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  faVolumeHigh,\n  faVolumeOff,\n  faExpand,\n  faQrcode,\n  faCompress,\n  faPlay,\n  faPause,\n  faStar,\n  faSquareCaretLeft,\n  faSquareCaretRight,\n  faSquareCaretUp,\n  faSquareCaretDown,\n  faQuestion,\n} from '@fortawesome/free-solid-svg-icons'\n\n\n\nconst useStyles = jss({\n  root: {\n    width: ({ size }: any) => size,\n    height: ({ size }: any) => size,\n    fontSize: ({ size }: any) => size / 1.3,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    overflow: 'hidden',\n  }\n})\n\ntype INames = string | 'question' | 'volumeOn' | 'volumeOff' | 'expand' | 'qrcode' | 'compress' | 'play' | 'pause' | 'star' | 'arrowLeft' | 'arrowRight' | 'arrowUp' | 'arrowDown'\n\ninterface PropsSchema {\n  name: INames\n  size?: number\n  button?: boolean\n  buttonSize?: TypeAttributes.Size\n  disabled?: boolean\n  onClick?: Function\n}\n\nconst defaultProps: PropsSchema = {\n  name: 'volumeOn',\n  size: 20,\n}\n\nexport const SvgIcon: React.FC<PropsSchema> = (props: PropsSchema = defaultProps) => {\n  const { size, name } = props\n  const classes = useStyles({ size })\n\n  const list: any = {\n    volumeOn: faVolumeHigh,\n    volumeOff: faVolumeOff,\n    expand: faExpand,\n    qrcode: faQrcode,\n    compress: faCompress,\n    play: faPlay,\n    pause: faPause,\n    star: faStar,\n    arrowLeft: faSquareCaretLeft,\n    arrowRight: faSquareCaretRight,\n    arrowUp: faSquareCaretUp,\n    arrowDown: faSquareCaretDown,\n    question: faQuestion,\n  }\n\n\n  const renderIcon = () => {\n    const getIcon = () => {\n      if (!list.hasOwnProperty(name)) {\n        return <></>\n      }\n      return list[name]\n    }\n\n    return (\n      <span className={classes.root}>\n        <FontAwesomeIcon icon={getIcon()} />\n      </span>\n    )\n  }\n\n  if (props.button) {\n    return (\n      <IconButton\n        disabled={props.disabled}\n        onClick={() => {\n          if (typeof props.onClick === 'function') {\n            props.onClick()\n          }\n        }}\n        icon={renderIcon()}\n        circle\n        size={props.buttonSize} />\n    )\n  }\n\n  return renderIcon()\n\n}\nSvgIcon.defaultProps = defaultProps;\n","import * as React from \"react\";\n\n// hooks\nimport { useHotkeys } from '../../hooks/useHotkeys'\n\n\nexport const useFullscreen = () => {\n  const [active, setActive] = React.useState(false)\n\n  // Hot key\n  useHotkeys('ctrl+f', (e: any) => {\n    if (!e.repeat) {\n      cls.open()\n      return;\n    }\n  }, [])\n\n\n  const fullscreenchanged = () => {\n\n    if (document.fullscreenElement) {\n      console.log(`Element: ${document.fullscreenElement.id} entered fullscreen mode.`);\n      setActive(true)\n    } else {\n      console.log('Leaving fullscreen mode.');\n      setActive(false)\n    }\n\n  }\n\n  React.useEffect(() => {\n    document.addEventListener('fullscreenchange', fullscreenchanged);\n\n    return () => {\n      document.removeEventListener('fullscreenchange', fullscreenchanged);\n    }\n  }, [])\n\n  const cls = new class {\n    doc: any\n    active: boolean\n\n    constructor() {\n      // Get the documentElement (<html>) to display the page in fullscreen\n      this.doc = document.documentElement\n      this.active = active\n    }\n\n    /* View in fullscreen */\n    open() {\n\n      if (this.doc.requestFullscreen) {\n        this.doc.requestFullscreen()\n          .then(() => {\n            // element has entered fullscreen mode successfully\n          })\n          .catch((error: any) => {\n            console.error({ error });\n          });\n      } else if (this.doc.webkitRequestFullscreen) { /* Safari */\n        this.doc.webkitRequestFullscreen()\n          .then(() => {\n            // element has entered fullscreen mode successfully\n          })\n          .catch((error: any) => {\n            console.error({ error });\n          });\n      } else if (this.doc.msRequestFullscreen) { /* IE11 */\n        this.doc.msRequestFullscreen().then(() => {\n          // element has entered fullscreen mode successfully\n        })\n          .catch((error: any) => {\n            console.error({ error });\n          });\n      }\n    }\n\n    /* Close fullscreen */\n    close() {\n\n      if (document.fullscreenElement) {\n        document.exitFullscreen()\n          .then(() => console.log(\"Document Exited from Full screen mode\"))\n          .catch((err) => console.error(err))\n      } else {\n        document.documentElement.requestFullscreen();\n      }\n\n      // if (document.exitFullscreen) {\n      //   document.exitFullscreen();\n      // } else if (document.webkitExitFullscreen) { /* Safari */\n      //   document.webkitExitFullscreen();\n      // } else if (document.msExitFullscreen) { /* IE11 */\n      //   document.msExitFullscreen();\n      // }\n    }\n  }\n\n  return cls\n};\n","import * as React from 'react'\n\nexport const useCopy = () => {\n\n  const cls = new class {\n    text(text: string) {\n      navigator.clipboard.writeText(text).then(function () {\n        console.log('Async: Copying to clipboard was successful!');\n        alert('Copied!')\n      }, function (err) {\n        console.error('Async: Could not copy text: ', err);\n      });\n    }\n  }\n\n  return cls\n}","/* Usage\n\n// components\nimport QrCode from 'src/components/QrCode/'\n\nfunction Demo() {\n\n  return (\n\n  )\n}\n*/\n\nimport * as React from 'react';\n\n// libs\nimport ReactQRCode from \"react-qr-code\";\n\n\ninterface Props {\n  level?: 'L' | 'M' | 'Q' | 'H'\n  fgColor?: string\n  bgColor?: string\n  value: string\n  size?: number\n  title?: string\n}\n\nconst defaultProps: Props = {\n  level: 'L',\n  fgColor: '#000000',\n  // fgColor: 'var(--rs-bg-overlay)',\n  bgColor: '#FFFFFF',\n  value: '',\n  size: 26,\n  title: '',\n};\n\nexport const QrCode = (props: Props = defaultProps) => {\n\n  return (\n    <div>\n      <ReactQRCode\n        level={props.level}\n        bgColor={props.bgColor}\n        fgColor={props.fgColor}\n        size={props.size}\n        title={props.title}\n        value={props.value} />\n    </div>\n  );\n}\n","import * as React from 'react'\n\n// context\nimport { useSystem, usePlayer } from '../../context/'\n\n// hooks\nimport { useCopy } from '../../hooks/useCopy'\n\n// ui\nimport { jss } from '../../assets/styled';\nimport Input from 'rsuite/Input';\nimport InputGroup from 'rsuite/InputGroup';\n\n// icons\nimport CopyIcon from '@rsuite/icons/Copy';\n\n// components\nimport { SvgIcon } from '../../components/SvgIcon'\nimport { CustomModal } from '../../components/Modal'\nimport { QrCode } from '../../components/QrCode'\n\n\nconst useStyles = jss({\n  root: {\n    backgroundColor: '#fff',\n    padding: '60px 30px',\n    display: 'flex',\n    justifyContent: 'center',\n    borderRadius: 10,\n    marginTop: 30\n  }\n})\n\nexport const ShareLink = () => {\n  const classes = useStyles()\n  const system = useSystem()\n  const player = usePlayer()\n  const copy = useCopy()\n\n  const refModal = React.useRef<any>(null)\n\n  const sharedUrl = system.cls.sharedUrl\n\n  return (\n    <div>\n      <CustomModal\n        title=\"Quick Access\"\n        onSuccess={undefined}\n        onClose={undefined}\n        FooterComponent={undefined}\n        ref={refModal}>\n        <div>\n\n          <div style={{ marginBottom: 10 }}>\n            Copy the address or scan the QR code with your phone.\n          </div>\n\n          <InputGroup size='lg'>\n            <Input\n              readOnly={true}\n              defaultValue={sharedUrl || ''}\n            />\n            <InputGroup.Button onClick={() => copy.text(sharedUrl)}>\n              <CopyIcon />\n            </InputGroup.Button>\n          </InputGroup>\n\n          <div className={classes.root}>\n            <QrCode\n              value={sharedUrl}\n            />\n          </div>\n\n        </div>\n      </CustomModal>\n\n      <SvgIcon\n        disabled={!sharedUrl}\n        button buttonSize='lg' name='qrcode'\n        onClick={() => {\n          player.cls.streamingStop()\n          refModal.current.open()\n        }}\n      />\n    </div>\n  )\n}","import * as React from 'react'\n\n// context\nimport { usePlayer } from '../../context/';\n\n// ui\nimport { jss } from '../../assets/styled';\nimport Popover from 'rsuite/Popover';\nimport Whisper from 'rsuite/Whisper';\nimport Slider from 'rsuite/Slider';\n\n// components\nimport { SvgIcon } from '../../components/SvgIcon'\n\n\nconst useStyles = jss({\n  popover: {\n    width: 150,\n    padding: 10,\n  }\n})\n\nexport const VolumeButton = () => {\n  const classes = useStyles()\n  const player = usePlayer()\n  const refWhisper = React.useRef<any>(null)\n\n  const { active } = player.computed.streaming\n\n  const soundButtonDisabled = !active\n  const volume = player.state.playerSettings.volume\n  const volumeOff = typeof volume === 'number' && volume <= 0\n\n  const renderSpeacker = () => {\n    return (\n      <Popover title=\"Volume\">\n        <div className={classes.popover}>\n          <Slider\n            getAriaValueText={(int: number) => `${int * 100}%`}\n            tooltip={false}\n            min={0}\n            max={1}\n            step={.1}\n            value={player.state.playerSettings?.volume}\n            onChange={(v: number) => player.cls.changeVolume(v)}\n          />\n        </div>\n      </Popover>\n    )\n  }\n\n  return (\n\n    <div>\n      <Whisper\n        ref={refWhisper}\n        placement=\"left\"\n        trigger=\"hover\"\n        enterable\n        disabled={soundButtonDisabled}\n        speaker={renderSpeacker()}>\n\n        <div>\n          <SvgIcon\n            button\n            buttonSize='lg'\n            name={volumeOff ? 'volumeOff' : 'volumeOn'}\n            disabled={soundButtonDisabled}\n            onClick={() => {\n              const v = volume === 0 ? 1 : 0\n              player.cls.changeVolume(v)\n            }} />\n        </div>\n\n      </Whisper>\n\n\n    </div>\n  )\n}","import * as React from 'react'\n\n// ui\n// import Notification from 'rsuite/Notification';\nimport Message from 'rsuite/Message';\nimport toaster from 'rsuite/toaster';\n\n\ninterface IToaster {\n  placement: 'topCenter' | 'bottomCenter' | 'topStart' | 'topEnd' | 'bottomStart' | 'bottomEnd'\n}\n\nexport const useNotify = () => {\n  const message = new class {\n\n    clear() {\n      // toaster.remove('')\n      toaster.clear()\n    }\n\n    push(children: any, options: unknown, settings: IToaster) {\n      const message = (\n        <Message {...options}>\n          {children}\n        </Message>\n      )\n\n      toaster.push(message, settings)\n    }\n\n    // info(...args: any) {\n    //   this.push('info', ...args)\n    // }\n  }\n\n  return {\n    message,\n  }\n}","import * as React from 'react'\n\n// hooks\nimport { useNotify } from '../../../hooks/useNotify'\n\n// context\nimport { usePlayer } from '../../../context/';\n\n// ui\nimport { jss } from '../../../assets/styled';\nimport Button from 'rsuite/Button';\n\n\n// components\nimport { SvgIcon } from '../../../components/SvgIcon';\n\n\nconst useStyles = jss({\n  content: {\n\n  },\n  keysList: {\n    marginBottom: 20,\n    width: 230,\n    fontSize: '.8rem',\n    '& > li': {\n      display: 'flex',\n      alignItems: 'center',\n      padding: '3px 0',\n      '& label': {\n        width: 100,\n      },\n      '& > div': {\n        display: 'flex',\n        alignItems: 'center',\n        '& > span': {\n          margin: '0 4px',\n        }\n      }\n    }\n  },\n  button: {\n    backgroundColor: '#fff',\n    color: 'rgba(0,0,0,.7)',\n  }\n})\n\nexport const KeyboardHelper = () => {\n  const classes = useStyles()\n  const notify = useNotify()\n  const player = usePlayer()\n\n  React.useEffect(() => {\n\n    if (player.computed.streaming.active) {\n\n      setTimeout(() => {\n        handleOpen()\n      }, 1000 * 3)\n\n    }\n\n  }, [player.computed.streaming.active])\n\n  const renderContent = () => {\n    const list = [\n      ['Move up', 'W', 'arrowUp'],\n      ['Move down', 'S', 'arrowDown'],\n      ['Move left', 'A', 'arrowLeft'],\n      ['Move left', 'D', 'arrowRight'],\n    ].map(([label, key, icon]) => ({ label, key, icon }))\n\n    return (\n      <div className={classes.content}>\n        <ul className={classes.keysList}>\n          {list.map((item, index) => (\n            <li key={index}>\n              <label>\n                {item.label}\n              </label>\n              <div>\n                Press \"{item.key}\" or <SvgIcon name={item.icon} size={20} />\n              </div>\n            </li>\n          ))}\n        </ul>\n        <Button\n          onClick={() => notify.message.clear()}\n          appearance='primary' className={classes.button}>\n          I got it\n        </Button>\n      </div>\n    )\n  }\n\n\n  const handleOpen = () => {\n    // notify.message.clear()\n\n    notify.message.push(renderContent(), {\n      header: 'HotKeys',\n      showIcon: false,\n      type: 'info',\n      closable: true,\n      duration: 1000 * 10,\n    }, {\n      placement: 'bottomEnd',\n    })\n  }\n\n  return (\n    <SvgIcon button buttonSize='lg'\n      name={'question'}\n      onClick={() => {\n        handleOpen()\n      }} />\n  )\n\n  // return (\n  //   <div\n  //     onClick={() => handleOpen()}\n  //     style={{\n  //       top: 30,\n  //       left: 30,\n  //       position: 'fixed', zIndex: 1000,\n  //       // backgroundColor: 'red'\n  //     }}>\n\n  //     {renderContent()}\n\n  //   </div>\n  // )\n}","\nimport * as React from 'react'\n\nimport { KeyboardHelper } from './KeyboardHelper'\n\n\nexport const Helpers = {\n  KeyboardHelper\n}","import * as React from 'react'\n\n// context\nimport { usePlayer } from '../../context/';\n\n// components\nimport { SvgIcon } from '../../components/SvgIcon'\n\n// hooks\nimport { useFullscreen } from './useFullscreen'\n\n// blocks\nimport { ShareLink } from './ShareLink'\nimport { VolumeButton } from './VolumeButton'\nimport { Helpers } from './Helpers/'\n\ninterface Props {\n  // children: any\n}\n\nexport const PlayerActions: React.FC<Props> = () => {\n  const player = usePlayer()\n  const fullscreen = useFullscreen();\n\n  const { _allowPlay, active } = player.computed.streaming\n  const playButtonDisabled = !_allowPlay && !active\n\n  return (\n    <>\n\n      <SvgIcon button buttonSize='lg'\n        name={active ? 'pause' : 'play'}\n        disabled={playButtonDisabled}\n        onClick={() => {\n          player.cls.switchStart()\n        }} />\n\n      <VolumeButton />\n\n      <SvgIcon button buttonSize='lg'\n        name={fullscreen.active ? 'compress' : 'expand'}\n        onClick={() => {\n          if (fullscreen.active) {\n            fullscreen.close()\n          } else {\n            fullscreen.open()\n          }\n        }} />\n\n      <ShareLink />\n\n      <Helpers.KeyboardHelper />\n\n    </>\n  )\n}","import * as React from 'react';\n\n// ui\nimport { media } from '../assets/styled';\n\n// hooks\nimport { useEventListener } from './useEventListener'\n\n\nexport const useMedia = () => {\n\n\tconst defaultSizes = {\n\t\txs: false,\n\t\tsm: false,\n\t\tmd: false,\n\t\tlg: false,\n\t\txl: false,\n\t}\n\n\tconst [size, setSize] = React.useState<any>(defaultSizes);\n\n\tconst change = (key: string) => {\n\t\tsetSize({ defaultSizes, [key]: true })\n\t}\n\n\t// Handler to call on window resize\n\tconst handleResize = () => {\n\t\tconst width = window.innerWidth\n\n\t\tif (width > media.sizes.xl) { // > 1536\n\t\t\tchange('xl')\n\t\t}\n\t\telse if (width > media.sizes.lg) { // > 1200\n\t\t\tchange('lg')\n\t\t}\n\t\telse if (width > media.sizes.md) { // > 900\n\t\t\tchange('md')\n\t\t}\n\t\telse if (width > media.sizes.sm) { // > 600\n\t\t\tchange('sm')\n\t\t} else {\n\t\t\tchange('xs')\n\t\t}\n\n\t\t// console.log('@@@size', size)\n\t}\n\n\t// useEventListener('resize', handleResize)\n\n\tReact.useEffect(() => {\n\t\twindow.addEventListener(\"resize\", () => handleResize());\n\t\thandleResize();\n\n\t\treturn () => window.removeEventListener(\"resize\", () => handleResize());\n\t}, []);\n\n\treturn size\n}\n","import * as React from 'react'\n\n// context\nimport { useSystem, usePlayer } from '../../context/';\n\n\nexport default function useBridge() {\n  const system = useSystem()\n  const player = usePlayer()\n\n  const cls = new class {\n\n    async _emit(uuid: string) {\n      return await player.cls.emitUuidAsync(uuid)\n    }\n\n    get menu() {\n\n      const click = (uuid: string) => {\n        if (uuid) {\n          this._emit(uuid)\n        }\n      }\n\n      const list = system.project.menu || []\n      return list.map((item: any) => ({\n        ...item,\n        onClick: () => click(item.command_uuid),\n        subitems: item.subitems.map((sub: any) => ({\n          ...sub,\n          onClick: async () => {\n            click(item.command_uuid)\n            await click(sub.command_uuid)\n          },\n        }))\n      }))\n    }\n\n  }\n\n  return cls\n\n}\n\n","import * as React from 'react';\n\n// context\nimport { useSystem, usePlayer } from '../../context/';\n\n// hooks\nimport { useMedia } from '../../hooks/useMedia';\n\n// ui\nimport { jss, media } from '../../assets/styled';\nimport Navbar from 'rsuite/Navbar';\nimport Dropdown from 'rsuite/Dropdown';\nimport Animation from 'rsuite/Animation';\nimport Nav from 'rsuite/Nav';\nimport Popover from 'rsuite/Popover';\nimport Whisper from 'rsuite/Whisper';\n\n// bridge\nimport useBridge from './useBridge'\n\n\nconst useStyles = jss({\n  root: {\n    position: 'fixed',\n    left: 0,\n    right: 0,\n    bottom: 0,\n    zIndex: 1050 - 10, //modal\n    display: 'flex',\n    justifyContent: 'center',\n\n    [media.up.sm]: {\n      left: 10,\n      right: 10,\n      bottom: 10,\n    },\n    '& > div': {\n      opacity: ({ isMoving }: any) => isMoving ? .3 : 1,\n      backgroundColor: 'rgba(0,0,0,.8)',\n\n      [media.down.sm]: {\n        width: '100%',\n        borderTop: `solid 1px rgba(255,255,255,.1)`,\n      },\n      [media.up.sm]: {\n        backdropFilter: 'blur(5px)',\n        border: `solid 1px rgba(255,255,255,.1)`,\n        borderRadius: 5,\n        transition: 'opacity .5s ease-in-out',\n        padding: '0 10px',\n      },\n    }\n  },\n  dropdownItem: {\n    display: 'flex',\n    alignItems: 'center',\n    minWidth: 150,\n    maxWidth: 200,\n    '& > img': {\n      width: 50,\n      borderRadius: 5,\n      marginRight: 10\n    }\n  },\n\n  mobileNavbar: {\n    display: 'flex',\n    alignItems: 'center',\n    margin: 0,\n    padding: '0 10px',\n    // minHeight: 56,\n    '& > [data-li=\"logo\"]': {\n      fontWeight: 600,\n      minWidth: 100,\n      whiteSpace: 'nowrap',\n      overflow: 'hidden',\n      textOverflow: 'ellipsis',\n      padding: '15px 10px',\n    },\n    '& > [data-li=\"menu\"]': {\n      flex: 1,\n      overflowY: 'auto',\n    }\n  },\n  mobileMenu: {\n    display: 'flex',\n    '& > li': {\n      padding: '15px 10px',\n      '& label': {\n        fontSize: '.8rem',\n        textTransform: 'uppercase',\n      }\n    }\n  }\n})\n\n// interface MobilePopoverProps {\n\n// }\n\nconst MenuPopover = React.forwardRef(({ onClose, items, ...rest }: any, ref: any) => {\n  const classes = useStyles({ isMoving: false })\n\n  return (\n    <Popover ref={ref} {...rest} full>\n      <Dropdown.Menu>\n        {items.map((item: any, index: number) => (\n          <Dropdown.Item key={index} onClick={() => {\n            item.onClick()\n            onClose()\n          }}>\n            <div className={classes.dropdownItem}>\n              {item.preview_small ? (\n                <img src={item.preview_small} />\n              ) : ''}\n              {item.name}\n            </div>\n          </Dropdown.Item>\n        ))}\n      </Dropdown.Menu>\n    </Popover>\n  )\n});\n\nconst Panel = React.forwardRef((props: any, ref: any) => {\n  const system = useSystem()\n  const player = usePlayer()\n  const bridge = useBridge()\n  const _media = useMedia()\n\n  const refMobilePopover = React.useRef<any>();\n\n  const [activeKey, setActiveKey] = React.useState<any>(null);\n\n  const isDisabled = !player.computed.streaming.active\n  const isMoving = player.computed.mouse.moving\n\n  const classes = useStyles({ isMoving })\n\n  const isMobile = _media.xs || _media.sm\n\n  const renderMobileMenu = () => {\n\n    const closeMobileMenu = () => {\n      refMobilePopover.current.close()\n    }\n\n    return (\n      <div>\n        <ul className={classes.mobileNavbar}>\n          <li data-li=\"logo\">\n            {system.project.name}\n          </li>\n          <li data-li=\"menu\">\n            <ul className={classes.mobileMenu}>\n              {bridge.menu.map((item: any, index: number) => {\n                if (item.subitems.length > 0) {\n                  return (\n                    <li key={index}>\n                      <Whisper\n                        controlId=\"mobile-menu-popover\"\n                        placement={index < bridge.menu.length - 3 ? \"top\" : \"topEnd\"}\n                        trigger=\"click\"\n                        ref={refMobilePopover}\n                        speaker={(\n                          <MenuPopover\n                            items={item.subitems}\n                            onClose={closeMobileMenu}\n                          />\n                        )}\n                      >\n                        <label>\n                          {item.name}\n                        </label>\n                      </Whisper>\n                    </li>\n                  )\n                }\n\n                return (\n                  <li key={index}\n                    onClick={(event) => {\n                      event.preventDefault()\n                      item.onClick()\n                      closeMobileMenu()\n                    }}>\n                    <label>\n                      {item.name}\n                    </label>\n                  </li>\n                )\n              })}\n            </ul>\n          </li>\n        </ul>\n      </div>\n    )\n  }\n\n  const renderContent = () => {\n\n    return (\n\n      <Navbar appearance='subtle'>\n        <Navbar.Brand style={{ cursor: 'default' }}>\n          <strong>\n            {system.project.name}\n          </strong>\n        </Navbar.Brand>\n        <Nav\n          onSelect={setActiveKey}\n          activeKey={activeKey}\n          style={{\n            whiteSpace: 'unset',\n          }}>\n          {bridge.menu.map((item: any, index: number) => {\n\n            if (item.subitems.length > 0) {\n              return (\n                <Dropdown\n                  key={index}\n                  eventKey={index}\n                  placement=\"topStart\"\n                  title={item.name}>\n                  {item.subitems.map((subitem: any, i: number) => {\n                    const key = `${index}-${i}`\n                    return (\n                      <Dropdown.Item\n                        key={key}\n                        eventKey={key}\n                        disabled={isDisabled}\n                        onClick={() => subitem.onClick()}>\n                        <div className={classes.dropdownItem}>\n                          {subitem.preview_small ? (\n                            <img src={subitem.preview_small} />\n                          ) : ''}\n                          {subitem.name}\n                        </div>\n                      </Dropdown.Item>\n                    )\n                  })}\n                </Dropdown>\n              )\n            }\n\n            return (\n              <Nav.Item\n                key={index}\n                eventKey={index.toString()}\n                disabled={isDisabled}\n                onClick={(event) => {\n                  event.preventDefault()\n                  item.onClick()\n                }}>\n                {item.name}\n              </Nav.Item>\n            )\n\n          })}\n\n        </Nav>\n        {/* <Nav pullRight>\n            <Nav.Item>Settings</Nav.Item>\n          </Nav> */}\n\n      </Navbar >\n\n    )\n  }\n\n  return (\n    <div className={classes.root}>\n      <div>\n        <div {...props} ref={ref}>\n          {isMobile ? renderMobileMenu() : renderContent()}\n        </div>\n      </div>\n    </div>\n  );\n})\n\n\nexport const QuickMenu: React.FC<any> = () => {\n  const system = useSystem()\n\n  if (!system.project.exist) {\n    return (<div />)\n  }\n\n  return (\n    <Animation.Slide in={true} placement='bottom'>\n      {(props, ref) => <Panel {...props} ref={ref} />}\n    </Animation.Slide>\n  )\n}","\nimport * as React from 'react'\n\n// context\nimport { usePlayer } from '../context';\n\n// hooks\nimport { useCountdown } from '../hooks/useCountdown';\n\n// ui\nimport { jss } from '../assets/styled';\nimport Progress from 'rsuite/Progress';\nimport Animation from 'rsuite/Animation';\n\n\nconst useStyles = jss({\n  progressRoot: {\n    position: 'absolute',\n    zIndex: 1050 - 10,\n    top: 27,\n    left: 'calc((100vw - 200px) / 2)',\n    right: 0,\n    width: 200,\n    pointerEvents: 'none',\n  },\n  progress: {\n    display: 'flex',\n    alignItems: 'center',\n    textShadow: '1px 1px rgba(0,0,0, .2)',\n\n    '& .rs-progress-line-outer': {\n      border: 'solid 1px rgba(0,0,0, .1)',\n      '& .rs-progress-line-inner': {\n        backgroundColor: 'rgba(255,255,255, .3)',\n      }\n    }\n\n  },\n})\n\n\nexport const ProgressKiller: React.FC<any> = () => {\n  const classes = useStyles()\n  const player = usePlayer()\n  const contdown = useCountdown()\n\n  const [mounted, setMounted] = React.useState(false)\n\n  const secondsToKill = player.state.config.secondsToKill || 0\n  const secondsToKillLeft = player.state.config.secondsToKillLeft || 0\n\n  const { active } = player.computed.streaming\n\n  React.useEffect(() => {\n    if (active) {\n      if (!mounted && secondsToKill > 0) {\n        setMounted(true)\n      }\n\n      if (mounted && secondsToKillLeft > 0) {\n        contdown.start(secondsToKillLeft)\n      }\n\n    } else {\n      contdown.stop()\n    }\n  }, [active, secondsToKillLeft])\n\n  const show = contdown.active && active\n\n  if (!mounted) {\n    return (<div />)\n  }\n\n  return (\n    <Animation.Slide in={show} placement='top'>\n      {(props, ref) => (\n        <div className={classes.progressRoot}>\n          <div {...props} ref={ref}>\n            <div className={classes.progress}>\n              <Progress.Line\n                showInfo={false}\n                strokeColor='#fff'\n                percent={contdown.percent}\n                status={'active'} />\n              <div style={{ width: 60 }}>\n                {contdown.time}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </Animation.Slide>\n  )\n}","export const global: any = {\n  '@global': {\n    body: {\n      overscrollBehavior: 'contain',\n    },\n    // rsuit\n    '.rs-drawer-wrapper': {\n      pointerEvents: 'none',\n      '& *': {\n        pointerEvents: 'all',\n      },\n    },\n    '.rs-drawer': {\n      backdropFilter: 'blur(5px)',\n      borderLeft: 'solid 1px rgba(255, 255, 255, .2)',\n    },\n    '.rs-drawer-content': {\n      backgroundColor: 'rgba(0, 0, 0, .8)',\n    },\n    '.rs-sidenav-default': {\n      backgroundColor: 'transparent',\n      '& .rs-dropdown-toggle, & .rs-sidenav-item': {\n        backgroundColor: 'transparent',\n      },\n      [`& .rs-dropdown.rs-dropdown-open .rs-dropdown-toggle,\n        & .rs-dropdown .rs-dropdown-toggle,\n        & .rs-sidenav-item,\n        & .rs-dropdown-toggle,\n        & .rs-sidenav-item`]: {\n        backgroundColor: 'transparent',\n        '&:hover': {\n          backgroundColor: 'rgba(255, 255, 255, .3)',\n        }\n      }\n    },\n\n    '.rs-toast.rs-notification': {\n      width: 320,\n    },\n\n    '.rs-notification': {\n      width: '100%',\n    }\n  },\n}","import * as React from 'react'\n\n// pixel-streaming\nimport * as client from 'unreal-pixel-streaming'\nimport { psConfigSchema } from '../client/'\n\n// context\nimport { usePlayer, useSystem } from '../context/';\n\n// ui\nimport { jss } from '../assets/styled';\n\n// blocks\nimport { DebugPanel } from './DevBar/DevMenu/PanelPixelStreaming/DebugPanel'\nimport { DevBar } from './DevBar'\nimport { PlayerOverlay } from './PlayerOverlay'\nimport { PlayerActions } from './PlayerActions'\nimport { QuickMenu } from './QuickMenu/'\nimport { ProgressKiller } from './ProgressKiller'\n\n// styles\nimport { global } from '../styles/theme';\n\nconst useStyles = jss({\n  ...global,\n\n  root: {\n    margin: 0,\n    backgroundColor: 'black',\n    height: 'var(--window - height)',\n    overflow: 'hidden',\n    '& #player': {\n      '& video': {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 50,\n        zIndex: 0,\n        objectFit: `var(--player-object-fit)`,\n        cursor: 'pointer',\n      }\n    },\n  },\n  toolbar: {\n    position: 'fixed',\n    zIndex: 1050 - 1,\n    top: 20,\n    right: 20,\n    display: 'flex',\n    flexDirection: 'column',\n    gap: 10,\n  },\n})\n\n\ninterface metaConfigSchema {\n  showToolbar: boolean,\n  showQuickMenu: boolean,\n  showDevBar: boolean,\n  showOverlay: boolean,\n  notifications: {\n    showCommands: boolean,\n    showCallbacks: boolean,\n    placement: string,\n  },\n  videoUrl?: string,\n  issuesUrl?: string,\n}\n\ninterface configSchema {\n  // streamingUrl?: string,\n  secondsToKill: number,\n  secondsToStart: number,\n  autoRestart: boolean,\n}\n\nexport interface PlayerPropsSchema {\n  children?: JSX.Element | React.ReactNode,\n  apiKey?: string,\n  buildId?: string,\n  metaConfig: metaConfigSchema,\n  config: configSchema,\n  psConfig: psConfigSchema,\n  ueSettings: {\n    Encoder: client.Encoder,\n    WebRTC: client.WebRTC,\n    Console: {\n      mode: 'console' | 'command',\n      cursor: boolean,\n      hudSats: boolean,\n    }\n  }\n}\n\nexport const Player: React.FC<any> = (props: PlayerPropsSchema) => {\n  const classes = useStyles()\n  const player = usePlayer()\n  const system = useSystem()\n\n  let { apiKey, metaConfig, config, psConfig, ueSettings } = props\n  const [inited, setInited] = React.useState(false)\n\n  React.useEffect(() => {\n\n    system.cls.setApiKey(apiKey)\n    system.cls.initMetaConfig(metaConfig)\n    player.cls.initConfig(config, psConfig, ueSettings)\n\n  }, [])\n\n  /**\n   * Enrich config from system context\n   */\n  React.useEffect(() => {\n\n    if (inited === false && system.project.config) {\n\n      const { menu, ue_console_mode, ue_control_scheme, ue_sound } = system.project.config\n      system.cls.initMetaConfig({ showQuickMenu: menu })\n      ueSettings.Console.mode = ue_console_mode\n      psConfig.controlScheme = ue_control_scheme\n      psConfig.startVideoMuted = !ue_sound\n\n      setInited(true)\n      player.cls.initConfig(config, psConfig, ueSettings)\n    }\n\n  }, [system.project.config])\n\n\n  return (\n    <div className={classes.root}>\n      <div id=\"player\" />\n      <DebugPanel isFirst />\n\n      {system.config.showOverlay && (<PlayerOverlay />)}\n      {system.config.showQuickMenu && (<QuickMenu />)}\n\n      <ProgressKiller />\n\n      {(system.config.showToolbar || system.config.showDevBar) && (\n        <div className={classes.toolbar} id=\"metaeditor-toolbar\">\n          {system.config.showDevBar && (<DevBar />)}\n          {system.config.showToolbar && (<PlayerActions />)}\n        </div>\n      )}\n\n    </div>\n  )\n}"],"names":["OverlayBase","rootDiv","rootElement","classList","add","appendChild","show","remove","hide","ActionOverlayBase","textElement","client","AfkOverlayBase","countDownSpanElementId","update","countdown","document","getElementById","innerHTML","toString","TextOverlayBase","text","undefined","NativeDOMDelegate","config","showStats","logging","videoEncoderAvgQP","buildConnectOverlay","buildPlayOverlay","buildAfkOverlay","buildInfoOverlay","buildErrorOverlay","ConfigureButtons","connectOverlayHtml","createElement","id","className","connectOverlayEvent","onConnectAction","addEventListener","onOverlayClick","event","connectOverlayHtmlInner","connectOverlay","playerElement","playOverlayHtml","playOverlayEvent","onPlayAction","playOverlayHtmlInner","src","Images","playButton","alt","playOverlay","afkOverlayHtml","afkOverlayEvent","onAfkAction","afkOverlayHtmlInner","afkOverlay","infoOverlayHtml","infoOverlayHtmlInner","infoOverlay","errorOverlayHtml","errorOverlayHtmlInner","errorOverlay","onInstanceStateChange","instanceState","instanceStateMessage","isInstancePending","isError","state","UNALLOCATED","details","FAILED","PENDING","READY","showErrorOverlay","preExistingPendingMessage","spinnerSpan","spinnerDiv","setAttribute","showTextOverlay","outerHTML","onAuthenticationResponse","authResponse","outcome","AUTHENTICATED","INVALID_TOKEN","error","REDIRECT","redirect","ERROR","setUpToggleWithUrlParams","forceTurnToggle","setUpControlSchemeTypeToggle","controlSchemeToggle","onclick","iWebRtcController","restartStreamAutomaticity","console","debug","encode","MinQP","Number","encoderMinQpText","value","MaxQP","encoderMaxQpText","webRtcSettings","FPS","webRtcFpsText","MinBitrate","webRtcMinBitrateText","MaxBitrate","webRtcMaxBitrateText","sendEncoderSettings","sendWebRtcSettings","sendUeUiDescriptor","uiDescriptorText","sendShowFps","onchange","resizePlayerStyle","toggleMatchViewPortRes","matchViewportResolution","checked","qualityControlOwnershipCheckBox","sendRequestQualityControlOwnership","toggle","toggleElement","controlScheme","LockedMouse","controlSchemeToggleTitle","HoveringMouse","activateRegisterMouse","urlParameterKey","URLSearchParams","window","location","search","has","urlParams","set","history","replaceState","pathname","IsLinkSharingEnabled","onVideoInitialised","sendLatencyTest","viewSettingsHeader","viewSettingsContainer","contains","commandsHeader","commandsContainer","streamingSettingsHeader","streamingSettingsContainer","statsHeader","statsContainer","latencyHeader","latencyContainer","videoStartTime","Date","now","onDisconnect","onVideoEncoderAvgQP","onInitialSettings","settings","Encoder","WebRTC","onVideoStats","stats","runTime","toISOString","substr","statsText","inboundData","formatBytes","inboundVideoStats","bytesReceived","packetsLost","bitrate","framerate","framesDropped","candidatePair","currentRoundTripTime","receiveToCompositeMs","statsDiv","verboseLog","sendStatsToServer","sendStatsToSignallingServer","bytes","decimals","factor","dm","sizes","i","Math","floor","log","parseFloat","pow","toFixed","onLatencyTestResult","latencyTimings","latencyStatsInnerHTML","networkLatency","EncodeMs","CaptureToSendMs","browserSendLatency","frameDisplayDeltaTimeMs","browserReceiptTimeMs","latencyExcludingDecode","endToEndLatency","QP","statusLight","style","color","QualityColour","None","title","QualityThresholds","Bad","BlinkVideoQualityStatus","Spotty","Good","onQualityControlOwnership","hasQualityOwnership","speed","iteration","opacity","tickID","setInterval","String","abs","clearInterval","afkConnect","connectToSignallingSever","payload","Logger","EventsClass","ClientClass","streamingUrl","psConfig","init","url_parsed","parse","signallingServerProtocol","protocol","signallingServerAddress","hostname","CreateConfig","signalingAddress","getCfg","v","def","cfg","hasOwnProperty","_enableVerboseLogging","enableSpsAutoplay","startVideoMuted","suppressBrowserKeys","fakeMouseWithTouches","delegate","RTCPlayer","create","ontouchmove","preventDefault","ClientAccess","clientCb","cb","connect","cl","close","afkLogic","closeWebSocket","emitCommand","command","JSON","stringify","ueDescriptorUi","emitCommandSystem","emitConsole","iWebRTCController","initialState","commands_list","callbacks_list","secondsToKill","secondsToKillLeft","secondsToStart","autoRestart","ueSettings","initial","onStart","playerSettings","volume","webrtcData","status","statusUpdatedAt","errorCode","autoplaySupport","mouseEvent","moving","KEY","UPDATE","UPDATE_CONFIG","UPDATE_PS_CONFIG","UPDATE_UE_SETTINGS_INITIAL","UPDATE_UE_SETTINGS_ONSTART","UPDATE_PLAYER_SETTINGS","WEBRTC_STATUS","COMMANDS_LIST","CALLBACKS_LIST","COMMAND_CONFIRMATION","MOUSE_EVENT","reducer","action","type","anValue","webrtcStatusList","disconnected","includes","initialized_no_autoplay","initialized","moment","utc","confirmed","eventInjection","commandConfirmation","key","variant","verification_id","item","list","initiator","allow","res","filter","o","index","parseJson","data","err","useDispatch","React","dispatch","eventCommand","detail","eventCallbacks","cls","eventMouse","eventWebrtcStatus","updateWebrtcData","eventUeSettingsInitial","updateConfig","updatePsConfig","updateUeSettingsOnStart","updatePlayerSettings","eventHandler","apiKey","buildId","devBar","slug","sessionData","metaData","metaConfig","showToolbar","showQuickMenu","showDevBar","showOverlay","notifications","showCommands","showCallbacks","placement","videoUrl","issuesUrl","UPDATE_DEVBAR","UPDATE_METACONFIG","UPDATE_NOTIFICATION_SETTINGS","UPDATE_SESSION_DATA","updateDevBar","updateMetaConfig","updateNotificationSettings","updateSessionData","isDev","process","version","packageJson","systemName","websiteUrl","apiUrl","portalUrl","updateUrl","name","url","urlProjects","Request","urlBuilder","route","request","method","getOptions","options","mode","headers","Headers","body","fetch","response","json","responseJson","ok","GET","POST","DELETE","useApi","sessionRead","sessionUuid","sessionCreate","build_id","getMetaeditorData","useEventListener","eventName","handler","element","savedHandler","current","isSupported","eventListener","removeEventListener","useStorage","storageType","isBrowser","getItem","setItem","removeItem","wrapper","STORAGE_KEY","read","stored_data","save","useStorageBook","storage","API_INTERVAL_SEC","useBuildConnector","api","storageBook","refInterval","setBuildId","setSessionUuid","readSessionData","start","urlSessionExist","waitSessionData","then","uuid","Error","removeSession","infoLog","stream_data","metadata","api_key","params","decodeURI","replace","split","map","param","reduce","values","session","useVersionCompare","compare","a","b","a_components","b_components","len","min","length","parseInt","result","release","transform","match","join","useNotifier","refCommand","refCallback","restricted","getValue","pushCommand","message","Notification","header","closable","toaster","push","pushCallback","useActions","notifier","versionCompare","buildConnector","Ev","commands","placementValue","callbacks","loadData","initMetaConfig","setApiKey","connectBuild","commands_system","Array","isArray","commands_project","host","seconds_to_start","api_data","module_version","module","project","info","menu","keyboard","helpers","video_url","updatePlacement","updateCommands","updateCallbacks","label","AppContext","useSystem","Provider","props","actions","children","useResolution","ConsoleSettings","refTimer","width","height","setState","handleResize","innerWidth","innerHeight","doc","documentElement","setProperty","objectFit","updateWebrtcResolution","resize","clearTimeout","emitCmd","setTimeout","cursor","hudSats","sendUpdateVideoStreamSize","useUnload","fn","onUnload","args","deactivate","activate","useCountdown","active","percent","leftSeconds","setData","stop","seconds","startTime","targetTime","totalSeconds","duration","diff","asSeconds","relDiff","round","sec","format","useStreamKiller","streamingActive","refIntervalSec","handleStop","useUnrealSettings","Console","system","initReady","setInitReady","refTimeoutConfig","mouseAction","webrtcStatus","ueInitialSettings","unload","e","returnValue","computed","_s_","ch","empty","initializing","activation","stopped","_inProgress","_allowPlay","_playError","_allowOverlay","_isPending","streaming","resolution","streamingConnect","loadingContdown","initPlayer","_allowCommand","emitAsyncCommand","emitItem","ms","attempts","Promise","r","emitUuidAsync","command_uuid","initConfig","streamingStop","switchStart","changeVolume","videoPlayerController","audioElement","PlayAudioTrack","play","pause","loading","clear","usePlayer","ContextProvider","CustomProvider","theme","SystemProvider","PlayerProvider","blue","A100","A200","A400","A700","lightGreen","colors","primary","success","media","getMax","int","getMin","xs","sm","md","lg","xl","DebugPanel","player","isFirst","onWheel","stopPropagation","display","htmlFor","role","paddingTop","paddingBottom","defaultValue","defaultChecked","max","useStyles","jss","down","marginTop","container","overflow","pointerEvents","maxHeight","CustomDrawer","ref","classes","open","setOpen","withBody","Component","setConfig","c","handleClose","isOpen","onClose","renderChildren","Children","padding","Drawer","size","backdrop","Header","Title","ActionsComponent","Actions","marginRight","JsonViewer","ReactJson","backgroundColor","quotesOnKeys","groupArraysAfterLength","collapseStringsAfterLength","displayDataTypes","displayObjectSize","enableClipboard","Panel","renderState","groupList","listStyle","margin","marginBottom","borderBottom","textOverflow","whiteSpace","maxWidth","flexWrap","gap","CommandsList","performers","setPerformers","handlePerformer","handlerCommand","renderCommandsList","groups","group","items","group_list","Object","isLoading","getName","IconButton","onClick","icon","CopyIcon","zIndex","navigator","clipboard","writeText","alert","Button","block","methods","NotificationsSettings","ButtonToolbar","SelectPicker","onChange","target","innerText","placementsList","Form","Group","ControlLabel","Toggle","checkedChildren","unCheckedChildren","DevMenu","refDrawer","menuList","ListIcon","PanelPlayerData","PanelMetaData","ProjectIcon","PanelMenuSystem","PanelMenuProject","HistoryIcon","PanelHistoryCommands","PanelHistoryCallbacks","SettingIcon","PanelSettings","PlayOutlineIcon","PanelPixelStreaming","Icon","openPanel","Sidenav","defaultOpenKeys","Body","Nav","Item","eventKey","CustomModal","handleSuccess","onSuccess","showFooter","FooterComponent","Modal","Footer","appearance","refModal","setValue","error_","setError","disabled","setDisabled","apiData","handleOpen","handleSubmit","isDataLoaded","portal","Message","showIcon","href","onSubmit","Input","required","placeholder","apiKeyIsCorrect","UpdateMessage","titleList","alignItems","marginLeft","borderRadius","fontSize","DevBar","setDrawerSlug","openDrawer","useHotkeys","repeat","GearIcon","circle","root","transition","position","flexDirection","justifyContent","top","left","right","bottom","box","reportLink","PlayerOverlay","refRoot","time","renderButton","spin","renderContent","eProps","showInfo","Progress","Circle","renderStatus","textAlign","textTransform","letterSpacing","loop","autoPlay","muted","defaultProps","SvgIcon","volumeOn","faVolumeHigh","volumeOff","faVolumeOff","expand","faExpand","qrcode","faQrcode","compress","faCompress","faPlay","faPause","star","faStar","arrowLeft","faSquareCaretLeft","arrowRight","faSquareCaretRight","arrowUp","faSquareCaretUp","arrowDown","faSquareCaretDown","question","faQuestion","renderIcon","getIcon","FontAwesomeIcon","button","buttonSize","useFullscreen","setActive","fullscreenchanged","fullscreenElement","requestFullscreen","webkitRequestFullscreen","msRequestFullscreen","exitFullscreen","useCopy","level","fgColor","bgColor","QrCode","ReactQRCode","ShareLink","copy","sharedUrl","InputGroup","readOnly","popover","VolumeButton","refWhisper","soundButtonDisabled","renderSpeacker","Popover","Slider","getAriaValueText","tooltip","step","Whisper","trigger","enterable","speaker","useNotify","content","keysList","KeyboardHelper","notify","Helpers","PlayerActions","fullscreen","playButtonDisabled","useMedia","defaultSizes","setSize","change","useBridge","_emit","click","subitems","sub","up","isMoving","borderTop","backdropFilter","border","dropdownItem","minWidth","mobileNavbar","fontWeight","flex","overflowY","mobileMenu","MenuPopover","rest","full","Dropdown","Menu","preview_small","bridge","_media","refMobilePopover","activeKey","setActiveKey","isDisabled","mouse","isMobile","renderMobileMenu","closeMobileMenu","controlId","Navbar","Brand","onSelect","subitem","QuickMenu","exist","Animation","Slide","progressRoot","progress","textShadow","ProgressKiller","contdown","mounted","setMounted","Line","strokeColor","global","overscrollBehavior","borderLeft","toolbar","Player","inited","setInited","ue_console_mode","ue_control_scheme","ue_sound"],"mappings":"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"}