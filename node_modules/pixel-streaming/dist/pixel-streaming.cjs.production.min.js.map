{"version":3,"file":"pixel-streaming.cjs.production.min.js","sources":["../src/client/NativeDOMDelegate.ts","../src/client/index.ts","../src/context/usePlayer/useReducer.ts","../src/context/useSystem/useReducer.ts","../src/assets/config.ts","../src/hooks/useApi/useRequest.ts","../src/hooks/useApi/index.ts","../src/hooks/useEventListener.ts","../src/hooks/useStorage.ts","../src/hooks/useStorageBook.ts","../src/context/useSystem/hooks/useVersionCompare.ts","../src/context/useSystem/index.tsx","../src/context/useSystem/useActions.ts","../src/context/useSystem/hooks/useNotifier.tsx","../src/context/useSystem/hooks/useBuildConnector.ts","../src/hooks/useCountdown.ts","../src/context/usePlayer/index.tsx","../src/context/usePlayer/useActions.ts","../src/hooks/useUnload.ts","../src/context/usePlayer/hooks/useUnrealSettings.ts","../src/context/usePlayer/hooks/useResolution.ts","../src/context/usePlayer/hooks/useStreamKiller.ts","../src/assets/styled/index.ts","../src/snippets/DevBar/DevMenu/PanelPixelStreaming/DebugPanel.tsx","../src/components/Drawer.tsx","../src/components/JsonViewer.tsx","../src/snippets/DevBar/DevMenu/PanelPlayerData.tsx","../src/snippets/DevBar/DevMenu/PanelMetaData.tsx","../src/snippets/DevBar/snippets/CommandsList.tsx","../src/snippets/DevBar/DevMenu/PanelMenuProject.tsx","../src/snippets/DevBar/DevMenu/PanelMenuSystem.tsx","../src/snippets/DevBar/DevMenu/PanelHistoryCommands.tsx","../src/snippets/DevBar/DevMenu/PanelHistoryCallbacks.tsx","../src/snippets/DevBar/DevMenu/PanelSettings/NotificationsSettings.tsx","../src/snippets/DevBar/DevMenu/PanelSettings/index.tsx","../src/snippets/DevBar/DevMenu/PanelPixelStreaming/index.tsx","../src/snippets/DevBar/DevMenu/index.tsx","../src/components/Modal.tsx","../src/snippets/DevBar/Actions/index.tsx","../src/snippets/DevBar/UpdateMessage.tsx","../src/snippets/DevBar/index.tsx","../src/snippets/PlayerOverlay.tsx","../src/components/SvgIcon.tsx","../src/snippets/PlayerActions/useFullscreen.ts","../src/components/QrCode.tsx","../src/snippets/PlayerActions/ShareLink.tsx","../src/hooks/useCopy.ts","../src/snippets/PlayerActions/VolumeButton.tsx","../src/snippets/PlayerActions/Helpers/KeyboardHelper.tsx","../src/snippets/PlayerActions/Helpers/index.ts","../src/hooks/useNotify.tsx","../src/snippets/PlayerActions/index.tsx","../src/hooks/useMedia.ts","../src/snippets/QuickMenu/index.tsx","../src/snippets/QuickMenu/useBridge.ts","../src/snippets/ProgressKiller.tsx","../src/styles/theme.ts","../src/snippets/Player.tsx","../src/context/index.tsx","../src/assets/styled/colors/blue.js","../src/assets/styled/colors/lightGreen.js"],"sourcesContent":["import * as React from 'react'\n\nimport * as client from 'unreal-pixel-streaming'\n\n\n/**\n * Class for the base overlay structure \n */\nexport class OverlayBase implements client.IOverlay {\n\tprotected rootElement: HTMLDivElement;\n\tprotected rootDiv: HTMLDivElement;\n\n\t/**\n\t * Construct an overlay \n\t * @param rootDiv the root element this overlay will be inserted into \n\t * @param rootElement the root element that is the overlay\n\t */\n\tprotected constructor(rootDiv: HTMLDivElement, rootElement: HTMLDivElement) {\n\t\tthis.rootDiv = rootDiv;\n\t\tthis.rootElement = rootElement;\n\t\tthis.rootElement.classList.add(\"hiddenState\");\n\t\tthis.rootDiv.appendChild(this.rootElement);\n\t}\n\n\t/**\n\t * Show the overlay \n\t */\n\tpublic show(): void {\n\t\tthis.rootElement.classList.remove(\"hiddenState\");\n\t}\n\n\t/**\n\t * Hide the overlay\n\t */\n\tpublic hide(): void {\n\t\tthis.rootElement.classList.add(\"hiddenState\");\n\t}\n}\n\n/**\n * Class for the base action overlay structure \n */\nexport class ActionOverlayBase extends client.ActionOverlay {\n\tprotected rootElement: HTMLDivElement;\n\tprotected rootDiv: HTMLDivElement;\n\tprivate textElement: HTMLDivElement;\n\n\t/**\n\t * Construct an action overlay \n\t * @param rootDiv the root element this overlay will be inserted into \n\t * @param rootElement the root element that is the overlay\n\t * @param textElement an element that contains text for the action overlay \n\t */\n\tpublic constructor(rootDiv: HTMLDivElement, rootElement: HTMLDivElement, textElement: HTMLDivElement) {\n\t\tsuper();\n\t\tthis.rootDiv = rootDiv;\n\t\tthis.rootElement = rootElement;\n\t\tthis.textElement = textElement;\n\t\tthis.rootElement.appendChild(this.textElement);\n\t\tthis.rootElement.classList.add(\"hiddenState\");\n\t\tthis.rootDiv.appendChild(this.rootElement);\n\t}\n\n\t/**\n\t * Show the overlay \n\t */\n\tpublic show(): void {\n\t\tthis.rootElement.classList.remove(\"hiddenState\");\n\t}\n\n\t/**\n\t * Hide the overlay\n\t */\n\tpublic hide(): void {\n\t\tthis.rootElement.classList.add(\"hiddenState\");\n\t}\n\n}\n\n/**\n * Class for the afk overlay base \n */\nexport class AfkOverlayBase extends client.AfkOverlay {\n\tprotected rootElement: HTMLDivElement;\n\tprotected rootDiv: HTMLDivElement;\n\tprivate textElement: HTMLDivElement;\n\tprivate countDownSpanElementId: string;\n\n\t/**\n\t * Construct an Afk overlay \n\t * @param rootDiv the root element this overlay will be inserted into \n\t * @param rootElement the root element that is the overlay\n\t * @param textElement an element that contains text for the action overlay  \n\t * @param countDownSpanElementId the id of the span that holds the countdown element \n\t */\n\tpublic constructor(rootDiv: HTMLDivElement, rootElement: HTMLDivElement, textElement: HTMLDivElement, countDownSpanElementId: string) {\n\t\tsuper();\n\t\tthis.rootDiv = rootDiv;\n\t\tthis.rootElement = rootElement;\n\t\tthis.countDownSpanElementId = countDownSpanElementId;\n\t\tthis.textElement = textElement;\n\t\tthis.rootElement.appendChild(this.textElement);\n\t\tthis.rootElement.classList.add(\"hiddenState\");\n\t\tthis.rootDiv.appendChild(this.rootElement);\n\t}\n\n\t/**\n\t * Show the overlay \n\t */\n\tpublic show(): void {\n\t\tthis.rootElement.classList.remove(\"hiddenState\");\n\t}\n\n\t/**\n\t * Hide the overlay \n\t */\n\tpublic hide(): void {\n\t\tthis.rootElement.classList.add(\"hiddenState\");\n\t}\n\n\t/**\n\t * Update the count down spans number for the overlay \n\t * @param countdown the count down number to be inserted into the span for updating\n\t */\n\tpublic update(countdown: number): void {\n\t\tdocument.getElementById(this.countDownSpanElementId).innerHTML = countdown.toString();\n\t}\n\n}\n\n/**\n * Class for the text overlay base \n */\nexport class TextOverlayBase extends OverlayBase implements client.ITextOverlay {\n\tprivate textElement: HTMLDivElement;\n\n\t/**\n\t * Construct a text overlay \n\t * @param rootDiv the root element this overlay will be inserted into \n\t * @param rootElement the root element that is the overlay\n\t * @param textElement an element that contains text for the action overlay\n\t */\n\tpublic constructor(rootDiv: HTMLDivElement, rootElement: HTMLDivElement, textElement: HTMLDivElement) {\n\t\tsuper(rootDiv, rootElement);\n\t\tthis.textElement = textElement;\n\t\tthis.rootElement.appendChild(this.textElement);\n\t}\n\n\t/**\n\t * Update the text overlays inner text \n\t * @param text the update text to be inserted into the overlay \n\t */\n\tpublic update(text: string): void {\n\t\tif (text != null || text != undefined) {\n\t\t\tthis.textElement.innerHTML = text;\n\t\t}\n\t}\n}\n\nexport class NativeDOMDelegate extends client.DelegateBase {\n\tconfig: client.Config;\n\tlatencyStartTime: number;\n\tvideoStartTime: number;\n\tvideoEncoderAvgQP: number;\n\n\t// instantiate the WebRtcPlayerControllers interface var \n\tiWebRtcController: client.IWebRtcPlayerController;\n\n\tshowStats: boolean;\n\n\tlogging: boolean;\n\n\t// HTML Elements that are used multiple times\n\n\t// Global\n\tstatusLight = document.getElementById(\"qualityStatus\") as HTMLDivElement;\n\n\t// Pre Stream options\n\tforceTurnToggle = document.getElementById(\"force-turn-tgl\") as HTMLInputElement;\n\n\t// Viewing\n\tqualityControlOwnershipCheckBox = document.getElementById(\"quality-control-ownership-tgl\") as HTMLInputElement;\n\ttoggleMatchViewPortRes = document.getElementById(\"match-viewport-res-tgl\") as HTMLInputElement;\n\tcontrolSchemeToggle = document.getElementById(\"control-scheme-tgl\") as HTMLInputElement;\n\tcontrolSchemeToggleTitle = document.getElementById(\"control-scheme-title\") as HTMLDivElement;\n\n\t// Commands\n\tuiDescriptorText = document.getElementById(\"ui-descriptor-text\") as HTMLInputElement;\n\n\t// Settings\n\tencoderMinQpText = document.getElementById(\"encoder-min-qp-text\") as HTMLInputElement;\n\tencoderMaxQpText = document.getElementById(\"encoder-max-qp-text\") as HTMLInputElement;\n\twebRtcFpsText = document.getElementById(\"webrtc-fps-text\") as HTMLInputElement;\n\twebRtcMinBitrateText = document.getElementById(\"webrtc-min-bitrate-text\") as HTMLInputElement;\n\twebRtcMaxBitrateText = document.getElementById(\"webrtc-max-bitrate-text\") as HTMLInputElement;\n\n\t// Statistics\n\tsendStatsToServer = document.getElementById(\"send-stats-tgl\") as HTMLInputElement;\n\n\t// Containers Headers\n\tpreStreamContainer = document.getElementById(\"preStreamOptionsHeader\") as HTMLDivElement;\n\tviewSettingsHeader = document.getElementById(\"viewSettingsHeader\") as HTMLDivElement;\n\tcommandsHeader = document.getElementById(\"commandsHeader\") as HTMLDivElement;\n\tstreamingSettingsHeader = document.getElementById(\"streamingSettingsHeader\") as HTMLDivElement;\n\tstatsHeader = document.getElementById(\"statisticsHeader\") as HTMLDivElement;\n\tlatencyHeader = document.getElementById(\"latencyTestHeader\") as HTMLDivElement;\n\n\t// Containers\n\tviewSettingsContainer = document.getElementById(\"viewSettingsContainer\") as HTMLDivElement;\n\tcommandsContainer = document.getElementById(\"commandsContainer\") as HTMLDivElement;\n\tstreamingSettingsContainer = document.getElementById(\"streamingSettingsContainer\") as HTMLDivElement;\n\tstatsContainer = document.getElementById(\"statisticsContainer\") as HTMLDivElement;\n\tlatencyContainer = document.getElementById(\"latencyTestContainer\") as HTMLDivElement;\n\n\tconstructor(config: client.Config) {\n\t\tsuper(config);\n\t\tthis.showStats = true;\n\t\tthis.logging = false;\n\t\tthis.videoEncoderAvgQP = -1;\n\n\t\t// build all of the overlays \n\t\tthis.buildConnectOverlay();\n\t\tthis.buildPlayOverlay();\n\t\tthis.buildAfkOverlay();\n\t\tthis.buildInfoOverlay();\n\t\tthis.buildErrorOverlay();\n\n\t\t// configure all buttons \n\t\tthis.ConfigureButtons();\n\t}\n\n\t/**\n\t * Builds the connect overlay \n\t */\n\tbuildConnectOverlay() {\n\t\t// build the overlay base div \n\t\tlet connectOverlayHtml = document.createElement('div');\n\t\tconnectOverlayHtml.id = \"connectOverlay\";\n\t\tconnectOverlayHtml.className = \"clickableState\";\n\n\t\t// set the event Listener\n\t\tlet connectOverlayEvent: EventListener = () => this.onConnectAction();\n\n\t\t// add the new event listener \n\t\tconnectOverlayHtml.addEventListener('click', function onOverlayClick(event: Event) {\n\t\t\tconnectOverlayEvent(event);\n\t\t\t//connectOverlayHtml.removeEventListener('click', onOverlayClick);\n\t\t});\n\n\t\t// build the inner html \n\t\tlet connectOverlayHtmlInner = document.createElement('div');\n\t\tconnectOverlayHtmlInner.id = 'connectButton';\n\t\tconnectOverlayHtmlInner.innerHTML = 'Click to start';\n\n\t\t// instantiate the overlay\n\t\tthis.connectOverlay = new ActionOverlayBase(this.config.playerElement, connectOverlayHtml, connectOverlayHtmlInner);\n\t}\n\n\t/**\n\t * Builds the play overlay \n\t */\n\tbuildPlayOverlay() {\n\t\t// build the overlay base div \n\t\tlet playOverlayHtml = document.createElement('div');\n\t\tplayOverlayHtml.id = \"playOverlay\";\n\t\tplayOverlayHtml.className = \"clickableState\";\n\n\t\t// set the event Listener\n\t\tlet playOverlayEvent: EventListener = () => this.onPlayAction();\n\n\t\t// add the new event listener \n\t\tplayOverlayHtml.addEventListener('click', function onOverlayClick(event: Event) {\n\t\t\tplayOverlayEvent(event);\n\t\t\t//playOverlayHtml.removeEventListener('click', onOverlayClick);\n\t\t});\n\n\t\t// build the inner html \n\t\tlet playOverlayHtmlInner = document.createElement('img');\n\t\tplayOverlayHtmlInner.id = 'playButton';\n\t\tplayOverlayHtmlInner.src = Images.playButton;\n\t\tplayOverlayHtmlInner.alt = 'Start Streaming';\n\n\t\t// instantiate the overlay\n\t\tthis.playOverlay = new ActionOverlayBase(this.config.playerElement, playOverlayHtml, playOverlayHtmlInner);\n\t}\n\n\t/**\n\t * Builds the Afk overlay \n\t */\n\tbuildAfkOverlay() {\n\t\t// build the overlay base div \n\t\tlet afkOverlayHtml = document.createElement('div');\n\t\tafkOverlayHtml.id = \"afkOverlay\";\n\t\tafkOverlayHtml.className = \"clickableState\";\n\n\t\tlet afkOverlayEvent: EventListener = () => this.onAfkAction();\n\n\t\tafkOverlayHtml.addEventListener('click', function onOverlayClick(event: Event) {\n\t\t\tafkOverlayEvent(event);\n\t\t\t//playOverlayHtml.removeEventListener('click', onOverlayClick);\n\t\t});\n\n\t\t// build the inner html\n\t\tlet afkOverlayHtmlInner = document.createElement('div');\n\t\tafkOverlayHtmlInner.id = 'afkOverlayInner';\n\t\tafkOverlayHtmlInner.innerHTML = '<center>No activity detected<br>Disconnecting in <span id=\"afkCountDownNumber\"></span> seconds<br>Click to continue<br></center>'\n\n\t\t// instantiate the overlay\n\t\tthis.afkOverlay = new AfkOverlayBase(this.config.playerElement, afkOverlayHtml, afkOverlayHtmlInner, \"afkCountDownNumber\");\n\t}\n\n\t/**\n\t * Builds the info overlay \n\t */\n\tbuildInfoOverlay() {\n\t\t// build the overlay base div \n\t\tlet infoOverlayHtml = document.createElement('div');\n\t\tinfoOverlayHtml.id = \"infoOverlay\";\n\t\tinfoOverlayHtml.className = \"textDisplayState\";\n\n\t\t// build the inner html\n\t\tlet infoOverlayHtmlInner = document.createElement('div');\n\t\tinfoOverlayHtmlInner.id = 'messageOverlayInner';\n\n\t\t/// instantiate the overlay\n\t\tthis.infoOverlay = new TextOverlayBase(this.config.playerElement, infoOverlayHtml, infoOverlayHtmlInner);\n\t}\n\n\t/**\n\t * Builds the error overlay \n\t */\n\tbuildErrorOverlay() {\n\t\t// build the overlay base div \n\t\tlet errorOverlayHtml = document.createElement('div');\n\t\terrorOverlayHtml.id = \"errorOverlay\";\n\t\terrorOverlayHtml.className = \"textDisplayState\";\n\n\t\t// build the inner html\n\t\tlet errorOverlayHtmlInner = document.createElement('div');\n\t\terrorOverlayHtmlInner.id = 'errorOverlayInner';\n\t\terrorOverlayHtmlInner.classList.add(\".text-danger\");\n\n\t\t// instantiate the overlay\n\t\tthis.errorOverlay = new TextOverlayBase(this.config.playerElement, errorOverlayHtml, errorOverlayHtmlInner);\n\t}\n\n\t/**\n\t* Set up functionality to happen when an instance state change occurs and updates the info overlay with the response\n\t* @param instanceState - the message instance state \n\t*/\n\tonInstanceStateChange(instanceState: client.MessageInstanceState) {\n\t\tlet instanceStateMessage = \"\";\n\t\tlet isInstancePending = false;\n\t\tlet isError = false;\n\n\t\t// get the response type\n\t\tswitch (instanceState.state) {\n\t\t\tcase client.InstanceState.UNALLOCATED:\n\t\t\t\tinstanceStateMessage = \"Instance Unallocated: \" + instanceState.details;\n\t\t\t\tbreak;\n\t\t\tcase client.InstanceState.FAILED:\n\t\t\t\tinstanceStateMessage = \"UE Instance Failed: \" + instanceState.details;\n\t\t\t\tisError = true;\n\t\t\t\tbreak;\n\t\t\tcase client.InstanceState.PENDING:\n\t\t\t\tisInstancePending = true;\n\t\t\t\tif (instanceState.details == undefined || instanceState.details == null) {\n\t\t\t\t\tinstanceStateMessage = \"Your application is pending\";\n\t\t\t\t} else {\n\t\t\t\t\tinstanceStateMessage = instanceState.details;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase client.InstanceState.READY:\n\t\t\t\tinstanceStateMessage = \"Instance is Ready: \" + instanceState.details;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tinstanceStateMessage = \"Unhandled Instance State\" + instanceState.state + \" \" + instanceState.details;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (isError) {\n\t\t\tthis.showErrorOverlay(instanceStateMessage);\n\t\t} else if (isInstancePending) {\n\t\t\t//check if there is already and instance pending if so return \n\t\t\tlet preExistingPendingMessage = document.getElementById('loading-spinner') as HTMLDivElement;\n\t\t\tif (preExistingPendingMessage) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// build the spinner span\n\t\t\tvar spinnerSpan: HTMLSpanElement = document.createElement('span');\n\t\t\tspinnerSpan.className = \"visually-hidden\"\n\t\t\tspinnerSpan.innerHTML = \"Loading...\"\n\n\t\t\t// build the spinner div\n\t\t\tvar spinnerDiv: HTMLDivElement = document.createElement('div');\n\t\t\tspinnerDiv.id = \"loading-spinner\"\n\t\t\tspinnerDiv.className = \"spinner-border ms-2\"\n\t\t\tspinnerDiv.setAttribute(\"role\", \"status\");\n\n\t\t\t// append the spinner to the element\n\t\t\tspinnerDiv.appendChild(spinnerSpan);\n\n\t\t\t// insert the inner html into the base div\n\t\t\tthis.showTextOverlay(instanceStateMessage + spinnerDiv.outerHTML);\n\t\t} else {\n\t\t\tthis.showTextOverlay(instanceStateMessage);\n\t\t}\n\t}\n\n\t/**\n\t * Set up functionality to happen when receiving an auth response and updates an info overlay with the response\n\t * @param authResponse - the auth response message type\n\t */\n\tonAuthenticationResponse(authResponse: client.MessageAuthResponse) {\n\t\tlet instanceStateMessage = \"\";\n\t\tlet isError = false;\n\n\t\t// get the response type\n\t\tswitch (authResponse.outcome) {\n\t\t\tcase client.MessageAuthResponseOutcomeType.AUTHENTICATED:\n\t\t\t\tinstanceStateMessage = \"Authentication has succeeded. Requesting Instance\";\n\t\t\t\tbreak;\n\t\t\tcase client.MessageAuthResponseOutcomeType.INVALID_TOKEN:\n\t\t\t\tinstanceStateMessage = \"Invalid Token: \" + authResponse.error;\n\t\t\t\tisError = true;\n\t\t\t\tbreak;\n\t\t\tcase client.MessageAuthResponseOutcomeType.REDIRECT:\n\t\t\t\tinstanceStateMessage = \"Redirecting to: \" + authResponse.redirect;\n\t\t\t\tbreak;\n\t\t\tcase client.MessageAuthResponseOutcomeType.ERROR:\n\t\t\t\tinstanceStateMessage = \"Error: \" + authResponse.error;\n\t\t\t\tisError = true;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tinstanceStateMessage = \"Unhandled Auth Response: \" + authResponse.outcome;\n\t\t\t\tbreak;\n\t\t}\n\n\t\t// if the response is an error show the error instead of the info \n\t\tif (isError) {\n\t\t\tthis.showErrorOverlay(instanceStateMessage);\n\t\t} else {\n\t\t\tthis.showTextOverlay(instanceStateMessage);\n\t\t}\n\t}\n\n\t/**\n\t * Set up button click functions and button functionality  \n\t */\n\tConfigureButtons() {\n\t\t// setup the Force TURN toggle\n\t\tthis.setUpToggleWithUrlParams(this.forceTurnToggle, \"ForceTURN\");\n\n\t\tthis.setUpControlSchemeTypeToggle(this.controlSchemeToggle);\n\n\t\t// set up the restart stream button\n\t\tdocument.getElementById(\"restart-stream-button\").onclick = () => {\n\t\t\tthis.iWebRtcController.restartStreamAutomaticity();\n\t\t}\n\n\t\tdocument.getElementById(\"btn-streaming-settings\").onclick = () => {\n\t\t\tconsole.debug(\"--------  Sending Streaming settings  --------\");\n\t\t\tlet encode: client.Encoder = {\n\t\t\t\tMinQP: Number(this.encoderMinQpText.value),\n\t\t\t\tMaxQP: Number(this.encoderMaxQpText.value),\n\t\t\t}\n\n\t\t\tlet webRtcSettings: client.WebRTC = {\n\t\t\t\tFPS: Number(this.webRtcFpsText.value),\n\t\t\t\tMinBitrate: Number(this.webRtcMinBitrateText.value) * 1000,\n\t\t\t\tMaxBitrate: Number(this.webRtcMaxBitrateText.value) * 1000,\n\t\t\t}\n\n\t\t\tthis.iWebRtcController.sendEncoderSettings(encode);\n\t\t\tthis.iWebRtcController.sendWebRtcSettings(webRtcSettings);\n\t\t\tconsole.debug(\"-------------------------------------------\");\n\t\t}\n\n\n\t\t// sending UI descriptors \n\t\tdocument.getElementById(\"sendUiDescriptor\").onclick = () => {\n\t\t\tthis.iWebRtcController.sendUeUiDescriptor(this.uiDescriptorText.value);\n\n\t\t};\n\n\t\t// show the current fps on screen \n\t\tdocument.getElementById(\"show-fps-button\").onclick = () => {\n\t\t\tthis.iWebRtcController.sendShowFps();\n\t\t};\n\n\t\t// make the player fill the window\n\t\tdocument.getElementById(\"enlarge-display-to-fill-window-tgl\").onchange = () => {\n\t\t\tthis.iWebRtcController.resizePlayerStyle();\n\t\t};\n\n\t\t// make the player match the view port resolution \n\t\tthis.toggleMatchViewPortRes.onchange = () => {\n\t\t\tthis.iWebRtcController.matchViewportResolution = this.toggleMatchViewPortRes.checked\n\t\t};\n\n\t\t// quality control ownership checkbox \n\t\tthis.qualityControlOwnershipCheckBox.onchange = () => {\n\t\t\tif (this.qualityControlOwnershipCheckBox.checked === false) {\n\t\t\t\tthis.iWebRtcController.sendRequestQualityControlOwnership();\n\t\t\t}\n\t\t};\n\n\t\t// show and hide the optional buttons overlay \n\t\tdocument.getElementById(\"overlayButton\").onclick = () => {\n\t\t\tdocument.getElementById(\"overlaySettings\").classList.toggle(\"d-none\");\n\t\t}\n\n\n\t}\n\n\t/**\n\t * Set up toggle element for controlling hovering mouse or locked mouse  \n\t * @param toggleElement the toggle html element to be set up\n\t */\n\tsetUpControlSchemeTypeToggle(toggleElement: HTMLInputElement) {\n\t\tif (toggleElement) {\n\n\t\t\t// set the state for the toggle based on the config\n\t\t\tif (this.config.controlScheme === client.ControlSchemeType.LockedMouse) {\n\t\t\t\tthis.controlSchemeToggleTitle.innerHTML = \"Control Scheme: Locked Mouse\"\n\t\t\t\tthis.controlSchemeToggle.checked = false;\n\t\t\t} else {\n\t\t\t\tthis.controlSchemeToggleTitle.innerHTML = \"Control Scheme: Hovering Mouse\"\n\t\t\t\tthis.controlSchemeToggle.checked = true;\n\t\t\t}\n\n\t\t\t// set the onChange event \n\t\t\ttoggleElement.onchange = () => {\n\t\t\t\tif (toggleElement.checked === true) {\n\t\t\t\t\tthis.controlSchemeToggleTitle.innerHTML = \"Control Scheme: Hovering Mouse\"\n\t\t\t\t\tthis.config.controlScheme = client.ControlSchemeType.HoveringMouse;\n\t\t\t\t\tthis.iWebRtcController.activateRegisterMouse();\n\t\t\t\t} else {\n\t\t\t\t\tthis.controlSchemeToggleTitle.innerHTML = \"Control Scheme: Locked Mouse\"\n\t\t\t\t\tthis.config.controlScheme = client.ControlSchemeType.LockedMouse;\n\t\t\t\t\tthis.iWebRtcController.activateRegisterMouse();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n\n\t/**\n\t * Set up url toggle buttons\n\t * @param toggleElement the toggle element being activated  \n\t * @param urlParameterKey the url key that is being made use of\n\t */\n\tsetUpToggleWithUrlParams(toggleElement: HTMLInputElement, urlParameterKey: string) {\n\t\tif (toggleElement) {\n\t\t\t//Check if the element has been set from the URL Params \n\t\t\ttoggleElement.checked = new URLSearchParams(window.location.search).has(urlParameterKey);\n\n\t\t\ttoggleElement.onchange = () => {\n\t\t\t\tconst urlParams = new URLSearchParams(window.location.search);\n\t\t\t\tif (toggleElement.checked === true) {\n\t\t\t\t\turlParams.set(urlParameterKey, \"true\");\n\t\t\t\t} else {\n\t\t\t\t\turlParams.delete(urlParameterKey);\n\t\t\t\t}\n\t\t\t\twindow.history.replaceState({}, '', urlParams.toString() !== \"\" ? `${location.pathname}?${urlParams}` : `${location.pathname}`);\n\t\t\t};\n\t\t}\n\t}\n\n\t/**\n\t * Disable shared session links for all players\n\t * @returns false\n\t */\n\tasync IsLinkSharingEnabled() {\n\t\treturn false;\n\t}\n\n\t/**\n\t * Handle when the Video has been Initialised\n\t */\n\tonVideoInitialised() {\n\t\t// starting a latency check\n\t\tdocument.getElementById(\"btn-start-latency-test\").onclick = () => {\n\t\t\tthis.iWebRtcController.sendLatencyTest();\n\t\t}\n\n\t\t// Set up overlay header functionality\n\t\tthis.viewSettingsHeader.onclick = () => {\n\t\t\tthis.viewSettingsContainer.classList.contains(\"d-none\") ? this.viewSettingsContainer.classList.remove(\"d-none\") : this.viewSettingsContainer.classList.add(\"d-none\")\n\t\t}\n\n\t\tthis.commandsHeader.onclick = () => {\n\t\t\tthis.commandsContainer.classList.contains(\"d-none\") ? this.commandsContainer.classList.remove(\"d-none\") : this.commandsContainer.classList.add(\"d-none\")\n\t\t}\n\n\t\tthis.streamingSettingsHeader.onclick = () => {\n\t\t\tthis.streamingSettingsContainer.classList.contains(\"d-none\") ? this.streamingSettingsContainer.classList.remove(\"d-none\") : this.streamingSettingsContainer.classList.add(\"d-none\")\n\t\t}\n\t\tthis.statsHeader.onclick = () => {\n\t\t\tthis.statsContainer.classList.contains(\"d-none\") ? this.statsContainer.classList.remove(\"d-none\") : this.statsContainer.classList.add(\"d-none\")\n\t\t}\n\t\tthis.latencyHeader.onclick = () => {\n\t\t\tthis.latencyContainer.classList.contains(\"d-none\") ? this.latencyContainer.classList.remove(\"d-none\") : this.latencyContainer.classList.add(\"d-none\")\n\t\t}\n\n\t\t// Reveal all the container\n\t\tthis.viewSettingsContainer.classList.remove(\"d-none\");\n\t\tthis.commandsContainer.classList.remove(\"d-none\");\n\t\tthis.streamingSettingsContainer.classList.remove(\"d-none\");\n\t\tthis.statsContainer.classList.remove(\"d-none\");\n\n\t\tthis.videoStartTime = Date.now();\n\t}\n\n\t/**\n\t * Extended from the base functionality; displays the text overlay and resets the buttons overlay upon disconnect \n\t * @param event \n\t */\n\tonDisconnect(event: CloseEvent) {\n\t\t// display the text overlay by calling its super method so it will use its default behavior first \n\t\tsuper.onDisconnect(event);\n\n\t\t// update all of the tools upon disconnect \n\t\tthis.onVideoEncoderAvgQP(-1);\n\n\t\t// starting a latency check\n\t\tdocument.getElementById(\"btn-start-latency-test\").onclick = () => { }\n\n\t\t// Set up overlay header functionality\n\t\tthis.viewSettingsHeader.onclick = () => { }\n\t\tthis.commandsHeader.onclick = () => { }\n\t\tthis.streamingSettingsHeader.onclick = () => { }\n\t\tthis.statsHeader.onclick = () => { }\n\t\tthis.latencyHeader.onclick = () => { }\n\n\t\t// Hide all the containers\n\t\tthis.viewSettingsContainer.classList.add(\"d-none\");\n\t\tthis.commandsContainer.classList.add(\"d-none\");\n\t\tthis.streamingSettingsContainer.classList.add(\"d-none\");\n\t\tthis.statsContainer.classList.add(\"d-none\");\n\t}\n\n\t/**\n\t * `Takes the InitialSettings and wired to frontend\n\t * @param settings - Settings sent from the UE Instance`\n\t */\n\tonInitialSettings(settings: client.InitialSettings): void {\n\t\tif (settings.Encoder) {\n\t\t\tthis.encoderMinQpText.value = settings.Encoder.MinQP.toString();\n\t\t\tthis.encoderMaxQpText.value = settings.Encoder.MaxQP.toString();\n\t\t}\n\t\tif (settings.WebRTC) {\n\t\t\tthis.webRtcMinBitrateText.value = settings.WebRTC.MinBitrate.toString();\n\t\t\tthis.webRtcMaxBitrateText.value = settings.WebRTC.MaxBitrate.toString();\n\t\t\tthis.webRtcFpsText.value = settings.WebRTC.FPS.toString();\n\t\t}\n\t}\n\n\t/**\n\t* Used to handle the Video Stats from the Peer Connection Client\n\t* @param stats - Stats generate from the Peer Connection Client\n\t*/\n\tonVideoStats(stats: client.AggregatedStats): void {\n\t\tlet runTime = new Date(Date.now() - this.videoStartTime).toISOString().substr(11, 8);\n\t\tlet statsText = \"\";\n\t\tlet inboundData = this.formatBytes(stats.inboundVideoStats.bytesReceived, 2);\n\n\t\tstatsText += `<div>Duration: ${runTime}</div>`;\n\t\tstatsText += `<div>Inbound Video Data Received: ${inboundData}</div>`;\n\t\tstatsText += `<div>Packets Lost: ${stats.inboundVideoStats.packetsLost}</div>`;\n\t\tstatsText += `<div>Bitrate (kbps): ${stats.inboundVideoStats.bitrate}</div>`;\n\t\tstatsText += `<div>Framerate: ${stats.inboundVideoStats.framerate}</div>`;\n\t\tstatsText += `<div>Frames dropped: ${stats.inboundVideoStats.framesDropped}</div>`;\n\t\tstatsText += `<div>Net RTT (ms): ${stats.candidatePair.currentRoundTripTime}</div>`;\n\t\tstatsText += `<div>Browser receive to composite (ms): ${stats.inboundVideoStats.receiveToCompositeMs}</div>`;\n\t\tstatsText += `<div>Video Quantization Parameter: ${this.videoEncoderAvgQP}</div>`;\n\n\t\t//document.getElementById(\"statsTitle\").style.display = \"\";\n\t\tlet statsDiv = document.getElementById(\"statisticsResult\");\n\t\tstatsDiv.innerHTML = statsText;\n\n\t\tif (this.logging) { client.Logger.verboseLog(`--------- Stats ---------\\n ${stats}\\n------------------------`) }\n\n\t\tif (this.sendStatsToServer.checked === true) {\n\t\t\tthis.iWebRtcController.sendStatsToSignallingServer(stats);\n\t\t}\n\t}\n\n\t/**\n\t* formats Bytes coming in for video stats\n\t* @param bytes number to convert\n\t* @param decimals number of decimal places\n\t*/\n\tformatBytes(bytes: number, decimals: number): string {\n\t\tif (bytes === 0) {\n\t\t\treturn \"0\";\n\t\t}\n\n\t\tconst factor: number = 1024;\n\t\tconst dm = decimals < 0 ? 0 : decimals;\n\t\tconst sizes = ['Bytes', 'KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB'];\n\n\t\tconst i = Math.floor(Math.log(bytes) / Math.log(factor));\n\n\t\treturn parseFloat((bytes / Math.pow(factor, i)).toFixed(dm)) + ' ' + sizes[i];\n\t}\n\n\t/**\n\t* Handles the result of the UE Latency Test\n\t* @param latencyTimings - Latency Test Timings sent from the UE Instance \n\t*/\n\tonLatencyTestResult(latencyTimings: client.LatencyTestResults): void {\n\t\tconsole.log(latencyTimings);\n\t\tlet latencyStatsInnerHTML = '';\n\t\tlatencyStatsInnerHTML += \"<div>Net latency RTT (ms): \" + latencyTimings.networkLatency + \"</div>\";\n\t\tlatencyStatsInnerHTML += \"<div>UE Encode (ms): \" + latencyTimings.EncodeMs + \"</div>\";\n\t\tlatencyStatsInnerHTML += \"<div>UE Capture (ms): \" + latencyTimings.CaptureToSendMs + \"</div>\";\n\t\tlatencyStatsInnerHTML += \"<div>Browser send latency (ms): \" + latencyTimings.browserSendLatency + \"</div>\";\n\t\tlatencyStatsInnerHTML += latencyTimings.frameDisplayDeltaTimeMs && latencyTimings.browserReceiptTimeMs ? \"<div>Browser receive latency (ms): \" + latencyTimings.frameDisplayDeltaTimeMs + \"</div>\" : \"\";\n\t\tlatencyStatsInnerHTML += \"<div>Total latency (excluding browser) (ms): \" + latencyTimings.latencyExcludingDecode + \"</div>\";\n\t\tlatencyStatsInnerHTML += latencyTimings.endToEndLatency ? \"<div>Total latency (ms): \" + latencyTimings.endToEndLatency + \"</div>\" : \"\";\n\n\t\tthis.latencyContainer.classList.remove(\"d-none\")\n\n\t\tdocument.getElementById(\"latencyStatsResults\").innerHTML = latencyStatsInnerHTML;\n\t}\n\n\t/**\n\t\t* \n\t\t* converts the Video Encoder QP to a colour light\n\t\t* @param QP - The video encoder QP number needed to find the average\n\t\t*/\n\tonVideoEncoderAvgQP(QP: number): void {\n\t\tthis.videoEncoderAvgQP = QP;\n\t\tthis.statusLight.style.color = QualityColour.None;\n\t\tthis.statusLight.title = \"QP: \" + QP;\n\n\t\tif (QP > QualityThresholds.Bad) {\n\t\t\tthis.statusLight.style.color = QualityColour.Bad;\n\t\t\tthis.statusLight.title += \" - Bad\";\n\t\t\tthis.BlinkVideoQualityStatus(2);\n\t\t} else if (QP > QualityThresholds.Spotty) {\n\t\t\tthis.statusLight.style.color = QualityColour.Spotty;\n\t\t\tthis.statusLight.title += \" - Spotty\";\n\t\t\tthis.BlinkVideoQualityStatus(1);\n\t\t} else if (QP < 0) {\n\t\t\tthis.statusLight.style.color = QualityColour.None;\n\t\t\tthis.statusLight.title += \" - Error\";\n\t\t\tconsole.error(\"Video Encoder QP can not be less then 0\");\n\t\t} else {\n\t\t\tthis.statusLight.title += \" - Good\";\n\t\t\tthis.statusLight.style.color = QualityColour.Good;\n\t\t}\n\t}\n\n\t/**\n\t * Handles when the ownership flag is sent from the signaling server\n\t * @param hasQualityOwnership - flag if the user has quality ownership\n\t */\n\tonQualityControlOwnership(hasQualityOwnership: boolean): void {\n\t\tthis.qualityControlOwnershipCheckBox.checked = hasQualityOwnership;\n\t}\n\n\t/**\n\t * used to set the speed of the status light\n\t * \n\t * @param speed - Set the speed of the blink if the status light higher the speed the faster the blink\n\t */\n\tBlinkVideoQualityStatus(speed: number) {\n\t\tlet iteration = speed;\n\t\tlet opacity = 1;\n\t\tlet tickID = setInterval(() => {\n\t\t\topacity -= 0.1;\n\t\t\tthis.statusLight.style.opacity = String(Math.abs((opacity - 0.5) * 2));\n\t\t\tif (opacity <= 0.1) {\n\t\t\t\tif (--iteration == 0) {\n\t\t\t\t\tclearInterval(tickID);\n\t\t\t\t} else {\n\t\t\t\t\topacity = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}, 100 / speed);\n\t}\n\n\n\n\t// ::START\n\tafkConnect() {\n\t\tthis.iWebRtcController.connectToSignallingSever()\n\t}\n\n\tsendEncoderSettings(payload: client.Encoder) {\n\t\tthis.iWebRtcController.sendEncoderSettings(payload)\n\t}\n\n\tsendWebRtcSettings(payload: client.WebRTC) {\n\t\tthis.iWebRtcController.sendWebRtcSettings(payload)\n\t}\n\t// ::END\n}\n\n/**\n * Used for Setting the colour of the Status Light\n */\nenum QualityColour {\n\tGood = \"lime\",\n\tSpotty = \"orange\",\n\tBad = \"red\",\n\tNone = \"black\"\n}\n\n/**\n * Used to set the Quality Thresholds of the Video Encoder QP\n */\nenum QualityThresholds {\n\tSpotty = 26,\n\tBad = 35,\n}\n\n\n/**\n * The static check to allow verbose logging\n */\nexport class LoggingOptions {\n\tstatic verboseLogging = false;\n}\n\n/**\n * The static image for the play button\n */\nexport class Images {\n\tstatic playButton: string = \"data:image/png;base64,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\"\n}\n","import * as React from 'react'\n\nimport { NativeDOMDelegate } from \"./NativeDOMDelegate\";\nimport * as client from 'unreal-pixel-streaming'\n\n// libs\nimport parse from 'url-parse'\n\nexport const { Logger, EventsClass } = client\n\n// declarations\ndeclare global {\n    interface Window {\n        RTCPlayer: any\n    }\n}\n\n// Determine whether a signalling server WebSocket URL was specified at compile-time or if we need to compute it at runtime\ninterface ClientBase {\n    streamingUrl: string;\n}\n\nexport interface psConfigSchema {\n    [key: string]: any,\n    enableVerboseLogging: boolean,\n    enableSpsAutoplay: boolean,\n    startVideoMuted: boolean,\n    controlScheme: client.ControlSchemeType,\n    suppressBrowserKeys: boolean,\n    fakeMouseWithTouches: boolean,\n}\n\nexport class ClientClass implements ClientBase {\n    streamingUrl: string\n    events: object\n    psConfig: psConfigSchema\n\n    constructor(streamingUrl: string, psConfig: psConfigSchema) {\n        this.streamingUrl = streamingUrl\n        this.psConfig = psConfig\n    }\n\n\n    init() {\n\n        // if (window.RTCPlayer) return window.RTCPlayer\n\n        // build the websocket endpoint based on the protocol used to load the frontend\n        const url_parsed = parse(this.streamingUrl, true);\n\n        // define our signallingServerProtocol to be used based on whether\n        // or not we're accessing our frontend via a tls\n        let signallingServerProtocol = 'ws:';\n        if (url_parsed.protocol === 'https:') {\n            signallingServerProtocol = 'wss:';\n        }\n\n        const signallingServerAddress = signallingServerProtocol + '//' + url_parsed.hostname\n\n        // Create a config object instance \n        const CreateConfig = (signalingAddress: string, playerElement: string) => {\n            let config = new client.Config(signalingAddress, playerElement);\n\n            // Config performer\n            const getCfg = (v: string, def: boolean | number) => {\n                const cfg = this.psConfig\n                if (typeof v === 'undefined' || !cfg.hasOwnProperty(v)) {\n                    return def\n                }\n                return cfg[v]\n            }\n\n            client.Config._enableVerboseLogging = getCfg('enableVerboseLogging', false)\n\n            config.enableSpsAutoplay = getCfg('enableSpsAutoplay', true)\n            config.startVideoMuted = getCfg('startVideoMuted', false)\n            config.controlScheme = getCfg('controlScheme', client.ControlSchemeType.HoveringMouse)\n            config.suppressBrowserKeys = getCfg('suppressBrowserKeys', true)\n            config.fakeMouseWithTouches = getCfg('fakeMouseWithTouches', true)\n\n            return config;\n        }\n\n        // Create a config object\n        let config = CreateConfig(signallingServerAddress, \"player\");\n\n        // Create a Native DOM delegate instance that implements the Delegate interface class\n        let delegate = new NativeDOMDelegate(config);\n\n        // Create and return a new webRtcPlayerController instance \n        let RTCPlayer = create(config, delegate);\n\n        // create takes in a delage interface type which our NativeDomDelegate class implements\n        function create(config: client.Config, delegate: client.IDelegate) {\n            return new client.webRtcPlayerController(config, delegate);\n        }\n\n        document.ontouchmove = (event: TouchEvent) => {\n            event.preventDefault();\n        }\n\n        // Apply client to window\n        window.RTCPlayer = RTCPlayer\n        return RTCPlayer\n\n    }\n\n}\n\nexport const ClientAccess = new class {\n\n    // Quck access to WebRTC object\n    get client() {\n        const RTCPlayer = window.RTCPlayer\n\n        // Check if WebRTC object connected\n        if (!RTCPlayer?.ueDescriptorUi) return null\n\n        return RTCPlayer\n    }\n\n    clientCb(cb: Function) {\n        if (this.client) cb(this.client)\n    }\n\n    connect(): void {\n        this.clientCb((cl: any) => {\n            cl.delegate.afkConnect()\n        })\n    }\n\n    close(): void {\n        this.clientCb((cl: any) => {\n            cl.afkLogic.closeWebSocket()\n        })\n    }\n\n    emitCommand(command: string, value: any): void {\n        if (!this.client) return\n        Logger.verboseLog(`emitCommand()\\n` + JSON.stringify({ command, value }, null, 4))\n        return this.client.ueDescriptorUi.emitCommand(command, value)\n    }\n\n    emitCommandSystem(command: string, payload: any): void {\n        if (!this.client) return\n        Logger.verboseLog(`emitCommandSystem()\\n` + JSON.stringify({ command, payload }, null, 4))\n        return this.client.ueDescriptorUi.emitCommandSystem(command, payload)\n    }\n\n    emitConsole(payload: string): void {\n        if (!this.client) return\n        Logger.verboseLog(`EmitConsole()\\n` + JSON.stringify(payload, null, 4))\n        return this.client.ueDescriptorUi.emitConsole(payload)\n    }\n\n    // sendEncoderSettings(payload: client.Encoder) {\n    //     if (!this.client) return\n    //     return this.client.iWebRTCController.sendEncoderSettings(payload)\n    // }\n\n    // sendWebRtcSettings(payload: client.WebRTC) {\n    //     if (!this.client) return\n    //     return this.client.iWebRTCController.sendWebRtcSettings(payload)\n    // }\n\n    restartStreamAutomaticity(): void {\n        Logger.verboseLog(`restartStreamAutomaticity()`)\n\n        this.clientCb((cl: any) => {\n            cl.iWebRTCController.restartStreamAutomaticity();\n        })\n    }\n\n\n}\n\n","import * as React from \"react\"\n\n// pixel-streaming\nimport { EventsClass } from '../../client/'\n\n// libs\nimport moment from 'moment';\n\n\nconst initialState: any = {\n  commands_list: [],\n  callbacks_list: [],\n  config: {\n    streamingUrl: null,\n    secondsToKill: null,\n    secondsToKillLeft: null,\n    secondsToStart: null,\n    autoRestart: null,\n  },\n  psConfig: null,\n  ueSettings: {\n    initial: null,\n    onStart: null,\n  },\n  playerSettings: {\n    volume: 1,\n  },\n  webrtcData: {\n    status: null,\n    statusUpdatedAt: null,\n    errorCode: null,\n    autoplaySupport: null,\n  },\n  mouseEvent: {\n    moving: false,\n  },\n};\n\nconst KEY = {\n  UPDATE: 'UPDATE',\n  UPDATE_CONFIG: 'UPDATE_CONFIG',\n  UPDATE_PS_CONFIG: 'UPDATE_PS_CONFIG',\n  UPDATE_UE_SETTINGS_INITIAL: 'UPDATE_UE_SETTINGS_INITIAL',\n  UPDATE_UE_SETTINGS_ONSTART: 'UPDATE_UE_SETTINGS_ONSTART',\n  UPDATE_PLAYER_SETTINGS: 'UPDATE_PLAYER_SETTINGS',\n  WEBRTC_STATUS: 'WEBRTC_STATUS',\n  COMMANDS_LIST: 'COMMANDS_LIST',\n  CALLBACKS_LIST: 'CALLBACKS_LIST',\n  COMMAND_CONFIRMATION: 'COMMAND_CONFIRMATION',\n  MOUSE_EVENT: 'MOUSE_EVENT',\n}\n\n\nfunction reducer(state: any, action: any) {\n  const { type, payload: anValue } = action;\n  // console.log(state);\n\n  if (type === KEY.UPDATE) {\n\n    return { ...state, ...anValue };\n\n  } else if (type === KEY.UPDATE_CONFIG) {\n    state.config = {\n      ...state.config,\n      ...anValue,\n    }\n\n    return { ...state };\n\n  } else if (type === KEY.UPDATE_PS_CONFIG) {\n    state.psConfig = {\n      ...state.psConfig,\n      ...anValue,\n    }\n\n    return { ...state };\n\n  } else if (type === KEY.UPDATE_UE_SETTINGS_INITIAL) {\n    state.ueSettings.initial = {\n      ...state.ueSettings.initial,\n      ...anValue,\n    }\n\n    return { ...state };\n\n  } else if (type === KEY.UPDATE_UE_SETTINGS_ONSTART) {\n    state.ueSettings.onStart = {\n      ...state.ueSettings.onStart,\n      ...anValue,\n    }\n\n    return { ...state };\n\n\n  } else if (type === KEY.UPDATE_PLAYER_SETTINGS) {\n\n    state.playerSettings = {\n      ...state.playerSettings,\n      ...anValue,\n    }\n\n    return { ...state };\n\n  } else if (type === KEY.WEBRTC_STATUS) {\n\n    // Show errorCode only in cases when status is error||disconnected\n    const status = EventsClass.webrtcStatusList\n    if (![status.disconnected, status.error].includes(anValue?.status)) {\n      anValue.errorCode = null\n    }\n\n    // Checking autoplay support\n    if (anValue?.status == status.initialized_no_autoplay) {\n      anValue.status = status.initialized\n      anValue.autoplaySupport = false\n    } else if (anValue?.status == status.initialized) {\n      anValue.autoplaySupport = true\n    }\n\n    state.webrtcData = {\n      ...state.webrtcData,\n      ...anValue,\n      statusUpdatedAt: moment().utc()\n    }\n\n    return { ...state };\n\n  } else if (type === KEY.COMMANDS_LIST) {\n    anValue.confirmed = false\n    return eventInjection(state, 'commands_list', anValue)\n\n  } else if (type === KEY.CALLBACKS_LIST) {\n    return eventInjection(state, 'callbacks_list', anValue)\n\n  } else if (type === KEY.COMMAND_CONFIRMATION) {\n    return commandConfirmation(state, anValue)\n\n  } else if (type === KEY.MOUSE_EVENT) {\n\n    const key = anValue?.variant\n    if (key) {\n\n      if (key === 'moveStart') {\n        state.mouseEvent.moving = true\n        return { ...state };\n      } else if (key === 'moveStop') {\n        state.mouseEvent.moving = false\n        return { ...state };\n      }\n\n    }\n\n  }\n\n  return state;\n}\n\n\n// Mark command as confirmed by callback\nconst commandConfirmation = (state: any, verification_id: any) => {\n  for (let i in state.commands_list) {\n    const item = state.commands_list[i]\n    if (item?.verification_id === verification_id) {\n      state.commands_list[i].confirmed = true\n      return { ...state }\n    }\n  }\n\n  return state\n}\n\n\n// Add item if verification_id doesnt exist in state\nconst eventInjection = (state: any, key: string, anValue: any) => {\n  const list = state[key] || []\n\n  // Dont save system commands from emitCommandSystem()\n  if (!anValue?.verification_id || anValue?.initiator === 'system') {\n    return state\n  }\n\n  let allow = true\n  for (let item of list) {\n    if (!item?.verification_id || !anValue?.verification_id) {\n      allow = false\n    }\n    if (item.verification_id == anValue.verification_id) {\n      allow = false\n      break;\n    }\n  }\n\n  if (allow) {\n    const res = [anValue, ...list].filter((o, index) => index < 100)\n    state[key] = res\n    window[key] = res // hack for emitAsyncCommand\n\n    return { ...state }\n  }\n\n  return state\n}\n\n\n\nconst parseJson = (data: any) => {\n  try {\n    return JSON.parse(data)\n  } catch (err) {\n    console.error('@@@cant parse json', data)\n  }\n  return undefined\n}\n\n\nexport const useDispatch = () => {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n\n  /**\n   * Events useCallback's wrapper for state updates\n   */\n  const eventCommand = React.useCallback(({ detail }: any) => {\n    const payload = parseJson(detail)\n    dispatch({ type: KEY.COMMANDS_LIST, payload })\n  }, [state]);\n\n  const eventCallbacks = React.useCallback(({ detail }: any) => {\n    const payload = parseJson(detail)\n    cls.commandConfirmation(payload?.verification_id)\n    dispatch({ type: KEY.CALLBACKS_LIST, payload })\n  }, [state]);\n\n  const eventMouse = React.useCallback(({ detail }: any) => {\n    const payload = detail\n    dispatch({ type: KEY.MOUSE_EVENT, payload })\n  }, [state]);\n\n  const eventWebrtcStatus = React.useCallback(({ detail }: any) => {\n    cls.updateWebrtcData(detail)\n  }, [state]);\n\n  const eventUeSettingsInitial = React.useCallback(({ detail }: any) => {\n    const payload = detail\n    dispatch({ type: KEY.UPDATE_UE_SETTINGS_INITIAL, payload })\n  }, [dispatch]);\n\n  const cls = new class {\n\n    update(payload: any) {\n      dispatch({ type: KEY.UPDATE, payload })\n    }\n\n    updateConfig(payload: any) {\n      dispatch({ type: KEY.UPDATE_CONFIG, payload })\n    }\n\n    updatePsConfig(payload: any) {\n      dispatch({ type: KEY.UPDATE_PS_CONFIG, payload })\n    }\n\n    updateUeSettingsOnStart(payload: any) {\n      dispatch({ type: KEY.UPDATE_UE_SETTINGS_ONSTART, payload })\n    }\n\n    updatePlayerSettings(payload: any) {\n      dispatch({ type: KEY.UPDATE_PLAYER_SETTINGS, payload })\n    }\n\n    commandConfirmation(payload: any) {\n      dispatch({ type: KEY.COMMAND_CONFIRMATION, payload })\n    }\n\n    updateWebrtcData(payload: any) {\n      dispatch({ type: KEY.WEBRTC_STATUS, payload })\n    }\n  }\n\n  const eventHandler = {\n    eventCommand,\n    eventCallbacks,\n    eventMouse,\n    eventWebrtcStatus,\n    eventUeSettingsInitial,\n  }\n\n  return [state, cls, eventHandler]\n}\n\n","import * as React from \"react\"\n\n\nconst initialState: any = {\n  apiKey: null,\n  buildId: null,\n  devBar: {\n    slug: null,\n  },\n  sessionData: null,\n  metaData: null,\n  metaConfig: {\n    showToolbar: true,\n    showQuickMenu: false,\n    showDevBar: true,\n    showOverlay: true,\n    notifications: {\n      showCommands: true,\n      showCallbacks: true,\n      placement: 'topStart',\n    },\n    videoUrl: null,\n    issuesUrl: null,\n  }\n};\n\nconst KEY = {\n  UPDATE: 'UPDATE',\n  UPDATE_DEVBAR: 'UPDATE_DEVBAR',\n  UPDATE_METACONFIG: 'UPDATE_METACONFIG',\n  UPDATE_NOTIFICATION_SETTINGS: 'UPDATE_NOTIFICATION_SETTINGS',\n  UPDATE_SESSION_DATA: 'UPDATE_SESSION_DATA',\n}\n\n\nconst reducer = (state: any, action: any): any => {\n  const { type, payload: anValue } = action;\n  // console.log(state);\n\n  if (type === KEY.UPDATE) {\n\n    return { ...state, ...anValue };\n\n  } else if (type === KEY.UPDATE_DEVBAR) {\n    state.devBar = {\n      ...state.devBar,\n      ...anValue,\n    }\n\n    return { ...state };\n\n  } else if (type === KEY.UPDATE_METACONFIG) {\n    state.metaConfig = {\n      ...state.metaConfig,\n      ...anValue,\n    }\n\n    return { ...state };\n\n  } else if (type === KEY.UPDATE_NOTIFICATION_SETTINGS) {\n    state.metaConfig.notifications = {\n      ...state.metaConfig.notifications,\n      ...anValue,\n    }\n\n    return { ...state };\n\n  } else if (type === KEY.UPDATE_SESSION_DATA) {\n    state.sessionData = {\n      ...state.sessionData,\n      ...anValue,\n    }\n\n    return { ...state };\n  }\n\n  return state;\n}\n\n\n\nexport const useDispatch: any = () => {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n\n  const cls = new class {\n\n    update(payload: JSON) {\n      dispatch({ type: KEY.UPDATE, payload })\n    }\n\n    updateDevBar(payload: JSON) {\n      dispatch({ type: KEY.UPDATE_DEVBAR, payload })\n    }\n\n    updateMetaConfig(payload: JSON) {\n      dispatch({ type: KEY.UPDATE_METACONFIG, payload })\n    }\n\n    updateNotificationSettings(payload: JSON) {\n      dispatch({ type: KEY.UPDATE_NOTIFICATION_SETTINGS, payload })\n    }\n\n    updateSessionData(payload: JSON) {\n      dispatch({ type: KEY.UPDATE_SESSION_DATA, payload })\n    }\n\n  }\n\n\n  return [state, cls]\n}\n\n","import * as React from 'react'\n\n// libs\nimport parse from 'url-parse'\n\n// package.json\nimport packageJson from '../../package.json'\n\n\nexport const config = new class {\n  isDev: boolean\n  version: string\n  systemName: string\n  websiteUrl: string\n  apiUrl: string\n  portalUrl: string\n  updateUrl: string\n\n  constructor() {\n    this.isDev = process.env.NODE_ENV === 'development'\n    this.version = packageJson.version\n    this.systemName = 'MetaEditor'\n    this.websiteUrl = 'https://metaeditor.io'\n\n    this.apiUrl = 'https://api.metaeditor.io'\n    if (this.isDev) {\n      // this.apiUrl = 'http://127.0.0.1:8000'\n    }\n\n    this.portalUrl = 'https://portal.metaeditor.io'\n    this.updateUrl = 'https://metaeditor.io/docs/pixel-streaming/settings/update'\n  }\n\n\n  get portal() {\n    const url_parsed: any = parse(this.portalUrl, true);\n    return {\n      name: url_parsed.hostname,\n      url: this.portalUrl,\n      urlProjects: this.portalUrl + '/user/projects/'\n    }\n  }\n\n}","/**\n * Usage:\n * \n Request.GET(url='https://...').then(res => {\n  if(res.status === 200) {\n    console.log(res.body)\n  }\n}).catch(err => {\n  console.error(err)\n})\n */\n\nimport * as React from 'react'\n\n// config\nimport { config } from '../../assets/config'\n\n\nexport const Request = new class {\n\n  urlBuilder(route: string) {\n    return `${config.apiUrl}/api` + route\n  }\n\n  async request(method: string, url: string, getOptions: any = {}) {\n\n    url = this.urlBuilder(url)\n\n    let options = {\n      method,\n      mode: 'cors',\n      ...getOptions,\n    }\n\n    options.headers = new Headers({\n      ...options.headers,\n      'Origin': '',\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n    })\n\n    // body preparations\n    if (method === 'POST' && options.body) {\n      try { options.body = JSON.stringify(options.body) } catch (err) {\n        console.error('Request', { method, err })\n      }\n    }\n\n    try {\n      const response = await fetch(url, options);\n      const responseJson = await response.json();\n      return {\n        ok: response.status === 200,\n        status: response.status,\n        body: responseJson,\n      }\n    } catch (error) {\n      console.error('Request', { error });\n      return {\n        status: 0,\n        error,\n      };\n    }\n\n  }\n\n  async GET(url: string, options?: any) {\n    return await this.request('GET', url, options);\n  }\n\n  async POST(url: string, body: any, options?: any) {\n    return await this.request('POST', url, { body, ...options });\n  }\n\n  async DELETE(url: string, options?: any) {\n    return await this.request('DELETE', url, options);\n  }\n}\n\n\n\n","import * as React from 'react'\n\n// hooks\nimport { Request } from './useRequest'\n\n\nexport const useApi = () => {\n\n  const cls = new class {\n    constructor() { }\n\n\n    sessionRead(sessionUuid: string) {\n      return Request.GET('/streams_provider/session/read/' + sessionUuid)\n    }\n\n    sessionCreate(build_id: any) {\n      return Request.POST('/streams_provider/session/create/', { build_id })\n    }\n\n    getMetaeditorData(apiKey?: string) {\n      const headers = {\n        'x-metaeditor-apikey': apiKey,\n      }\n      return Request.GET('/info/metaeditor/', { headers })\n    }\n  }\n\n  return cls\n}\n","import * as React from 'react'\n\n\nexport const dispatchEvent = (eventName: string, payload: unknown, element: any = document) => {\n  element.dispatchEvent(new CustomEvent(eventName, payload));\n}\n\nexport const useEventListener = (eventName: string, handler: Function, element: any = document) => {\n  // Create a ref that stores handler\n  const savedHandler = React.useRef<any>();\n  // Update ref.current value if handler changes.\n  // This allows our effect below to always get latest handler ...\n  // ... without us needing to pass it in effect deps array ...\n  // ... and potentially cause effect to re-run every render.\n  React.useEffect(() => {\n    savedHandler.current = handler;\n  }, [handler]);\n\n  React.useEffect(\n    () => {\n      // Make sure element supports addEventListener\n      // On\n      const isSupported = element && element.addEventListener;\n      if (!isSupported) return;\n      // Create event listener that calls handler function stored in ref\n      const eventListener = (event: any) => savedHandler.current(event);\n      // Add event listener\n      element.addEventListener(eventName, eventListener);\n      // Remove event listener on cleanup\n      return () => {\n        element.removeEventListener(eventName, eventListener);\n      };\n    },\n    [eventName, element] // Re-run if eventName or element changes\n  );\n}","// type StorageType = 'session' | 'local';\n// type UseStorageReturnValue = {\n//   getItem: (key: string, type?: StorageType) => string;\n//   setItem: (key: string, value: string, type?: StorageType) => boolean;\n//   removeItem: (key: string, type?: StorageType) => void;\n// };\n\nimport * as React from 'react'\n\n// declarations\ndeclare global {\n  interface Window {\n    [key: string]: any\n  }\n}\n\nexport const useStorage = () => {\n  const storageType = (type?: string) => `${type ?? 'session'}Storage`;\n\n  const isBrowser = typeof window !== 'undefined'\n\n  const getItem = (key: string, type?: string) => {\n\n    let value = window[storageType(type)][key]\n\n    // If value is object\n    try {\n      value = JSON.parse(value)\n    } catch (err) { }\n\n    return isBrowser ? value : '';\n  };\n\n  const setItem = (key: string, value: any, type?: string) => {\n    if (isBrowser) {\n\n      // If value is object\n      if (typeof value === 'object') {\n        try {\n          value = JSON.stringify(value)\n        } catch (err) {\n          console.error('Can\\'t serialize data', err)\n        }\n      }\n\n      window[storageType(type)].setItem(key, value);\n      return true;\n    }\n\n    return false;\n  };\n\n  const removeItem = (key: string, type?: string) => {\n    window[storageType(type)].removeItem(key);\n  };\n\n  const wrapper = (STORAGE_KEY: string, type?: string) => {\n    return {\n      read: async (cb?: Function) => {\n        const stored_data = await getItem(STORAGE_KEY, type)\n        if (typeof cb === 'function') {\n          cb(stored_data || null)\n          return stored_data\n        }\n      },\n      save: (data: string | JSON) => {\n        setItem(STORAGE_KEY, data, type)\n      },\n      remove: () => {\n        removeItem(STORAGE_KEY, type)\n      }\n    }\n  }\n\n  return {\n    getItem,\n    setItem,\n    removeItem,\n    wrapper,\n  };\n};\n\nexport default useStorage;\n","import * as React from 'react'\n\nimport useStorage from './useStorage'\n\nexport const useStorageBook = () => {\n  const storage = useStorage()\n\n  const cls = new class {\n\n    get apiKey() {\n      return storage.wrapper('API_KEY', 'local')\n    }\n\n    get sessionUuid() {\n      return storage.wrapper('SESSION_UUID', 'session')\n    }\n\n  }\n\n  return cls\n}","\nimport * as React from 'react';\n\n// config\nimport { config } from '../../../assets/config';\n\nexport const useVersionCompare = () => {\n\n  const compare = (a: string, b: string) => {\n    if (a === b) {\n      return 0;\n    }\n\n    var a_components = a.split('.')\n    var b_components = b.split('.')\n\n    var len = Math.min(a_components.length, b_components.length);\n\n    // loop while the components are equal\n    for (var i = 0; i < len; i++) {\n      // A bigger than B\n      if (parseInt(a_components[i]) > parseInt(b_components[i])) {\n        return 1;\n      }\n\n      // B bigger than A\n      if (parseInt(a_components[i]) < parseInt(b_components[i])) {\n        return -1;\n      }\n    }\n\n    // If one's a prefix of the other, the longer one is greater.\n    if (a_components.length > b_components.length) {\n      return 1;\n    }\n\n    if (a_components.length < b_components.length) {\n      return -1;\n    }\n\n    // Otherwise they are the same.\n    return 0;\n  }\n\n  const result = (current: string, release: string) => {\n\n    const transform = (v: string) => v.match(/\\d+/g).join('.')\n\n    current = transform(current)\n    release = transform(release)\n\n    const status = compare(current, release)\n\n    return {\n      current,\n      release,\n      status,\n      update: status < 0,\n    }\n  }\n\n  return (release: string) => result(config.version, release)\n\n}\n\n","import * as React from \"react\"\n\nexport const AppContext = React.createContext<Partial<any>>({});\nexport const useSystem = () => React.useContext(AppContext)\n\n// classes\nimport { useActions } from './useActions'\n\nconst Provider = (props: any) => {\n\tconst actions = useActions();\n\n\treturn (\n\t\t<AppContext.Provider value={actions}>\n\t\t\t{props.children}\n\t\t</AppContext.Provider>\n\t);\n};\n\n\nexport default Provider","import * as React from 'react'\n\n// reducer\nimport { useDispatch } from \"./useReducer\";\n\n// pixel-streaming\nimport { EventsClass as Ev } from '../../client/'\n\n// hooks\nimport { useApi } from '../../hooks/useApi';\nimport { useEventListener } from '../../hooks/useEventListener';\nimport { useBuildConnector } from './hooks/useBuildConnector';\nimport { useStorageBook } from '../../hooks/useStorageBook';\nimport { useVersionCompare } from './hooks/useVersionCompare';\nimport { useNotifier } from './hooks/useNotifier'\n\n\nexport const useActions = () => {\n  const [state, dispatch] = useDispatch()\n\n  const api = useApi()\n  const notifier = useNotifier()\n  const storageBook = useStorageBook()\n  const versionCompare = useVersionCompare()\n\n\n  // Fetch streaming session by buildId\n  const buildConnector = useBuildConnector(dispatch)\n\n\n  // Notification settings\n  useEventListener(Ev.commands.key, (payload: any) => {\n    if (!notifications.showCommands) return\n    notifier.pushCommand(notifications.placementValue, payload)\n  });\n  useEventListener(Ev.callbacks.key, (payload: any) => {\n    if (!notifications.showCallbacks) return\n    notifier.pushCallback(notifications.placementValue, payload)\n  });\n\n  /**\n   * First initialization\n   */\n  React.useEffect(() => {\n\n    // Load data by Api Key\n    storageBook.apiKey.read((v: any) => {\n      if (v) cls.loadData(v)\n    })\n\n  }, [])\n\n  /**\n   * loadData if apiKey applied\n   */\n  React.useEffect(() => {\n\n    if (state.apiKey) {\n      cls.loadData()\n    }\n\n  }, [state.apiKey])\n\n  const cls = new class {\n\n    initMetaConfig(payload: any) {\n      dispatch.updateMetaConfig(payload)\n    }\n\n    setApiKey(apiKey: string) {\n      dispatch.update({ apiKey })\n    }\n\n    get apiKeyIsCorrect() {\n      return state.apiKey ? true : false\n    }\n\n    async loadData(apiKey: string | null = state.apiKey) {\n      return await api.getMetaeditorData(apiKey).then(res => {\n        if (res.ok) {\n          const metaData = res.body\n          dispatch.update({ metaData })\n          storageBook.apiKey.save(apiKey)\n          return true\n        } else {\n          dispatch.update({ apiKey: null })\n          storageBook.apiKey.remove()\n        }\n        return false\n      })\n    }\n\n    get commands_system() {\n      const list = state.metaData?.commands_system\n      if (!Array.isArray(list)) return []\n      return list\n    }\n\n    get commands_project() {\n      const list = state.metaData?.commands_project\n      if (!Array.isArray(list)) return []\n      return list\n    }\n\n    connectBuild(buildId: string) {\n      dispatch.update({ buildId })\n      buildConnector.start(buildId)\n    }\n\n    get streamingUrl() {\n      if (this.sessionData) {\n        return this.sessionData.streamingUrl\n      }\n      return false\n    }\n\n    get sharedUrl() {\n      if (!this.sessionData) return false\n      const sessionUuid: string = this.sessionData?.uuid\n      const { protocol, host, pathname } = document.location\n      return `${protocol}//${host}${pathname}?session=${sessionUuid}`\n    }\n\n    get sessionData() {\n\n      if (state.sessionData) {\n        const { stream_data, uuid } = state.sessionData\n\n        return {\n          uuid,\n          streamingUrl: stream_data.host,\n          status: stream_data.status,\n          secondsToStart: stream_data.seconds_to_start,\n          // secondsToKill: stream_data.seconds_to_kill,\n        }\n      }\n\n      return false\n    }\n\n    get apiData() {\n      if (state.sessionData) {\n        const { error, module_version } = state.metaData?.api_data\n\n        return {\n          error,\n          module: versionCompare(module_version),\n        }\n      }\n\n      return false\n    }\n  }\n\n  const project = new class {\n    get exist() {\n      return state.metaData ? true : false\n    }\n\n    get name() {\n      return state.metaData?.project?.info?.name\n    }\n\n    get menu() {\n      return state.metaData?.menu || []\n    }\n\n    get config() {\n      return state.metaData?.project?.info?.config || false\n    }\n  }\n\n  const config = new class {\n    get showToolbar() {\n      return state.metaConfig.showToolbar\n    }\n    get showQuickMenu() {\n      return state.metaConfig.showQuickMenu\n    }\n    get showDevBar() {\n      return state.metaConfig.showDevBar\n    }\n    get helpers() {\n      return {\n        keyboard: state.metaConfig.helpers.keyboard\n      }\n    }\n\n    get showOverlay() {\n      return state.metaConfig.showOverlay\n    }\n    get issuesUrl() {\n      return state.metaConfig.issuesUrl\n    }\n    get videoUrl() {\n      return state.sessionData?.metadata?.video_url || state.metaConfig.videoUrl\n    }\n  }\n\n  const notifications = new class {\n    get showCommands() {\n      return state.metaConfig.notifications.showCommands\n    }\n    get showCallbacks() {\n      return state.metaConfig.notifications.showCallbacks\n    }\n    get placementsList() {\n      return [\n        { label: 'topStart', value: 'topStart' },\n        { label: 'topCenter', value: 'topCenter' },\n        { label: 'topEnd', value: 'topEnd' },\n        { label: 'bottomStart', value: 'bottomStart' },\n        { label: 'bottomCenter', value: 'bottomCenter' },\n        { label: 'bottomEnd', value: 'bottomEnd' }\n      ]\n    }\n    get placementValue() {\n      return state.metaConfig.notifications.placement\n    }\n    updatePlacement(placement: string) {\n      dispatch.updateNotificationSettings({ placement })\n    }\n    updateCommands(showCommands: boolean) {\n      dispatch.updateNotificationSettings({ showCommands })\n    }\n    updateCallbacks(showCallbacks: boolean) {\n      dispatch.updateNotificationSettings({ showCallbacks })\n    }\n  }\n\n  return {\n    state,\n    dispatch,\n    cls,\n    config,\n    project,\n    notifications,\n  }\n};\n\n","import * as React from \"react\"\n\n// // context\n// import { useSystem } from '../../../context/'\n\n// ui\nimport Notification from 'rsuite/Notification';\nimport toaster from 'rsuite/toaster';\n\n// pixel-streaming\nimport * as client from 'unreal-pixel-streaming'\n\n// // components\n// import JsonViewer from '../../../components/JsonViewer'\n\n\nexport const useNotifier = () => {\n  const refCommand = React.useRef<any>(null)\n  const refCallback = React.useRef<any>(null)\n\n\n  const cls = new class {\n\n    // Hide system messages\n    public restricted(payload: any) {\n      if (['browser', 'ue'].includes(payload?.initiator)) {\n        return false\n      }\n      return true\n    }\n\n    getValue(detail: string) {\n      try {\n        return JSON.parse(detail)\n      } catch (err) {\n        console.error('@@@Cant parse event', { detail })\n      }\n    }\n\n    pushCommand(placement: any, event: any) {\n      const payload: client.IBodyCommand = this.getValue(event.detail)\n      if (this.restricted(payload)) return\n\n      const message = (\n        <Notification type={undefined} header={payload?.command} closable>\n          {/* <JsonViewer data={data} style={{\n          maxHeight: 100,\n          overflow: 'auto'\n        }} /> */}\n        </Notification>\n      );\n\n      // toaster.remove(refCommand.current)\n      refCommand.current = toaster.push(message, { placement })\n\n    }\n\n    pushCallback(placement: any, event: any) {\n      const payload: client.IBodyCallback = this.getValue(event.detail)\n      if (this.restricted(payload)) return\n\n      const message = (\n        <Notification type='success' header={payload?.command} closable>\n          {/* <JsonViewer data={data} style={{\n          maxHeight: 100,\n          overflow: 'auto'\n        }} /> */}\n        </Notification>\n      );\n\n      refCallback.current = toaster.push(message, { placement })\n    }\n  }\n\n  return cls\n}","import * as React from 'react'\n\n// pixel-streaming\nimport { Logger } from 'unreal-pixel-streaming'\n\n// hooks\nimport { useApi } from \"../../../hooks/useApi\"\nimport { useStorageBook } from '../../../hooks/useStorageBook'\n\nconst API_INTERVAL_SEC = 3\n\nexport const useBuildConnector = (dispatch: any) => {\n  const api = useApi()\n  const storageBook = useStorageBook()\n\n  const refInterval = React.useRef<any>(null)\n\n  const [buildId, setBuildId] = React.useState<any>(false)\n  const [sessionUuid, setSessionUuid] = React.useState<any>(false)\n\n  React.useEffect(() => {\n    return () => {\n      clearInterval(refInterval.current)\n    }\n  }, [])\n\n  React.useEffect(() => {\n\n    if (sessionUuid) {\n      clearInterval(refInterval.current)\n      cls.readSessionData()\n\n      refInterval.current = setInterval(async () => {\n        await cls.readSessionData()\n      }, 1000 * API_INTERVAL_SEC)\n\n    }\n\n  }, [sessionUuid])\n\n\n  const cls = new class {\n\n    async start(buildId: string) {\n      setBuildId(buildId)\n\n      if (!this.urlSessionExist) {\n        await this.waitSessionData(buildId)\n      }\n    }\n\n    get urlSessionExist() {\n      const params = decodeURI(window.location.search)\n        .replace('?', '')\n        .split('&')\n        .map(param => param.split('='))\n        .reduce((values: any, [key, value]) => {\n          values[key] = value\n          return values\n        }, {})\n\n      if (params?.session) {\n        setSessionUuid(params.session)\n        storageBook.sessionUuid.save(params.session)\n        return true\n      }\n\n      return false\n    }\n\n    async waitSessionData(buildId: string) {\n\n      storageBook.sessionUuid.read((res: any) => {\n        if (res) {\n          setSessionUuid(res)\n          return\n        }\n      })\n\n      await api.sessionCreate(buildId).then(async res => {\n        if (res.ok) {\n          const { uuid } = res.body\n          if (uuid) {\n            setSessionUuid(uuid)\n            storageBook.sessionUuid.save(uuid)\n          }\n        }\n        return false\n      }).catch(err => {\n        throw new Error(err);\n      })\n    }\n\n    removeSession() {\n      Logger.infoLog('Remove session & reinit');\n      setSessionUuid(false)\n      storageBook.sessionUuid.remove()\n      clearInterval(refInterval.current)\n      this.waitSessionData(buildId)\n    }\n\n    async readSessionData() {\n      await api.sessionRead(sessionUuid).then(res => {\n        if (res.ok) {\n          const { stream_data } = res.body\n          // const { host, port, que, seconds_to_kill, seconds_to_start, status } = stream_data\n          // const streamingUrl = stream_data.host\n          // const secondsToStart = stream_data.seconds_to_start\n          // const secondsToKill = stream_data.seconds_to_kill\n          const status = stream_data.status\n\n          // console.log('@@status', status)\n          // console.log('@@secondsToStart', secondsToStart)\n\n          const sessionData = res.body\n          const apiKey = sessionData.metadata?.api_key\n          if (apiKey) {\n            dispatch.update({ apiKey })\n          }\n\n          dispatch.updateSessionData(sessionData)\n\n          if (status === 'active') {\n            clearInterval(refInterval.current)\n          }\n\n        } else {\n          this.removeSession()\n        }\n\n      }).catch(err => {\n        throw new Error(err);\n      })\n    }\n  }\n\n  return cls\n}","import * as React from \"react\";\n\n// pixel-streaming\nimport { Logger } from \"unreal-pixel-streaming\";\n\n// libs\nimport moment from 'moment';\n\n\nexport const useCountdown = () => {\n  const refInterval = React.useRef<any>(null)\n\n  const [data, setData] = React.useState<any>({\n    active: false,\n    percent: 0,\n    leftSeconds: 0,\n  })\n\n  React.useEffect(() => {\n    return () => {\n      cls.stop()\n    }\n  }, [])\n\n  // React.useEffect(() => {\n  //   if (data.active && data.percent > 0) {\n  //     Logger.infoLog('Countdown: ' + data.percent);\n  //   }\n  // }, [data.percent])\n\n  const cls = new class {\n\n    get active() {\n      return data.active;\n    }\n\n    get percent() {\n      return data.percent;\n    }\n\n    get leftSeconds() {\n      return data.leftSeconds;\n    }\n\n    get time() {\n      const sec = data.leftSeconds\n      return moment.utc(sec * 1000).format('mm:ss');\n    }\n\n    stop() {\n      setData({ active: false, percent: 0, leftSeconds: 0 })\n      clearInterval(refInterval.current)\n    }\n\n    start(seconds: number) {\n\n      if (typeof seconds !== 'number' || seconds < 0) return\n      if (data.active) return\n\n      const startTime = moment()\n      const targetTime = startTime.add(seconds, 'seconds')\n\n      clearInterval(refInterval.current)\n      refInterval.current = setInterval(() => {\n\n        const totalSeconds = seconds\n        const leftSeconds = moment.duration(targetTime.diff(moment())).asSeconds();\n\n        const relDiff = (a: number, b: number) => Math.round(((a - b) / a) * 100)\n        const percent = relDiff(totalSeconds, leftSeconds)\n\n        if (percent >= 100) {\n          clearInterval(refInterval.current)\n          setData({ active: false, percent: 100, leftSeconds: 0 })\n          return;\n        }\n\n        setData({ active: true, percent, leftSeconds })\n\n      }, 100)\n\n    }\n  }\n\n  return cls\n};\n","import * as React from \"react\"\n\nexport const AppContext = React.createContext<Partial<any>>({});\nexport const usePlayer = () => React.useContext(AppContext)\n\n// classes\nimport { useActions } from './useActions'\n\nconst Provider = (props: any) => {\n\tconst actions = useActions();\n\n\treturn (\n\t\t<AppContext.Provider value={actions}>\n\t\t\t{props.children}\n\t\t</AppContext.Provider>\n\t);\n};\n\n\nexport default Provider","import * as React from 'react'\n\n// reducer\nimport { useDispatch } from \"./useReducer\";\n\n// pixel-streaming\nimport { ClientClass, ClientAccess, EventsClass as Ev } from '../../client/'\n\n// context\nimport { useSystem } from '../useSystem';\n\n// hooks\nimport { useResolution } from './hooks/useResolution'\nimport { useUnload } from '../../hooks/useUnload';\nimport { useEventListener } from '../../hooks/useEventListener';\nimport { useCountdown } from '../../hooks/useCountdown';\nimport { useStreamKiller } from './hooks/useStreamKiller';\nimport { useUnrealSettings } from './hooks/useUnrealSettings'\n\n\nexport const useActions = () => {\n  const system = useSystem()\n\n  const [state, dispatch, eventHandler] = useDispatch()\n  const [initReady, setInitReady] = React.useState<any>(false)\n\n  const refTimeoutConfig = React.useRef<any>(null) //hack\n\n  // pixel-streaming events\n  useEventListener(Ev.mouseAction.key, (payload: any) => eventHandler.eventMouse(payload));\n\n  useEventListener(Ev.commands.key, (payload: any) => eventHandler.eventCommand(payload));\n  useEventListener(Ev.callbacks.key, (payload: any) => eventHandler.eventCallbacks(payload));\n\n  useEventListener(Ev.webrtcStatus.key, (payload: any) => eventHandler.eventWebrtcStatus(payload));\n  useEventListener(Ev.ueInitialSettings.key, (payload: any) => eventHandler.eventUeSettingsInitial(payload));\n\n  // prompt before unload\n  const unload = useUnload((e: any) => {\n    e.preventDefault();\n    e.returnValue = '';\n  });\n\n  // Computed data for quick access\n  const computed = new class {\n\n    get streaming() {\n      const { status } = state.webrtcData\n      const _s_ = Ev.webrtcStatusList\n      const ch = (v: any) => v === status\n      let res: any = {\n        empty: status === null,\n        initializing: ch(_s_.initializing),\n        initialized: ch(_s_.initialized),\n        active: ch(_s_.active),\n        activation: ch(_s_.activation),\n        disconnected: ch(_s_.disconnected),\n        stopped: ch(_s_.stopped),\n        error: ch(_s_.error),\n        autoplaySupport: state.webrtcData.autoplaySupport,\n        status: status || 'pending',\n      }\n\n      // For overlays\n\n      res._inProgress = res.empty || res.activation || res.disconnected\n      res._allowPlay = ((res.initialized || res.stopped) && res.autoplaySupport !== true) || res.stopped\n      res._playError = res.disconnected || res.error\n      res._allowOverlay = !res.active\n      res._isPending = res.status === 'pending'\n\n      return res\n    }\n\n    get mouse() {\n      return {\n        moving: state.mouseEvent.moving\n      }\n    }\n  }\n\n  /**\n   * Apply Unreal Engine Settings on start\n   */\n  useUnrealSettings(state, computed.streaming.active)\n\n\n  /**\n   * Resolution adapter\n   */\n  const resolution = useResolution(state.ueSettings.onStart?.Console)\n\n  /**\n   * Auto restart\n   */\n  React.useEffect(() => {\n    // If client not inited yet... return\n    if (!ClientAccess.client) return\n\n    if (computed.streaming.error && state.config.autoRestart) {\n      console.error('@@@restarting...')\n      cls.streamingConnect()\n    }\n  }, [computed.streaming.error])\n\n  /**\n   * Percentage progress for seconds to start\n   */\n\n  const loadingContdown = useCountdown()\n\n  React.useEffect(() => {\n\n    if (computed.streaming.empty) {\n      const sec = state.config.secondsToStart\n      if (typeof sec === 'number' && sec > 0) {\n        loadingContdown.start(sec)\n      }\n    }\n\n    if (computed.streaming.initialized) {\n      loadingContdown.stop()\n    }\n\n  }, [computed.streaming.initialized, state.config.secondsToStart])\n\n  /**\n   * Kill stream if secondsToKill > 0\n   */\n  useStreamKiller(dispatch, computed.streaming.active, state.config)\n\n  /**\n   * Streaming activation\n   */\n\n  React.useEffect(() => {\n\n    if (computed.streaming.active) {\n\n      // Show prompt befor exit\n      unload.activate()\n\n      // Apply current resolution\n      resolution.resize()\n\n    } else {\n      unload.deactivate()\n    }\n\n  }, [computed.streaming.active])\n\n\n  /**\n   * Init build if ready\n   */\n  React.useEffect(() => {\n    if (system.cls.streamingUrl) {\n      cls.initPlayer(system.cls.streamingUrl)\n    }\n  }, [system.cls.streamingUrl])\n\n\n  /**\n   * Update build config\n   * $sessionData — prevent init twice\n   */\n  const { sessionData } = system.state\n  React.useEffect(() => {\n    if (sessionData) {\n      const { secondsToStart } = system.cls.sessionData\n      if (typeof secondsToStart === 'number' && secondsToStart > 0 && !state.secondsToStart) {\n        dispatch.updateConfig({ secondsToStart })\n      }\n    }\n  }, [sessionData])\n\n  /**\n   * Wrapper for Client\n   */\n\n  const cls = new class {\n    initReady: boolean\n\n    constructor() {\n      this.initReady = initReady\n    }\n\n    // useful info\n    get info() {\n      return {\n        loading: loadingContdown,\n      }\n    }\n\n    // useful methods\n    get methods() {\n      return {\n        commands: {\n          clear: () => dispatch.update({ commands_list: [] })\n        },\n        callbacks: {\n          clear: () => dispatch.update({ callbacks_list: [] })\n        },\n      }\n    }\n\n    /**\n     * Allow command if RTCPlayer exist and connection is active\n     */\n    _allowCommand(command: string) {\n      if (!ClientAccess.client || !computed.streaming.active) {\n        console.error('@@@error, streaming not active', { command })\n        return\n      }\n      return true\n    }\n\n    /**\n     * Emit system command\n     */\n    emitCommandSystem(command: string, value: any) {\n      if (!this._allowCommand(command)) return\n      ClientAccess.emitCommandSystem(command, value)\n    }\n\n    /**\n     * Check callbacks_list and mark command item \n     * as confirmed if callback found by verification_id\n     */\n    async emitAsyncCommand(command: string, value: any) {\n      if (!this._allowCommand(command)) return\n\n      const emitItem: any = ClientAccess.emitCommand(command, value);\n\n      const ms = 100\n      const attempts = 5 * (ms / 10)\n\n      for (let i = 0; i < attempts; i++) {\n        await new Promise(r => setTimeout(r, ms, i))\n\n        for (let item of window.callbacks_list || []) {\n          if (item?.verification_id === emitItem?.verification_id) {\n            return item\n          }\n        }\n      }\n    }\n\n    /**\n     * Emit command via portal commands (by uuid)\n     */\n    async emitUuidAsync(uuid: string) {\n      for (let item of system.cls.commands_project) {\n        if (item.command_uuid === uuid) {\n          return await this.emitAsyncCommand(item.command, item.value)\n        }\n      }\n      return false\n    }\n\n\n    /**\n     * One time config initialization\n     */\n    initConfig(config: any, psConfig: any, ueSettings: any) {\n      dispatch.updateConfig(config)\n      dispatch.updatePsConfig(psConfig)\n      dispatch.updateUeSettingsOnStart(ueSettings)\n\n      // Delay for saving configs\n      clearTimeout(refTimeoutConfig.current)\n      refTimeoutConfig.current = setTimeout(() => {\n        setInitReady(true)\n      }, 300)\n    }\n\n    // Handle player initialization\n    initPlayer(streamingUrl: string) {\n\n      if (!streamingUrl) {\n        console.error('Missing data:', { streamingUrl })\n        return\n      }\n\n      // Send status handler for webrtc state changing\n      dispatch.updateConfig({ streamingUrl })\n      dispatch.updateWebrtcData({\n        status: 'initializing',\n      })\n\n      // Init client once\n      new ClientClass(streamingUrl, state.psConfig).init()\n\n    }\n\n    streamingConnect() {\n      ClientAccess.connect()\n    }\n\n    streamingStop() {\n      ClientAccess.close()\n    }\n\n    switchStart() {\n      computed.streaming.active ? this.streamingStop() : this.streamingConnect()\n    }\n\n    clientCb(cb: Function) {\n      const client = ClientAccess.client\n      if (client) cb(client)\n    }\n\n    changeVolume(volume: number = 1) {\n\n      this.clientCb((cl: any) => {\n        if (!cl.videoPlayerController.audioElement) {\n          cl.videoPlayerController.PlayAudioTrack()\n          volume = 1\n        } else {\n\n          if (volume > 0) {\n            cl.videoPlayerController.audioElement.play()\n          } else if (volume === 0) {\n            cl.videoPlayerController.audioElement.pause()\n          }\n\n          cl.videoPlayerController.audioElement.volume = volume\n        }\n      })\n\n      // this.emitCommandSystem('user_sound', { volume })\n      dispatch.updatePlayerSettings({ volume })\n    }\n\n  }\n\n  return {\n    state,\n    cls,\n    computed,\n    dispatch,\n  }\n};\n\n","/*\nUsage:\n\n// hooks\nimport {useUnload} from 'hooks/'\n\n\nconst MyComponent = () => {\n  useUnload(e => {\n    e.preventDefault();\n    e.returnValue = '';\n  });\n\n  return (\n    <div>\n      Some content\n    </div>\n  );\n};\n\n*/\n\nimport * as React from 'react';\n\nexport const useUnload = (fn: any) => {\n  const cb = React.useRef<any>(fn); // init with fn, so that type checkers won't assume that current might be undefined\n\n  React.useEffect(() => {\n    cb.current = fn;\n  }, [fn]);\n\n  const onUnload = (...args: any) => cb.current?.(...args);\n\n  React.useEffect(() => {\n\n    return () => {\n      cls.deactivate()\n    };\n\n  }, []);\n\n  const cls = new class {\n    constructor() { }\n\n    activate() {\n      window.addEventListener(\"beforeunload\", onUnload);\n    }\n    deactivate() {\n      window.removeEventListener(\"beforeunload\", onUnload)\n    }\n  }\n\n  return cls\n};\n\n","\nimport * as React from \"react\";\nimport { ClientAccess } from \"../../../client/\";\n\n\n\nexport const useUnrealSettings = (state: any, active: boolean) => {\n\n  React.useEffect(() => {\n\n    if (!active) return\n\n    // const encoderSettings = {\n    //   TargetBitrate: -1,\n    //   MaxBitrate: 20000000,\n    //   MinQP: 0, //-1\n    //   MaxQP: 51, //-1\n    //   RateControl: 'CBR', //\"CBR\" | \"VBR\" | \"ConstQP\"\n    //   FillerData: 0,\n    //   MultiPass: 'FULL', //\"DISABLED\" | \"QUARTER\" | \"FULL\";\n    // }\n\n    // const webrtcSettings = {\n    //   DegradationPref: 'MAINTAIN_FRAMERATE', //\"BALANCED\" | \"MAINTAIN_FRAMERATE\" | \"MAINTAIN_RESOLUTION\";\n    //   MinBitrate: 100000,\n    //   MaxBitrate: 20000000,\n    //   LowQP: 25,\n    //   HighQP: 37,\n    //   MaxFPS: 60,\n    //   FPS: 60,\n    // }\n\n    if (!ClientAccess.client) return\n\n    const { Encoder, WebRTC, Console } = state.ueSettings?.onStart\n\n    if (Encoder) {\n      ClientAccess.client.sendEncoderSettings(Encoder)\n    }\n\n    if (WebRTC) {\n      ClientAccess.client.sendWebRtcSettings(WebRTC)\n    }\n\n    if (Console) {\n      const emitConsole = (payload: string) => ClientAccess.emitConsole(payload)\n\n      // // Disable keys\n      // emitConsole(`PixelStreaming.KeyFilter \"Escape,Esc\"`)\n\n      // Whether to hide the UE application cursor.\n      if (typeof Console?.cursor === 'boolean') {\n        emitConsole(`PixelStreaming.HideCursor ${Console.cursor.toString()}`)\n      }\n\n      // Whether to show PixelStreaming stats on the in-game HUD.\n      if (typeof Console?.hudSats === 'boolean') {\n        emitConsole(`PixelStreaming.HudStats ${Console.hudSats.toString()}`)\n      }\n\n    }\n\n\n  }, [active])\n}\n\n\n// // Disables the synchronization of audio and video tracks in WebRTC.\n// PixelStreaming.WebRTC.DisableAudioSync true\n\n// // Disables transmission of UE audio to the browser.\n// // If audio is not required can improve latency in some cases.\n// PixelStreaming.WebRTC.DisableTransmitAudio false\n\n\n// // Disables receiving audio from the browser into UE.\n// // If audio is not required can improve latency in some cases.\n// PixelStreaming.WebRTC.DisableReceiveAudio false\n\n\n// // [INCLUDE:#HighQpTrhesholdInfo]\n// PixelStreaming.WebRTC.HighQpThreshold 37\n\n\n// // Only used when PixelStreaming.Encoder.LowQP = -1. Value between 1 and 51. If WebRTC is getting frames below this QP, it will try to make an adaptation decision.\n// PixelStreaming.WebRTC.LowQpThreshold 25\n\n\n// // Maximum bitrate(bps) that WebRTC will not request above.\n// // Be careful not to set this value too high, as a local(ideal) network will actually attempt to reach this value.\n// PixelStreaming.WebRTC.MaxBitrate 20000000\n\n// // Minimum bitrate(bps) that WebRTC will not request below.\n// // Be careful not to set this value too high, otherwise WebRTC will just drop frames.\n// PixelStreaming.WebRTC.MinBitrate 100000\n\n\n// // Start bitrate(bps) that WebRTC will try to begin the stream with.\n// // Value must be between Min and Max bitrates.\n// PixelStreaming.WebRTC.StartBitrate 10000000\n\n\n// // The maximum FPS WebRTC will try to capture/encode/transmit.\n// PixelStreaming.WebRTC.MaxFps 60\n\n\n\n// // [INCLUDE:#DegredationPreferenceInfo]\n// PixelStreaming.WebRTC.DegradationPreference \"MAINTAIN_FRAMERATE\"\n\n\n// // Specifies the log level of WebRTC.This is useful for debugging WebRTC.\n// LogCmds=PixelStreamingWebRTC < LogLevel > Where helpful log levels are: Log, Verbose, VeryVerbose\n\n\n// // Maximum number of back buffers to use. A value of 0 will not limit the number of back buffers.\n// PixelStreaming.Capturer.MaxNumBackBuffers 8\n\n// // Custom capture size to use if PixelStreaming.Capturer.UseBackBufferSize is false.\n// PixelStreaming.Capturer.CaptureSize 1920x1080\n\n\n// // Whether to use back buffer size or a custom size specified by PixelStreaming.Capturer.CaptureSize\n// PixelStreaming.Capturer.UseBackBufferSize true\n\n\n\n","import * as React from 'react';\n\nimport { ClientAccess } from '../../../client/'\n\n// hooks\nimport { useEventListener } from '../../../hooks/useEventListener';\n\n\nexport const useResolution = (ConsoleSettings: any) => {\n\n\tconst refTimer = React.useRef<any>(null)\n\n\t// Initialize state with undefined width/height so server and client renders match\n\tconst [state, setState] = React.useState<any>({\n\t\twidth: 0,\n\t\theight: 0,\n\t});\n\n\t// Handler to call on window resize\n\tconst handleResize = () => {\n\n\t\t// Set window width/height to state\n\n\t\tconst width = window.innerWidth\n\t\tconst height = window.innerHeight\n\n\t\tsetState({ width, height });\n\n\t\t// Set for css\n\t\tconst doc = document.documentElement\n\t\tdoc.style.setProperty(\"--window-width\", window.innerWidth + 'px');\n\t\tdoc.style.setProperty(\"--window-height\", window.innerHeight + 'px');\n\n\t\t// Set object-fit for player dependes on highest resolution side\n\t\tconst objectFit = width > height ? 'unset' : 'fill'\n\t\tdoc.style.setProperty(\"--player-object-fit\", objectFit);\n\n\t\t// Update resolution of pixel-streaming\n\t\tcls.updateWebrtcResolution(width, height)\n\n\t}\n\n\tuseEventListener('resize', handleResize, window)\n\n\n\tconst cls = new class {\n\n\t\t// will be called after the stream activation\n\t\tresize() {\n\t\t\thandleResize()\n\t\t}\n\n\t\t// screen resolution options\n\t\tasync updateWebrtcResolution(width: number, height: number) {\n\n\t\t\tclearTimeout(refTimer.current)\n\n\t\t\tconst emitConsole = (payload: any) => ClientAccess.emitConsole(payload)\n\t\t\tconst emitCmd = (command: string, payload: any) => ClientAccess.emitCommandSystem(command, payload)\n\n\t\t\trefTimer.current = setTimeout(() => {\n\n\t\t\t\t// https://docs.unrealengine.com/5.0/en-US/unreal-engine-pixel-streaming-reference/\n\n\t\t\t\t// if (ui) ui.sendEncoderMinQP(-1)\n\n\t\t\t\t// emitCons('PixelStreaming.Encoder.MinQP -1')\n\t\t\t\t// emitCons('PixelStreaming.WebRTC.StartBitrate 20000000')\n\t\t\t\t// emitCons('PixelStreaming.Encoder.RateControl ConstQP')\n\n\t\t\t\tconst RTCPlayer = ClientAccess.client\n\n\t\t\t\tif (!ConsoleSettings) return\n\n\n\t\t\t\t// Whether to hide the UE application cursor.\n\t\t\t\tif (typeof ConsoleSettings.cursor === 'boolean') {\n\t\t\t\t\temitConsole(`PixelStreaming.HudStats ${ConsoleSettings.cursor.toString()}`)\n\t\t\t\t}\n\n\t\t\t\t// Whether to show PixelStreaming stats on the in-game HUD.\n\t\t\t\tif (typeof ConsoleSettings.hudSats === 'boolean') {\n\t\t\t\t\temitConsole(`PixelStreaming.HudStats ${ConsoleSettings.hudSats.toString()}`)\n\t\t\t\t}\n\n\t\t\t\tswitch (ConsoleSettings.mode) {\n\n\t\t\t\t\t// Set resolution to metaplugin\n\t\t\t\t\tcase 'command':\n\t\t\t\t\t\temitCmd('resolution_change', { width, height })\n\t\t\t\t\t\tbreak\n\n\t\t\t\t\t// Set resolution by native console method\n\t\t\t\t\tcase 'console':\n\t\t\t\t\t\tif (RTCPlayer) {\n\t\t\t\t\t\t\tRTCPlayer.ueDescriptorUi.sendUpdateVideoStreamSize(width, height)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// emitConsole(`r.SetRes ${width}x${height}f`)\n\t\t\t\t\t\t// emitConsole('PixelStreaming.Capturer.UseBackBufferSize 0')\n\t\t\t\t\t\t// emitConsole(`PixelStreaming.Capturer.CaptureSize ${width}x${height}`)\n\t\t\t\t\t\tbreak\n\t\t\t\t}\n\n\t\t\t}, 500)\n\t\t}\n\t}\n\n\treturn cls\n}\n","import * as React from \"react\"\n\n// pixel-streaming\nimport { ClientAccess, Logger } from '../../../client/'\n\nexport const useStreamKiller = (dispatch: any, streamingActive: boolean, config: any) => {\n\n  const secondsToKill: number = Math.round(config.secondsToKill)\n\n  const refTimer = React.useRef<any>(null)\n  const refInterval = React.useRef<any>(null)\n  const refIntervalSec = React.useRef<any>(0)\n\n  React.useEffect(() => {\n    return () => {\n      handleStop()\n    }\n  }, [])\n\n  const handleStop = () => {\n    clearTimeout(refInterval.current)\n    clearTimeout(refTimer.current)\n    dispatch.updateConfig({ secondsToKillLeft: null })\n  }\n\n  // Initialization when streaming is active and secondsToKill > 0\n  React.useEffect(() => {\n\n    if (typeof secondsToKill !== 'number' || secondsToKill <= 0) return\n\n    if (streamingActive) {\n\n      if (typeof secondsToKill === 'number' && secondsToKill > 0) {\n        clearTimeout(refTimer.current)\n        clearInterval(refInterval.current)\n\n        refIntervalSec.current = Math.round(secondsToKill)\n\n        refInterval.current = setInterval(() => {\n          refIntervalSec.current -= 1\n          dispatch.updateConfig({ secondsToKillLeft: refIntervalSec.current })\n          // Logger.verboseLog('Seconds to kill: ' + refIntervalSec.current);\n        }, 1000)\n\n        refTimer.current = setTimeout(() => {\n          clearInterval(refInterval.current)\n          Logger.verboseLog('Connection killed');\n          ClientAccess.close()\n        }, 1000 * secondsToKill)\n      }\n\n    } else {\n\n      handleStop()\n\n    }\n\n\n  }, [config.secondsToKill, streamingActive])\n\n\n}","/**\n * Demo usage\n */\n\n// // ui\n// import { jss } from '../assets/styled';\n// const useStyles = jss({\n//   root: {\n//     position: (props: any) => props.position,\n//   },\n// })\n\n// const classes = useStyles({ position: 'absolute' })\n// \n// <div className={classes.root} />\n\nimport * as React from 'react'\n\nexport { createUseStyles as jss } from 'react-jss'\n\n\n// colors\nimport {\n  blue as primary,\n  lightGreen as success,\n} from './colors/';\n\nexport const colors = {\n  primary,\n  success,\n}\n\ninterface MediaSizes {\n  xs: number\n  sm: number\n  md: number\n  lg: number\n  xl: number\n}\n\nexport const media = new class {\n\n  /*\n  Usage in css:\n\n  root: {\n    [media.down.sm]: {\n      height: 28,\n    },\n  },\n  */\n\n  sizes: MediaSizes\n  getMin: Function\n  getMax: Function\n\n  constructor() {\n    this.getMax = (int: number) => `@media (max-width: ${int}px)`\n    this.getMin = (int: number) => `@media (min-width: ${int}px)`\n\n    this.sizes = {\n      xs: 0,\n      sm: 600,\n      md: 900,\n      lg: 1200,\n      xl: 1536,\n    }\n\n  }\n\n  // {xs: 0, sm: 600, md: 900, lg: 1200, xl: 1536}\n\n  get down() {\n    return {\n      xs: this.getMax(this.sizes.sm),\n      sm: this.getMax(this.sizes.md),\n      md: this.getMax(this.sizes.lg),\n      lg: this.getMax(this.sizes.xl),\n      // xl: this.getMax(this.sizes.xl),\n    };\n  }\n\n  get up() {\n    return {\n      xs: this.getMin(this.sizes.xs),\n      sm: this.getMin(this.sizes.sm),\n      md: this.getMin(this.sizes.md),\n      lg: this.getMin(this.sizes.lg),\n      xl: this.getMin(this.sizes.xl),\n    };\n  }\n}","import * as React from 'react'\n\n// import '../../../../styles/debugpanel.css'\n\n// context\nimport { usePlayer } from \"../../../../context/\"\n\ninterface Props {\n  isFirst?: any\n}\n\nexport const DebugPanel: React.FC<Props> = (props) => {\n  const player = usePlayer()\n\n  const isFirst = props.isFirst\n  const show = isFirst ? false : true\n\n  if (isFirst && player.state.devBar?.slug === 'pixelStreaming') {\n    return (<div />)\n  }\n\n  return (\n    <div\n      id=\"playerUI\"\n      onWheel={e => e.stopPropagation()}\n      style={{\n        display: show === true ? 'block' : 'none',\n      }}>\n\n      <div id=\"overlay\" className=\"overlay\">\n\n        <div id=\"overlayHeader\">\n          <div id=\"qualityStatus\" className=\"greyStatus\">***</div>\n          <div id=\"overlayButton\">+</div>\n        </div>\n        <div id=\"overlaySettings\" className=\"container d-none\">\n\n          <div id=\"Controls\" className=\"row\">\n\n            <section id=\"preStreamOptions\" className=\"settingsContainer\">\n\n              <div id=\"preStreamOptionsHeader\" className=\"settings-text\">\n                <div>Pre Stream Options</div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"col-sm\">\n                  <label className=\"form-check-label\" htmlFor=\"force-turn-tgl\">Force TURN</label>\n                </div>\n                <div className=\"form-check form-switch col-auto\">\n                  <input className=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"force-turn-tgl\" />\n                </div>\n              </div>\n\n              <div className=\"row\" style={{ paddingTop: 5, paddingBottom: 5 }}>\n                <div className=\"col col-auto\">\n                  <input id=\"restart-stream-button\" className=\"overlay-button btn-flat\" type=\"button\"\n                    defaultValue=\"Restart Stream\" />\n                </div>\n              </div>\n            </section>\n\n            <section id=\"viewSettings\" className=\"settingsContainer\">\n              <div id=\"viewSettingsHeader\" className=\"settings-text\">\n                <div>Viewing</div>\n              </div>\n              <div id=\"viewSettingsContainer\" className=\"d-none\">\n\n                <div className=\"row\">\n                  <div className=\"col-sm\">\n                    <label className=\"form-check-label\" htmlFor=\"enlarge-display-to-fill-window-tgl\">Enlarge\n                      display to fill window</label>\n                  </div>\n                  <div className=\"form-check form-switch col-auto\">\n                    <input className=\"form-check-input\" type=\"checkbox\" role=\"switch\"\n                      id=\"enlarge-display-to-fill-window-tgl\" defaultChecked />\n                  </div>\n                </div>\n\n                <div className=\"row\">\n                  <div className=\"col-sm\">\n                    <label className=\"form-check-label\" htmlFor=\"quality-control-ownership-tgl\">Is Quality\n                      Controller</label>\n                  </div>\n                  <div className=\"form-check form-switch col-auto\">\n                    <input className=\"form-check-input\" type=\"checkbox\" role=\"switch\"\n                      id=\"quality-control-ownership-tgl\" />\n                  </div>\n                </div>\n\n                <div className=\"row\">\n                  <div className=\"col-sm\">\n                    <label className=\"form-check-label\" htmlFor=\"match-viewport-res-tgl\">Match viewport\n                      resolution</label>\n                  </div>\n                  <div className=\"form-check form-switch col-auto\">\n                    <input className=\"form-check-input\" type=\"checkbox\" role=\"switch\"\n                      id=\"match-viewport-res-tgl\" />\n                  </div>\n                </div>\n\n                <div className=\"row\">\n                  <div className=\"col-sm\">\n                    <label className=\"form-check-label\" htmlFor=\"control-scheme-tgl\"\n                      id=\"control-scheme-title\">Match viewport resolution</label>\n                  </div>\n                  <div className=\"form-check form-switch col-auto\">\n                    <input className=\"form-check-input\" type=\"checkbox\" role=\"switch\"\n                      id=\"control-scheme-tgl\" />\n                  </div>\n                </div>\n              </div>\n            </section>\n\n            <section id=\"commands\" className=\"settingsContainer\">\n              <div id=\"commandsHeader\" className=\"settings-text\">\n                <div>Commands</div>\n              </div>\n              <div id=\"commandsContainer\" className=\"d-none\">\n                <div className=\"row\" style={{ paddingTop: 5, paddingBottom: 5 }}>\n                  <div className=\"row\" style={{ paddingTop: 5, paddingBottom: 5 }}>\n                    <div className=\"col col-auto\">\n                      <input id=\"show-fps-button\" className=\"overlay-button btn-flat\" type=\"button\"\n                        defaultValue=\"Show FPS\" />\n                    </div>\n                  </div>\n                  <div className=\"col col-auto\">\n                    <label htmlFor=\"ui-descriptor-text\" className=\"settings-text\">UI Descriptor</label>\n                  </div>\n                  <div className=\"col col-auto\">\n                    <input type=\"text\" className=\"form-control form-control-sm\" id=\"ui-descriptor-text\" />\n                  </div>\n\n                  <div className=\"col col-auto\">\n                    <input type=\"button\" id=\"sendUiDescriptor\" className=\"overlay-button btn-flat\"\n                      defaultValue=\"Send\" />\n                  </div>\n                </div>\n              </div>\n            </section>\n\n            <section id=\"streamingSettings\" className=\"settingsContainer\">\n              <div id=\"streamingSettingsHeader\" className=\"settings-text\">\n                <div>Settings</div>\n              </div>\n              <div id=\"streamingSettingsContainer\" className=\"d-none\">\n                <div className=\"form-group row\">\n                  <div className=\"col-sm\">\n                    <div>Encoder Settings</div>\n                    <div id=\"encoderSettings\" className=\"col\">\n                      <div className=\"form-group row\">\n                        <label htmlFor=\"encoder-min-qp-text\">Min QP</label>\n                        <input type=\"number\" className=\"form-control form-control-sm\"\n                          id=\"encoder-min-qp-text\" defaultValue=\"0\" min=\"0\" max=\"51\" />\n                      </div>\n\n                      <div className=\"form-group row\">\n                        <label htmlFor=\"encoder-max-qp-text\">Max QP</label>\n                        <input type=\"number\" className=\"form-control form-control-sm\"\n                          id=\"encoder-max-qp-text\" defaultValue=\"51\" min=\"0\" max=\"51\" />\n                      </div>\n\n                    </div>\n                  </div>\n\n                  <div className=\"col-sm\">\n                    <div>WebRTC Settings</div>\n                    <div id=\"webrtcSettings\">\n                      <div className=\"form-group row\">\n                        <label htmlFor=\"webrtc-fps-text\">FPS</label>\n                        <input type=\"number\" className=\"form-control form-control-sm\"\n                          id=\"webrtc-fps-text\" defaultValue=\"0\" min=\"1\" max=\"999\" />\n                      </div>\n                      <div className=\"form-group row\">\n                        <label htmlFor=\"webrtc-min-bitrate-text\">Min bitrate (bps)</label>\n                        <input type=\"number\" className=\"form-control form-control-sm\"\n                          id=\"webrtc-min-bitrate-text\" defaultValue=\"0\" min=\"0\" max=\"100000\" />\n                      </div>\n                      <div className=\"form-group row\">\n                        <label htmlFor=\"webrtc-max-bitrate-text\">Max bitrate (bps)</label>\n                        <input type=\"number\" className=\"form-control form-control-sm\"\n                          id=\"webrtc-max-bitrate-text\" defaultValue=\"0\" min=\"0\" max=\"100000\" />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"form-group row\">\n                  <input id=\"btn-streaming-settings\" className=\"overlay-button btn-flat\" type=\"button\"\n                    defaultValue=\"Apply\" />\n                </div>\n              </div>\n            </section>\n\n            <section id=\"statistics\" className=\"settingsContainer\">\n              <div id=\"statisticsHeader\" className=\"settings-text\">\n                <div>Statistics</div>\n              </div>\n              <div id=\"statisticsContainer\" className=\"d-none\">\n\n                <div className=\"row\">\n                  <div className=\"col-sm\">\n                    <label className=\"form-check-label\" htmlFor=\"send-stats-tgl\" id=\"control-scheme-title\">Send\n                      to server</label>\n                  </div>\n                  <div className=\"form-check form-switch col-auto\">\n                    <input className=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"send-stats-tgl\" />\n                  </div>\n                </div>\n                <div id=\"statisticsResult\" className=\"StatsResult\"></div>\n              </div>\n            </section>\n\n            <section id=\"latencyTest\" className=\"settingsContainer\">\n              <div id=\"latencyTestHeader\" className=\"settings-text\">\n                <div>Latency Test</div>\n                <input id=\"btn-start-latency-test\" className=\"overlay-button btn-flat\" type=\"button\"\n                  defaultValue=\"Run Test\" />\n              </div>\n              <div id=\"latencyTestContainer\" className=\"d-none\">\n                <div id=\"latencyStatsResults\" className=\"StatsResult\"></div>\n              </div>\n            </section>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}","import * as React from 'react'\n\n// ui\nimport { jss, media } from '../assets/styled';\nimport Drawer from 'rsuite/Drawer';\n\n\nconst useStyles = jss({\n  header: {\n    [media.down.xs]: {\n      marginTop: 40,\n    },\n  },\n  container: {\n    overflow: 'auto',\n    pointerEvents: 'all',\n    maxHeight: 'calc(100vh - 77px)',\n  },\n})\n\ninterface Props {\n  children?: React.ReactNode\n  title?: string | React.ReactNode\n  onClose?: Function\n  withBody?: boolean\n  ActionsComponent?: React.ReactNode\n}\n\nexport const CustomDrawer: React.FC<any> = React.forwardRef((props: Props, ref: any) => {\n  const classes = useStyles()\n\n  const [open, setOpen] = React.useState<any>(false);\n  const [config, setConfig] = React.useState<any>({\n    body: props.withBody,\n    title: props.title,\n    Component: null,\n  });\n\n  /**\n   * The component instance will be extended\n   * with whatever you return from the callback passed\n   * as the second argument\n   */\n  React.useImperativeHandle(ref, () => ({\n\n    open: (title: string, body: boolean, Component: any = null) => {\n      setConfig((c: any) => ({\n        ...c,\n        title: title || c.title,\n        body: body || c.body,\n        Component: Component || null,\n      }))\n      setOpen(true)\n    },\n    close: () => {\n      handleClose()\n    },\n    isOpen: open,\n\n  }));\n\n  const handleClose = () => {\n    setOpen(false)\n\n    if (typeof props.onClose === 'function') {\n      props.onClose()\n    }\n  }\n\n  const renderChildren = () => {\n    const Children = config.Component || props.children\n\n    if (config.body) {\n      return (\n        <div style={{ padding: 20 }}>\n          {Children}\n        </div>\n      )\n    }\n\n    return (\n      Children\n    )\n  }\n\n  return (\n    <Drawer\n      size='xs'\n      placement='right'\n      backdrop={false}\n      open={open}\n      onClose={handleClose}>\n      <Drawer.Header className={classes.header}>\n        {typeof config.title === 'string' ? (\n          <Drawer.Title>\n            {config.title}\n          </Drawer.Title>\n        ) : (config.title)}\n\n        {props.ActionsComponent ? (\n          <Drawer.Actions style={{\n            marginRight: -20,\n          }}>\n            {props.ActionsComponent}\n          </Drawer.Actions>\n        ) : ''}\n      </Drawer.Header>\n      <div\n        onWheel={(e: any) => {\n          e.stopPropagation()\n        }}\n        className={classes.container}>\n        {renderChildren()}\n      </div>\n    </Drawer>\n  );\n})","import * as React from 'react'\n\n// libs\nimport ReactJson from 'react-json-view'\n\n\n\ninterface Props {\n  data: JSON | boolean\n}\n\nexport const JsonViewer: React.FC<Props> = (props: any) => {\n  return (\n    <ReactJson\n      style={{\n        backgroundColor: 'transparent'\n      }}\n      theme='monokai'\n      quotesOnKeys={false}\n      groupArraysAfterLength={2}\n      collapseStringsAfterLength={10}\n      displayDataTypes={false}\n      displayObjectSize={false}\n      enableClipboard={false}\n      src={props.data} />\n  )\n}\nexport default JsonViewer","import * as React from 'react'\n\n// context\nimport { usePlayer } from '../../../context/';\n\n// components\nimport JsonViewer from '../../../components/JsonViewer'\n\n\ninterface Props {\n  // children: any\n}\n\nexport const Panel: React.FC<Props> = () => {\n  const player = usePlayer()\n\n  const renderState = () => {\n    const res = player.state\n    delete res.callbacks_list\n    delete res.commands_list\n    // delete res.sessionData\n    return res\n  }\n  return (\n    <div>\n      <JsonViewer data={renderState()} />\n    </div>\n  )\n}","import * as React from 'react'\n\n// context\nimport { useSystem } from '../../../context/';\n\n// components\nimport JsonViewer from '../../../components/JsonViewer'\n\n\ninterface Props {\n  // children: any\n}\n\nexport const Panel: React.FC<Props> = () => {\n  const system = useSystem()\n\n  return (\n    <div>\n      <JsonViewer data={system.state} />\n    </div>\n  )\n}","import * as React from 'react';\n\n// context\nimport { usePlayer, useSystem } from '../../../context/';\n\n// ui\nimport { jss } from '../../../assets/styled';\nimport IconButton from 'rsuite/IconButton';\n\n// icons\nimport CopyIcon from '@rsuite/icons/Copy';\n\n\n\nconst useStyles = jss({\n  groupList: {\n    listStyle: 'none',\n    margin: 0,\n    padding: 0,\n    marginBottom: 10,\n    paddingBottom: 10,\n    borderBottom: `solid 1px rgba(255,255,255,.1)`,\n    '& > li': {\n      '&:nth-child(1)': {\n        opacity: .7,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        maxWidth: 200,\n        marginBottom: 10,\n      },\n      '&:nth-child(2)': {\n        display: 'flex',\n        flexWrap: 'wrap',\n        gap: 5,\n      }\n    }\n  },\n})\n\ninterface Props {\n  list: any,\n}\n\nexport const CommandsList: React.FC<Props> = (props) => {\n  const classes = useStyles()\n  const player = usePlayer()\n  const system = useSystem()\n\n  const [performers, setPerformers] = React.useState<any>({})\n\n  React.useEffect(() => {\n    system.cls.loadData()\n  }, [])\n\n  const handlePerformer = (id: any, status: string) => {\n    setPerformers((c: any) => ({ ...c, [id]: status }))\n  }\n\n  const handlerCommand = async (item: any) => {\n    handlePerformer(item.id, 'loading')\n    await player.cls.emitAsyncCommand(item.slug, item.value).then((res: any) => {\n      if (res) {\n        handlePerformer(item.id, 'success')\n      } else {\n        handlePerformer(item.id, 'error')\n      }\n    })\n  }\n\n  const renderCommandsList = () => {\n\n    let groups: any = {}\n    props.list.map((item: any) => {\n      if (typeof groups[item.slug] === 'undefined') {\n        groups[item.slug] = {\n          name: item.slug,\n          group: item.group?.name,\n          items: [],\n        }\n      }\n      groups[item.slug].items.push(item)\n    })\n    const group_list = Object.values(groups)\n\n    return (\n      <div>\n        {group_list.map((group: any, index: number) => {\n          return (\n            <ul key={index} className={classes.groupList}>\n              <li>\n                {group.name} ({group.group})\n              </li>\n              <li>\n                {group.items.map((item: any, i: number) => {\n                  let status: string | boolean = false\n                  if (performers.hasOwnProperty(item.id)) {\n                    status = performers[item.id]\n                  }\n                  const isLoading = status === 'loading'\n                  // const isError = status === 'error'\n                  // const isSuccess = status === 'success'\n\n                  const getName = () => {\n                    if (typeof item?.name === 'undefined') return ''\n                    if (item.name.length > 20) {\n                      return item.name.substr(0, 17) + '...'\n                    }\n                    return item.name\n                  }\n                  return (\n                    <div key={`${index}-${i}`}>\n                      <IconButton\n                        onClick={() => handlerCommand(item)}\n                        loading={isLoading}\n                        icon={(\n                          <CopyIcon\n                            style={{\n                              zIndex: 10,\n                            }}\n                            onClick={(event) => {\n                              event.preventDefault()\n                              event.stopPropagation()\n\n                              navigator.clipboard.writeText(item.command_uuid).then(function () {\n                                alert(`Uuid copied:\\n${item.command_uuid}`)\n                              }, function (err) {\n                                console.error('Async: Could not copy text: ', err);\n                              });\n\n                            }} />\n                        )}\n                        placement=\"left\">\n                        {getName()}\n                      </IconButton>\n                    </div>\n                  )\n                })}\n              </li>\n            </ul>\n          )\n        })}\n      </div>\n    )\n  }\n\n\n  return (\n    <div>\n      {renderCommandsList()}\n    </div>\n  )\n}","import * as React from 'react'\n\n// context\nimport { useSystem } from '../../../context/';\n\n// snippets\nimport { CommandsList } from '../snippets/CommandsList'\n\n\ninterface Props {\n  // children: any\n}\n\nexport const Panel: React.FC<Props> = () => {\n  const system = useSystem()\n\n  return (\n    <div>\n\n      <CommandsList list={system.cls.commands_project} />\n\n    </div>\n  )\n}","import * as React from 'react';\n\n// context\nimport { usePlayer, useSystem } from '../../../context/';\n\n// ui\nimport Button from 'rsuite/Button';\n\n// snippets\nimport { CommandsList } from '../snippets/CommandsList'\n\n\ninterface Props {\n  // children: any\n}\n\nexport const Panel: React.FC<Props> = () => {\n  const player = usePlayer()\n  const system = useSystem()\n\n  return (\n    <div>\n\n      <Button block style={{ marginBottom: 20 }} onClick={() => player.cls.switchStart()}>\n        Start / stop\n      </Button>\n\n      <CommandsList list={system.cls.commands_system} />\n\n    </div>\n  )\n}","import * as React from 'react'\n\n// context\nimport { usePlayer } from '../../../context/';\n\n// ui\nimport Button from 'rsuite/Button';\n\n// components\nimport JsonViewer from '../../../components/JsonViewer'\n\n\ninterface Props {\n  // children: any\n}\n\nexport const Panel: React.FC<Props> = () => {\n  const player = usePlayer()\n\n  return (\n    <div>\n      <Button style={{ marginBottom: 10 }} block onClick={() => player.cls.methods.commands.clear()}>\n        Clear\n      </Button>\n\n      <JsonViewer data={player.state?.commands_list} />\n    </div>\n  )\n}","import * as React from 'react'\n\n// context\nimport { usePlayer } from '../../../context/';\n\n// ui\nimport Button from 'rsuite/Button';\n\n// components\nimport JsonViewer from '../../../components/JsonViewer'\n\n\ninterface Props {\n  // children: any\n}\n\nexport const Panel: React.FC<Props> = () => {\n\n  const player = usePlayer()\n\n  return (\n    <div>\n      <Button style={{ marginBottom: 10 }} block onClick={() => player.cls.methods.callbacks.clear()}>\n        Clear\n      </Button>\n\n      <JsonViewer data={player.state?.callbacks_list} />\n    </div>\n  )\n}","import * as React from 'react'\n\n// context\nimport { useSystem } from '../../../../context/'\n\n// ui\nimport ButtonToolbar from 'rsuite/ButtonToolbar';\nimport SelectPicker from 'rsuite/SelectPicker';\nimport Button from 'rsuite/Button';\nimport Notification from 'rsuite/Notification';\nimport toaster from 'rsuite/toaster';\n\n\ninterface Props {\n  // children: any\n}\n\nexport const NotificationsSettings: React.FC<Props> = () => {\n\n  const system = useSystem()\n\n  const [data, setData] = React.useState<any>({\n    type: 'info',\n    header: 'Some title',\n  });\n\n  const message = (\n    <Notification type={data.type} header={data.header} closable>\n      {/* <Placeholder.Paragraph rows={3} /> */}\n      {/* <JsonViewer data={{ ok: true }} /> */}\n    </Notification>\n  );\n\n\n  return (\n    <div>\n\n      {message}\n\n      <ButtonToolbar>\n        <SelectPicker\n          value={data.type}\n          data={[\n            { label: 'Test command', value: 'info' },\n            { label: 'Test callback', value: 'success' },\n            // { label: 'warning', value: 'warning' },\n            // { label: 'error', value: 'error' }\n          ]}\n          onChange={(type, event: any) => {\n            setData({\n              type,\n              header: event.target.innerText,\n            })\n          }}\n        />\n        <SelectPicker\n          defaultValue={system.notifications.placementValue}\n          data={system.notifications.placementsList}\n          onChange={(v) => {\n            system.notifications.updatePlacement(v)\n          }}\n        />\n        <Button onClick={() => toaster.push(message, { placement: system.notifications.placementValue })}>Push</Button>\n      </ButtonToolbar>\n\n      <ButtonToolbar>\n        <Button onClick={() => toaster.remove('')}>Remove</Button>\n        <Button onClick={() => toaster.clear()}>Clear</Button>\n      </ButtonToolbar>\n\n    </div>\n  )\n}","import * as React from 'react'\n\n// context\nimport { useSystem } from '../../../../context/'\n\n// ui\nimport Form from 'rsuite/Form';\nimport Toggle from 'rsuite/Toggle';\n\n// blocks\nimport { NotificationsSettings } from './NotificationsSettings'\n\n\ninterface Props {\n  // children: any\n}\n\nexport const Panel: React.FC<Props> = () => {\n  const system = useSystem()\n\n  return (\n    <div>\n\n      <Form.Group>\n        <Form.ControlLabel>System Notifications</Form.ControlLabel>\n        {/* <Form.Control /> */}\n        <div style={{ display: 'flex', gap: 5, paddingTop: 10 }}>\n\n          <Toggle\n            checked={system.notifications.showCommands}\n            onChange={v => system.notifications.updateCommands(v)}\n            size=\"lg\"\n            checkedChildren=\"Commands: on\"\n            unCheckedChildren=\"Commands: off\" />\n\n          <Toggle\n            checked={system.notifications.showCallbacks}\n            onChange={v => system.notifications.updateCallbacks(v)}\n            size=\"lg\"\n            checkedChildren=\"Callbacks: on\"\n            unCheckedChildren=\"Callbacks: off\" />\n\n        </div>\n\n        {/* <Form.HelpText>Username is required</Form.HelpText> */}\n      </Form.Group>\n\n      <div style={{ paddingTop: 20 }}>\n        <NotificationsSettings />\n      </div>\n\n    </div>\n  )\n}","import * as React from 'react'\n\n// blocks\nimport { DebugPanel } from './DebugPanel'\n\n\ninterface Props {\n  // children: any\n}\n\nexport const Panel: React.FC<Props> = () => {\n\n  return (\n    <div>\n      <DebugPanel />\n    </div>\n  )\n}","import * as React from 'react'\n\n// context\nimport { useSystem } from '../../../context/';\n\n// ui\nimport Sidenav from 'rsuite/Sidenav';\nimport Nav from 'rsuite/Nav';\n// import Dropdown from 'rsuite/Dropdown';\n\n// icons\nimport ListIcon from '@rsuite/icons/List';\nimport HistoryIcon from '@rsuite/icons/History';\nimport SettingIcon from '@rsuite/icons/Setting';\nimport PlayOutlineIcon from '@rsuite/icons/PlayOutline';\nimport ProjectIcon from '@rsuite/icons/Project';\n\n// components\nimport { CustomDrawer } from '../../../components/Drawer'\n\n// panels\nimport { Panel as PanelPlayerData } from './PanelPlayerData'\nimport { Panel as PanelMetaData } from './PanelMetaData'\nimport { Panel as PanelMenuProject } from './PanelMenuProject'\nimport { Panel as PanelMenuSystem } from './PanelMenuSystem'\nimport { Panel as PanelHistoryCommands } from './PanelHistoryCommands'\nimport { Panel as PanelHistoryCallbacks } from './PanelHistoryCallbacks'\nimport { Panel as PanelSettings } from './PanelSettings'\nimport { Panel as PanelPixelStreaming } from './PanelPixelStreaming'\n\ninterface Props {\n  onClose: Function,\n}\n\nexport const DevMenu: React.FC<Props> = (props) => {\n  const refDrawer = React.useRef<any>(null)\n  const system = useSystem()\n\n  const menuList = [\n    ['Player Data', 'playerData', <ListIcon />, <PanelPlayerData />],\n    ['Meta Data', 'metaData', <ListIcon />, <PanelMetaData />],\n    ['Menu: system', 'menuSystem', <ProjectIcon />, <PanelMenuSystem />],\n    ['Menu: project', 'menuProject', <ProjectIcon />, <PanelMenuProject />],\n    ['History: commands', 'historyCommands', <HistoryIcon />, <PanelHistoryCommands />],\n    ['History: callbacks', 'historyCallbacks', <HistoryIcon />, <PanelHistoryCallbacks />],\n    ['Settings', 'settings', <SettingIcon />, <PanelSettings />],\n    ['Pixel Streaming', 'pixelStreaming', <PlayOutlineIcon />, <PanelPixelStreaming />],\n  ].map(([label, slug, Icon, Component]) => ({ label, slug, Icon, Component }))\n\n  const openPanel = (item: any) => {\n    system.dispatch.updateDevBar({ slug: item.slug })\n    refDrawer.current.open(item.label, true, item.Component)\n  }\n\n\n  return (\n    <div>\n      <CustomDrawer\n        onClose={() => props.onClose()}\n        ref={refDrawer} />\n\n      <Sidenav defaultOpenKeys={['3', '4']}>\n        <Sidenav.Body>\n          <Nav>\n            {menuList.map((item, index) => {\n              return (\n                <Nav.Item\n                  key={index}\n                  icon={<>{item.Icon}</>}\n                  eventKey={index.toString()}\n                  children={item.label}\n                  onClick={() => {\n                    openPanel(item)\n                  }} />\n              )\n            })}\n\n            {/* <Dropdown eventKey=\"3\" title=\"Advanced\" icon={<Magic />}>\n              <Dropdown.Item eventKey=\"3-1\">Geo</Dropdown.Item>\n              <Dropdown.Item eventKey=\"3-2\">Devices</Dropdown.Item>\n              <Dropdown.Item eventKey=\"3-3\">Loyalty</Dropdown.Item>\n              <Dropdown.Item eventKey=\"3-4\">Visit Depth</Dropdown.Item>\n            </Dropdown> */}\n            {/* <Dropdown eventKey=\"4\" title=\"Settings\" icon={undefined}>\n              <Dropdown.Item eventKey=\"4-1\">Applications</Dropdown.Item>\n              <Dropdown.Item eventKey=\"4-2\">Channels</Dropdown.Item>\n              <Dropdown.Item eventKey=\"4-3\">Versions</Dropdown.Item>\n            </Dropdown> */}\n          </Nav>\n        </Sidenav.Body>\n      </Sidenav>\n\n      <></>\n    </div>\n  )\n}","import * as React from 'react'\n\n// ui\nimport Modal from 'rsuite/Modal';\nimport Button from 'rsuite/Button';\n\n\ninterface Props {\n  children: React.ReactNode\n  onClose?: Function\n  onSuccess?: Function\n  title: string\n  FooterComponent?: React.ReactNode | false\n}\n\nexport const CustomModal: React.FC<any> = React.forwardRef((props: Props, ref: any) => {\n\n  const [open, setOpen] = React.useState<any>(false);\n\n  /**\n   * The component instance will be extended\n   * with whatever you return from the callback passed\n   * as the second argument\n   */\n  React.useImperativeHandle(ref, () => ({\n\n    open: () => {\n      setOpen(true)\n    },\n    close: () => {\n      handleClose()\n    },\n    isOpen: open,\n\n  }));\n\n  const handleClose = () => {\n    setOpen(false)\n\n    if (typeof props.onClose === 'function') {\n      props.onClose()\n    }\n  }\n\n  const handleSuccess = () => {\n    if (typeof props.onSuccess === 'function') {\n      props.onSuccess()\n    }\n\n    handleClose()\n  }\n\n  const showFooter = props.FooterComponent !== false\n\n  return (\n    <Modal open={open} onClose={handleClose}>\n      <Modal.Header>\n        <Modal.Title>\n          {props.title}\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        {props.children}\n      </Modal.Body>\n\n      {showFooter && (\n        <Modal.Footer>\n          {props.FooterComponent || (\n            <>\n              <Button onClick={handleSuccess} appearance=\"primary\">\n                Ok\n              </Button>\n              <Button onClick={handleClose} appearance=\"subtle\">\n                Cancel\n              </Button>\n            </>\n          )}\n\n        </Modal.Footer>\n      )}\n\n    </Modal>\n  );\n})","\n\nimport * as React from 'react'\n\n// config\nimport { config } from '../../../assets/config'\n\n// hooks\nimport { useStorageBook } from '../../../hooks/useStorageBook';\n\n// context\nimport { useSystem } from '../../../context/';\n\n// ui\nimport Button from 'rsuite/Button'\nimport Input from 'rsuite/Input';\nimport Message from 'rsuite/Message';\n\n// components\nimport { CustomModal } from '../../../components/Modal'\n\n\nexport const Actions: React.FC = () => {\n  const system = useSystem()\n  const storageBook = useStorageBook()\n  const refModal = React.useRef<any>(null)\n\n  const [value, setValue] = React.useState<string>('')\n  const [error_, setError] = React.useState<boolean | string>(false)\n  const [disabled, setDisabled] = React.useState<boolean>(false)\n\n  const error = system.cls?.apiData?.error\n\n  React.useEffect(() => {\n\n    storageBook.apiKey.read((v: any) => {\n      if (v) setValue(v)\n    })\n\n  }, [])\n\n  const handleOpen = () => {\n    refModal.current.open()\n  }\n\n  const handleSubmit = async (event: any) => {\n    if (event) {\n      event.stopPropagation()\n      event.preventDefault()\n    }\n\n    setDisabled(true)\n    setError(false)\n    const isDataLoaded = await system.cls.loadData(value)\n\n    if (isDataLoaded) {\n      system.cls.setApiKey(value)\n      refModal.current.close()\n    } else {\n      setError('Wrong Api Key')\n    }\n\n    setDisabled(false)\n\n  }\n\n  return (\n    <div>\n      <CustomModal\n        title=\"Api Connector\"\n        onSuccess={undefined}\n        onClose={undefined}\n        FooterComponent={(\n          <>\n            <Button onClick={() => {\n              window.open(config.portal.urlProjects)\n            }}>\n              My Projects\n            </Button>\n            <Button disabled={disabled} onClick={handleSubmit} appearance=\"primary\">\n              Connect\n            </Button>\n          </>\n        )}\n        ref={refModal}>\n        <div>\n          <Message showIcon type=\"warning\" style={{ marginBottom: 20 }}>\n            Copy your Api Key from <a href={config.portal.urlProjects} target=\"_blank\">{config.portal.name}</a>\n          </Message>\n\n          <form onSubmit={handleSubmit}>\n            <Input\n              disabled={disabled}\n              value={value}\n              onChange={setValue}\n              size='lg'\n              required\n              placeholder=\"Enter Api Key\" />\n\n            {error && (\n              <div style={{ color: 'red', marginTop: 10 }}>\n                {error}\n              </div>\n            )}\n          </form>\n\n        </div>\n      </CustomModal>\n\n      {system.cls.apiKeyIsCorrect ? (\n        <Button\n          color='green'\n          appearance='ghost'\n          onClick={handleOpen}>\n          Reconnect Project\n        </Button>\n      ) : (\n        <Button\n          color='red'\n          appearance='primary'\n          onClick={handleOpen}>\n          Connect Project\n        </Button>\n      )}\n\n    </div>\n  )\n}","\nimport * as React from 'react'\n\n// config\nimport { config } from '../../assets/config';\n\n// ui\nimport Button from 'rsuite/Button';\n\n// context\nimport { useSystem } from '../../context/';\n\n\nexport const UpdateMessage: React.FC = () => {\n  const system = useSystem()\n\n  const data = system.cls.apiData.module\n\n  if (!data?.update) {\n    return <div />\n  }\n\n  return (\n    <div style={{ padding: '1rem' }}>\n      <Button color=\"red\" appearance=\"primary\" block href={config.updateUrl} target=\"_blank\">\n        Update MetaEditor to v{data?.release}\n      </Button>\n    </div>\n  )\n}","import * as React from 'react'\n\n// config\nimport { config } from '../../assets/config';\n\n// context\nimport { useSystem } from '../../context/';\n\n// hooks\nimport { useHotkeys } from '../../hooks/useHotkeys'\n\n// ui\nimport { jss, media } from '../../assets/styled';\nimport IconButton from 'rsuite/IconButton';\nimport GearIcon from '@rsuite/icons/Gear';\n\n// components\nimport { CustomDrawer } from '../../components/Drawer'\n\n// blocks\nimport { DevMenu } from './DevMenu'\nimport { Actions } from './Actions/'\nimport { UpdateMessage } from './UpdateMessage'\n\n\nconst useStyles = jss({\n  titleList: {\n    margin: 0,\n    display: 'flex',\n    alignItems: 'center',\n    '& > li:nth-child(2) > span': {\n      marginLeft: 10,\n      padding: '3px 5px',\n      borderRadius: 4,\n      fontSize: 11,\n      backgroundColor: 'rgba(255,255,255,.3)',\n    }\n  }\n})\n\ninterface Props {\n  // children: any\n}\n\nexport const DevBar: React.FC<Props> = () => {\n  const classes = useStyles()\n  const system = useSystem()\n  const refDrawer = React.useRef<any>(null)\n\n  const setDrawerSlug = () => {\n    system.dispatch.updateDevBar({ slug: 'drawer' })\n  }\n\n  const openDrawer = () => {\n    setDrawerSlug()\n    if (refDrawer.current.isOpen) {\n      refDrawer.current.close()\n    } else {\n      refDrawer.current.open()\n    }\n  }\n\n  useHotkeys('ctrl+z', (e) => {\n    if (!e.repeat) {\n      openDrawer()\n      return;\n    }\n  }, [])\n\n\n  return (\n    <div>\n\n      <IconButton\n        onClick={() => openDrawer()}\n        icon={<GearIcon />} circle size=\"lg\" />\n\n      <CustomDrawer\n        onClose={() => {\n          system.dispatch.updateDevBar({ slug: null })\n        }}\n        ref={refDrawer}\n        withBody={false}\n        title={(\n          <ul className={classes.titleList}>\n            <li>\n              <h6>\n                MetaEditor\n              </h6>\n            </li>\n            <li>\n              <span>v{config.version}</span>\n            </li>\n          </ul>\n        )}\n        ActionsComponent={<Actions />}>\n        <div>\n          <UpdateMessage />\n          <DevMenu onClose={() => {\n            setDrawerSlug()\n          }} />\n        </div>\n      </CustomDrawer>\n\n    </div>\n  );\n};\n","import * as React from 'react'\n\n// context\nimport { usePlayer, useSystem } from '../context/';\n\n// ui\nimport { jss } from '../assets/styled';\nimport Progress from 'rsuite/Progress';\nimport IconButton from 'rsuite/IconButton';\nimport PlayOutlineIcon from '@rsuite/icons/PlayOutline';\nimport GearIcon from '@rsuite/icons/Gear';\n\n\nconst useStyles = jss({\n  root: {\n    transition: 'opacity 700ms linear',\n    backgroundColor: '#000',\n    position: 'fixed',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    zIndex: 1050 - 100, //modal\n    '& > video': {\n      width: '100%',\n      height: '100%',\n      objectFit: 'cover',\n      opacity: .4,\n      position: 'absolute',\n      overflow: 'hidden',\n      alignItems: 'center',\n      justifyContent: 'center',\n      pointerEvents: 'none',\n      zIndex: -1,\n    }\n  },\n  box: {\n    fontSize: 12,\n    opacity: .7,\n    display: 'inline-block',\n    cursor: 'default'\n  },\n  reportLink: {\n    display: 'inline-block',\n    marginTop: 10,\n    borderBottom: `solid 1px rgba(255,255,255,.3)`,\n    cursor: 'pointer'\n  }\n})\n\n\ninterface Props {\n  // children: any\n}\n\nexport const PlayerOverlay: React.FC<Props> = () => {\n  const classes = useStyles()\n  const player = usePlayer()\n  const system = useSystem()\n  const refRoot = React.useRef<any>(null)\n\n  const { percent, time } = player.cls.info.loading\n\n  const videoUrl = system.config.videoUrl\n  const { status, _isPending, _inProgress, _allowPlay, _allowOverlay, _playError } = player.computed.streaming\n\n  React.useEffect(() => {\n    refRoot.current.style.opacity = _allowOverlay ? 1 : 0;\n    refRoot.current.style.pointerEvents = _allowOverlay ? 'all' : 'none'\n  }, [_allowOverlay])\n\n  const renderButton = (onClick: Function, Icon: Function, spin: boolean) => {\n    return (\n      <IconButton\n        onClick={(event: any) => {\n          event.preventDefault()\n          event.stopPropagation()\n          onClick()\n        }}\n        circle\n        icon={(\n          <Icon\n            spin={spin}\n            style={{ fontSize: '5em' }} />\n        )} />\n    )\n  }\n\n  const renderContent = () => {\n\n    // const { active, empty, activation, initialized, initializing } = player.computed.streaming\n\n    const eProps = {\n      style: { width: 120, cursor: 'default' },\n      percent,\n      showInfo: true,\n    }\n\n\n    if (_playError) {\n      return (<Progress.Circle {...eProps} status='fail' />)\n\n    } else if (_inProgress && percent > 0) {\n\n      //  else if (_allowPlay || initialized || active || percent >= 100) {\n      //   return (<Progress.Circle {...eProps} status='success' />)\n      // }\n\n      return (<Progress.Circle {...eProps} status='active' />)\n\n    } else if (_allowPlay) {\n      return renderButton(() => player.cls.streamingConnect(), PlayOutlineIcon, false)\n    }\n\n    return renderButton(() => { }, GearIcon, true)\n  }\n\n  const renderStatus = () => {\n\n\n    return (\n      <div style={{\n        textAlign: 'center'\n      }}>\n\n        <div style={{\n          margin: 20\n        }}>\n          {renderContent()}\n        </div>\n\n        <div className={classes.box}>\n          <div style={{\n            textTransform: 'uppercase',\n            letterSpacing: 2,\n          }}>\n            {status} {_isPending && percent > 0 ? time : ''}\n          </div>\n\n          {system.config.issuesUrl ? (\n            <div\n              onClick={() => window.open(system.config.issuesUrl)}\n              className={classes.reportLink}>\n              Report a problem\n            </div>\n          ) : ''}\n\n\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div\n      ref={refRoot}\n      className={classes.root}>\n\n      {videoUrl ? (\n        <video loop autoPlay muted>\n          <source src={videoUrl} type=\"video/mp4\" />\n        </video>\n      ) : ''}\n\n      {renderStatus()}\n\n    </div>\n  )\n}","import * as React from 'react'\n\n// ui\nimport { jss } from '../assets/styled'\nimport IconButton from 'rsuite/IconButton';\nimport { TypeAttributes } from 'rsuite/esm/@types/common';\n\n// icons\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  faVolumeHigh,\n  faVolumeOff,\n  faExpand,\n  faQrcode,\n  faCompress,\n  faPlay,\n  faPause,\n  faStar,\n  faSquareCaretLeft,\n  faSquareCaretRight,\n  faSquareCaretUp,\n  faSquareCaretDown,\n  faQuestion,\n} from '@fortawesome/free-solid-svg-icons'\n\n\n\nconst useStyles = jss({\n  root: {\n    width: ({ size }: any) => size,\n    height: ({ size }: any) => size,\n    fontSize: ({ size }: any) => size / 1.3,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    overflow: 'hidden',\n  }\n})\n\ntype INames = string | 'question' | 'volumeOn' | 'volumeOff' | 'expand' | 'qrcode' | 'compress' | 'play' | 'pause' | 'star' | 'arrowLeft' | 'arrowRight' | 'arrowUp' | 'arrowDown'\n\ninterface PropsSchema {\n  name: INames\n  size?: number\n  button?: boolean\n  buttonSize?: TypeAttributes.Size\n  disabled?: boolean\n  onClick?: Function\n}\n\nconst defaultProps: PropsSchema = {\n  name: 'volumeOn',\n  size: 20,\n}\n\nexport const SvgIcon: React.FC<PropsSchema> = (props: PropsSchema = defaultProps) => {\n  const { size, name } = props\n  const classes = useStyles({ size })\n\n  const list: any = {\n    volumeOn: faVolumeHigh,\n    volumeOff: faVolumeOff,\n    expand: faExpand,\n    qrcode: faQrcode,\n    compress: faCompress,\n    play: faPlay,\n    pause: faPause,\n    star: faStar,\n    arrowLeft: faSquareCaretLeft,\n    arrowRight: faSquareCaretRight,\n    arrowUp: faSquareCaretUp,\n    arrowDown: faSquareCaretDown,\n    question: faQuestion,\n  }\n\n\n  const renderIcon = () => {\n    const getIcon = () => {\n      if (!list.hasOwnProperty(name)) {\n        return <></>\n      }\n      return list[name]\n    }\n\n    return (\n      <span className={classes.root}>\n        <FontAwesomeIcon icon={getIcon()} />\n      </span>\n    )\n  }\n\n  if (props.button) {\n    return (\n      <IconButton\n        disabled={props.disabled}\n        onClick={() => {\n          if (typeof props.onClick === 'function') {\n            props.onClick()\n          }\n        }}\n        icon={renderIcon()}\n        circle\n        size={props.buttonSize} />\n    )\n  }\n\n  return renderIcon()\n\n}\nSvgIcon.defaultProps = defaultProps;\n","import * as React from \"react\";\n\n// hooks\nimport { useHotkeys } from '../../hooks/useHotkeys'\n\n\nexport const useFullscreen = () => {\n  const [active, setActive] = React.useState(false)\n\n  // Hot key\n  useHotkeys('ctrl+f', (e: any) => {\n    if (!e.repeat) {\n      cls.open()\n      return;\n    }\n  }, [])\n\n\n  const fullscreenchanged = () => {\n\n    if (document.fullscreenElement) {\n      console.log(`Element: ${document.fullscreenElement.id} entered fullscreen mode.`);\n      setActive(true)\n    } else {\n      console.log('Leaving fullscreen mode.');\n      setActive(false)\n    }\n\n  }\n\n  React.useEffect(() => {\n    document.addEventListener('fullscreenchange', fullscreenchanged);\n\n    return () => {\n      document.removeEventListener('fullscreenchange', fullscreenchanged);\n    }\n  }, [])\n\n  const cls = new class {\n    doc: any\n    active: boolean\n\n    constructor() {\n      // Get the documentElement (<html>) to display the page in fullscreen\n      this.doc = document.documentElement\n      this.active = active\n    }\n\n    /* View in fullscreen */\n    open() {\n\n      if (this.doc.requestFullscreen) {\n        this.doc.requestFullscreen()\n          .then(() => {\n            // element has entered fullscreen mode successfully\n          })\n          .catch((error: any) => {\n            console.error({ error });\n          });\n      } else if (this.doc.webkitRequestFullscreen) { /* Safari */\n        this.doc.webkitRequestFullscreen()\n          .then(() => {\n            // element has entered fullscreen mode successfully\n          })\n          .catch((error: any) => {\n            console.error({ error });\n          });\n      } else if (this.doc.msRequestFullscreen) { /* IE11 */\n        this.doc.msRequestFullscreen().then(() => {\n          // element has entered fullscreen mode successfully\n        })\n          .catch((error: any) => {\n            console.error({ error });\n          });\n      }\n    }\n\n    /* Close fullscreen */\n    close() {\n\n      if (document.fullscreenElement) {\n        document.exitFullscreen()\n          .then(() => console.log(\"Document Exited from Full screen mode\"))\n          .catch((err) => console.error(err))\n      } else {\n        document.documentElement.requestFullscreen();\n      }\n\n      // if (document.exitFullscreen) {\n      //   document.exitFullscreen();\n      // } else if (document.webkitExitFullscreen) { /* Safari */\n      //   document.webkitExitFullscreen();\n      // } else if (document.msExitFullscreen) { /* IE11 */\n      //   document.msExitFullscreen();\n      // }\n    }\n  }\n\n  return cls\n};\n","/* Usage\n\n// components\nimport QrCode from 'src/components/QrCode/'\n\nfunction Demo() {\n\n  return (\n\n  )\n}\n*/\n\nimport * as React from 'react';\n\n// libs\nimport ReactQRCode from \"react-qr-code\";\n\n\ninterface Props {\n  level?: 'L' | 'M' | 'Q' | 'H'\n  fgColor?: string\n  bgColor?: string\n  value: string\n  size?: number\n  title?: string\n}\n\nconst defaultProps: Props = {\n  level: 'L',\n  fgColor: '#000000',\n  // fgColor: 'var(--rs-bg-overlay)',\n  bgColor: '#FFFFFF',\n  value: '',\n  size: 26,\n  title: '',\n};\n\nexport const QrCode = (props: Props = defaultProps) => {\n\n  return (\n    <div>\n      <ReactQRCode\n        level={props.level}\n        bgColor={props.bgColor}\n        fgColor={props.fgColor}\n        size={props.size}\n        title={props.title}\n        value={props.value} />\n    </div>\n  );\n}\n","import * as React from 'react'\n\n// context\nimport { useSystem, usePlayer } from '../../context/'\n\n// hooks\nimport { useCopy } from '../../hooks/useCopy'\n\n// ui\nimport { jss } from '../../assets/styled';\nimport Input from 'rsuite/Input';\nimport InputGroup from 'rsuite/InputGroup';\n\n// icons\nimport CopyIcon from '@rsuite/icons/Copy';\n\n// components\nimport { SvgIcon } from '../../components/SvgIcon'\nimport { CustomModal } from '../../components/Modal'\nimport { QrCode } from '../../components/QrCode'\n\n\nconst useStyles = jss({\n  root: {\n    backgroundColor: '#fff',\n    padding: '60px 30px',\n    display: 'flex',\n    justifyContent: 'center',\n    borderRadius: 10,\n    marginTop: 30\n  }\n})\n\nexport const ShareLink = () => {\n  const classes = useStyles()\n  const system = useSystem()\n  const player = usePlayer()\n  const copy = useCopy()\n\n  const refModal = React.useRef<any>(null)\n\n  const sharedUrl = system.cls.sharedUrl\n\n  return (\n    <div>\n      <CustomModal\n        title=\"Quick Access\"\n        onSuccess={undefined}\n        onClose={undefined}\n        FooterComponent={undefined}\n        ref={refModal}>\n        <div>\n\n          <div style={{ marginBottom: 10 }}>\n            Copy the address or scan the QR code with your phone.\n          </div>\n\n          <InputGroup size='lg'>\n            <Input\n              readOnly={true}\n              defaultValue={sharedUrl || ''}\n            />\n            <InputGroup.Button onClick={() => copy.text(sharedUrl)}>\n              <CopyIcon />\n            </InputGroup.Button>\n          </InputGroup>\n\n          <div className={classes.root}>\n            <QrCode\n              value={sharedUrl}\n            />\n          </div>\n\n        </div>\n      </CustomModal>\n\n      <SvgIcon\n        disabled={!sharedUrl}\n        button buttonSize='lg' name='qrcode'\n        onClick={() => {\n          player.cls.streamingStop()\n          refModal.current.open()\n        }}\n      />\n    </div>\n  )\n}","import * as React from 'react'\n\nexport const useCopy = () => {\n\n  const cls = new class {\n    text(text: string) {\n      navigator.clipboard.writeText(text).then(function () {\n        console.log('Async: Copying to clipboard was successful!');\n        alert('Copied!')\n      }, function (err) {\n        console.error('Async: Could not copy text: ', err);\n      });\n    }\n  }\n\n  return cls\n}","import * as React from 'react'\n\n// context\nimport { usePlayer } from '../../context/';\n\n// ui\nimport { jss } from '../../assets/styled';\nimport Popover from 'rsuite/Popover';\nimport Whisper from 'rsuite/Whisper';\nimport Slider from 'rsuite/Slider';\n\n// components\nimport { SvgIcon } from '../../components/SvgIcon'\n\n\nconst useStyles = jss({\n  popover: {\n    width: 150,\n    padding: 10,\n  }\n})\n\nexport const VolumeButton = () => {\n  const classes = useStyles()\n  const player = usePlayer()\n  const refWhisper = React.useRef<any>(null)\n\n  const { active } = player.computed.streaming\n\n  const soundButtonDisabled = !active\n  const volume = player.state.playerSettings.volume\n  const volumeOff = typeof volume === 'number' && volume <= 0\n\n  const renderSpeacker = () => {\n    return (\n      <Popover title=\"Volume\">\n        <div className={classes.popover}>\n          <Slider\n            getAriaValueText={(int: number) => `${int * 100}%`}\n            tooltip={false}\n            min={0}\n            max={1}\n            step={.1}\n            value={player.state.playerSettings?.volume}\n            onChange={(v: number) => player.cls.changeVolume(v)}\n          />\n        </div>\n      </Popover>\n    )\n  }\n\n  return (\n\n    <div>\n      <Whisper\n        ref={refWhisper}\n        placement=\"left\"\n        trigger=\"hover\"\n        enterable\n        disabled={soundButtonDisabled}\n        speaker={renderSpeacker()}>\n\n        <div>\n          <SvgIcon\n            button\n            buttonSize='lg'\n            name={volumeOff ? 'volumeOff' : 'volumeOn'}\n            disabled={soundButtonDisabled}\n            onClick={() => {\n              const v = volume === 0 ? 1 : 0\n              player.cls.changeVolume(v)\n            }} />\n        </div>\n\n      </Whisper>\n\n\n    </div>\n  )\n}","import * as React from 'react'\n\n// hooks\nimport { useNotify } from '../../../hooks/useNotify'\n\n// context\nimport { usePlayer } from '../../../context/';\n\n// ui\nimport { jss } from '../../../assets/styled';\nimport Button from 'rsuite/Button';\n\n\n// components\nimport { SvgIcon } from '../../../components/SvgIcon';\n\n\nconst useStyles = jss({\n  content: {\n\n  },\n  keysList: {\n    marginBottom: 20,\n    width: 230,\n    fontSize: '.8rem',\n    '& > li': {\n      display: 'flex',\n      alignItems: 'center',\n      padding: '3px 0',\n      '& label': {\n        width: 100,\n      },\n      '& > div': {\n        display: 'flex',\n        alignItems: 'center',\n        '& > span': {\n          margin: '0 4px',\n        }\n      }\n    }\n  },\n  button: {\n    backgroundColor: '#fff',\n    color: 'rgba(0,0,0,.7)',\n  }\n})\n\nexport const KeyboardHelper = () => {\n  const classes = useStyles()\n  const notify = useNotify()\n  const player = usePlayer()\n\n  React.useEffect(() => {\n\n    if (player.computed.streaming.active) {\n\n      setTimeout(() => {\n        handleOpen()\n      }, 1000 * 3)\n\n    }\n\n  }, [player.computed.streaming.active])\n\n  const renderContent = () => {\n    const list = [\n      ['Move up', 'W', 'arrowUp'],\n      ['Move down', 'S', 'arrowDown'],\n      ['Move left', 'A', 'arrowLeft'],\n      ['Move left', 'D', 'arrowRight'],\n    ].map(([label, key, icon]) => ({ label, key, icon }))\n\n    return (\n      <div className={classes.content}>\n        <ul className={classes.keysList}>\n          {list.map((item, index) => (\n            <li key={index}>\n              <label>\n                {item.label}\n              </label>\n              <div>\n                Press \"{item.key}\" or <SvgIcon name={item.icon} size={20} />\n              </div>\n            </li>\n          ))}\n        </ul>\n        <Button\n          onClick={() => notify.message.clear()}\n          appearance='primary' className={classes.button}>\n          I got it\n        </Button>\n      </div>\n    )\n  }\n\n\n  const handleOpen = () => {\n    // notify.message.clear()\n\n    notify.message.push(renderContent(), {\n      header: 'HotKeys',\n      showIcon: false,\n      type: 'info',\n      closable: true,\n      duration: 1000 * 10,\n    }, {\n      placement: 'bottomEnd',\n    })\n  }\n\n  return (\n    <SvgIcon button buttonSize='lg'\n      name={'question'}\n      onClick={() => {\n        handleOpen()\n      }} />\n  )\n\n  // return (\n  //   <div\n  //     onClick={() => handleOpen()}\n  //     style={{\n  //       top: 30,\n  //       left: 30,\n  //       position: 'fixed', zIndex: 1000,\n  //       // backgroundColor: 'red'\n  //     }}>\n\n  //     {renderContent()}\n\n  //   </div>\n  // )\n}","\nimport * as React from 'react'\n\nimport { KeyboardHelper } from './KeyboardHelper'\n\n\nexport const Helpers = {\n  KeyboardHelper\n}","import * as React from 'react'\n\n// ui\n// import Notification from 'rsuite/Notification';\nimport Message from 'rsuite/Message';\nimport toaster from 'rsuite/toaster';\n\n\ninterface IToaster {\n  placement: 'topCenter' | 'bottomCenter' | 'topStart' | 'topEnd' | 'bottomStart' | 'bottomEnd'\n}\n\nexport const useNotify = () => {\n  const message = new class {\n\n    clear() {\n      // toaster.remove('')\n      toaster.clear()\n    }\n\n    push(children: any, options: unknown, settings: IToaster) {\n      const message = (\n        <Message {...options}>\n          {children}\n        </Message>\n      )\n\n      toaster.push(message, settings)\n    }\n\n    // info(...args: any) {\n    //   this.push('info', ...args)\n    // }\n  }\n\n  return {\n    message,\n  }\n}","import * as React from 'react'\n\n// context\nimport { usePlayer } from '../../context/';\n\n// components\nimport { SvgIcon } from '../../components/SvgIcon'\n\n// hooks\nimport { useFullscreen } from './useFullscreen'\n\n// blocks\nimport { ShareLink } from './ShareLink'\nimport { VolumeButton } from './VolumeButton'\nimport { Helpers } from './Helpers/'\n\ninterface Props {\n  // children: any\n}\n\nexport const PlayerActions: React.FC<Props> = () => {\n  const player = usePlayer()\n  const fullscreen = useFullscreen();\n\n  const { _allowPlay, active } = player.computed.streaming\n  const playButtonDisabled = !_allowPlay && !active\n\n  return (\n    <>\n\n      <SvgIcon button buttonSize='lg'\n        name={active ? 'pause' : 'play'}\n        disabled={playButtonDisabled}\n        onClick={() => {\n          player.cls.switchStart()\n        }} />\n\n      <VolumeButton />\n\n      <SvgIcon button buttonSize='lg'\n        name={fullscreen.active ? 'compress' : 'expand'}\n        onClick={() => {\n          if (fullscreen.active) {\n            fullscreen.close()\n          } else {\n            fullscreen.open()\n          }\n        }} />\n\n      <ShareLink />\n\n      <Helpers.KeyboardHelper />\n\n    </>\n  )\n}","import * as React from 'react';\n\n// ui\nimport { media } from '../assets/styled';\n\n// hooks\nimport { useEventListener } from './useEventListener'\n\n\nexport const useMedia = () => {\n\n\tconst defaultSizes = {\n\t\txs: false,\n\t\tsm: false,\n\t\tmd: false,\n\t\tlg: false,\n\t\txl: false,\n\t}\n\n\tconst [size, setSize] = React.useState<any>(defaultSizes);\n\n\tconst change = (key: string) => {\n\t\tsetSize({ defaultSizes, [key]: true })\n\t}\n\n\t// Handler to call on window resize\n\tconst handleResize = () => {\n\t\tconst width = window.innerWidth\n\n\t\tif (width > media.sizes.xl) { // > 1536\n\t\t\tchange('xl')\n\t\t}\n\t\telse if (width > media.sizes.lg) { // > 1200\n\t\t\tchange('lg')\n\t\t}\n\t\telse if (width > media.sizes.md) { // > 900\n\t\t\tchange('md')\n\t\t}\n\t\telse if (width > media.sizes.sm) { // > 600\n\t\t\tchange('sm')\n\t\t} else {\n\t\t\tchange('xs')\n\t\t}\n\n\t\t// console.log('@@@size', size)\n\t}\n\n\t// useEventListener('resize', handleResize)\n\n\tReact.useEffect(() => {\n\t\twindow.addEventListener(\"resize\", () => handleResize());\n\t\thandleResize();\n\n\t\treturn () => window.removeEventListener(\"resize\", () => handleResize());\n\t}, []);\n\n\treturn size\n}\n","import * as React from 'react';\n\n// context\nimport { useSystem, usePlayer } from '../../context/';\n\n// hooks\nimport { useMedia } from '../../hooks/useMedia';\n\n// ui\nimport { jss, media } from '../../assets/styled';\nimport Navbar from 'rsuite/Navbar';\nimport Dropdown from 'rsuite/Dropdown';\nimport Animation from 'rsuite/Animation';\nimport Nav from 'rsuite/Nav';\nimport Popover from 'rsuite/Popover';\nimport Whisper from 'rsuite/Whisper';\n\n// bridge\nimport useBridge from './useBridge'\n\n\nconst useStyles = jss({\n  root: {\n    position: 'fixed',\n    left: 0,\n    right: 0,\n    bottom: 0,\n    zIndex: 1050 - 10, //modal\n    display: 'flex',\n    justifyContent: 'center',\n\n    [media.up.sm]: {\n      left: 10,\n      right: 10,\n      bottom: 10,\n    },\n    '& > div': {\n      opacity: ({ isMoving }: any) => isMoving ? .3 : 1,\n      backgroundColor: 'rgba(0,0,0,.8)',\n\n      [media.down.sm]: {\n        width: '100%',\n        borderTop: `solid 1px rgba(255,255,255,.1)`,\n      },\n      [media.up.sm]: {\n        backdropFilter: 'blur(5px)',\n        border: `solid 1px rgba(255,255,255,.1)`,\n        borderRadius: 5,\n        transition: 'opacity .5s ease-in-out',\n        padding: '0 10px',\n      },\n    }\n  },\n  dropdownItem: {\n    display: 'flex',\n    alignItems: 'center',\n    minWidth: 150,\n    maxWidth: 200,\n    '& > img': {\n      width: 50,\n      borderRadius: 5,\n      marginRight: 10\n    }\n  },\n\n  mobileNavbar: {\n    display: 'flex',\n    alignItems: 'center',\n    margin: 0,\n    padding: '0 10px',\n    // minHeight: 56,\n    '& > [data-li=\"logo\"]': {\n      fontWeight: 600,\n      minWidth: 100,\n      whiteSpace: 'nowrap',\n      overflow: 'hidden',\n      textOverflow: 'ellipsis',\n      padding: '15px 10px',\n    },\n    '& > [data-li=\"menu\"]': {\n      flex: 1,\n      overflowY: 'auto',\n    }\n  },\n  mobileMenu: {\n    display: 'flex',\n    '& > li': {\n      padding: '15px 10px',\n      '& label': {\n        fontSize: '.8rem',\n        textTransform: 'uppercase',\n      }\n    }\n  }\n})\n\n// interface MobilePopoverProps {\n\n// }\n\nconst MenuPopover = React.forwardRef(({ onClose, items, ...rest }: any, ref: any) => {\n  const classes = useStyles({ isMoving: false })\n\n  return (\n    <Popover ref={ref} {...rest} full>\n      <Dropdown.Menu>\n        {items.map((item: any, index: number) => (\n          <Dropdown.Item key={index} onClick={() => {\n            item.onClick()\n            onClose()\n          }}>\n            <div className={classes.dropdownItem}>\n              {item.preview_small ? (\n                <img src={item.preview_small} />\n              ) : ''}\n              {item.name}\n            </div>\n          </Dropdown.Item>\n        ))}\n      </Dropdown.Menu>\n    </Popover>\n  )\n});\n\nconst Panel = React.forwardRef((props: any, ref: any) => {\n  const system = useSystem()\n  const player = usePlayer()\n  const bridge = useBridge()\n  const _media = useMedia()\n\n  const refMobilePopover = React.useRef<any>();\n\n  const [activeKey, setActiveKey] = React.useState<any>(null);\n\n  const isDisabled = !player.computed.streaming.active\n  const isMoving = player.computed.mouse.moving\n\n  const classes = useStyles({ isMoving })\n\n  const isMobile = _media.xs || _media.sm\n\n  const renderMobileMenu = () => {\n\n    const closeMobileMenu = () => {\n      refMobilePopover.current.close()\n    }\n\n    return (\n      <div>\n        <ul className={classes.mobileNavbar}>\n          <li data-li=\"logo\">\n            {system.project.name}\n          </li>\n          <li data-li=\"menu\">\n            <ul className={classes.mobileMenu}>\n              {bridge.menu.map((item: any, index: number) => {\n                if (item.subitems.length > 0) {\n                  return (\n                    <li key={index}>\n                      <Whisper\n                        controlId=\"mobile-menu-popover\"\n                        placement={index < bridge.menu.length - 3 ? \"top\" : \"topEnd\"}\n                        trigger=\"click\"\n                        ref={refMobilePopover}\n                        speaker={(\n                          <MenuPopover\n                            items={item.subitems}\n                            onClose={closeMobileMenu}\n                          />\n                        )}\n                      >\n                        <label>\n                          {item.name}\n                        </label>\n                      </Whisper>\n                    </li>\n                  )\n                }\n\n                return (\n                  <li key={index}\n                    onClick={(event) => {\n                      event.preventDefault()\n                      item.onClick()\n                      closeMobileMenu()\n                    }}>\n                    <label>\n                      {item.name}\n                    </label>\n                  </li>\n                )\n              })}\n            </ul>\n          </li>\n        </ul>\n      </div>\n    )\n  }\n\n  const renderContent = () => {\n\n    return (\n\n      <Navbar appearance='subtle'>\n        <Navbar.Brand style={{ cursor: 'default' }}>\n          <strong>\n            {system.project.name}\n          </strong>\n        </Navbar.Brand>\n        <Nav\n          onSelect={setActiveKey}\n          activeKey={activeKey}\n          style={{\n            whiteSpace: 'unset',\n          }}>\n          {bridge.menu.map((item: any, index: number) => {\n\n            if (item.subitems.length > 0) {\n              return (\n                <Dropdown\n                  key={index}\n                  eventKey={index}\n                  placement=\"topStart\"\n                  title={item.name}>\n                  {item.subitems.map((subitem: any, i: number) => {\n                    const key = `${index}-${i}`\n                    return (\n                      <Dropdown.Item\n                        key={key}\n                        eventKey={key}\n                        disabled={isDisabled}\n                        onClick={() => subitem.onClick()}>\n                        <div className={classes.dropdownItem}>\n                          {subitem.preview_small ? (\n                            <img src={subitem.preview_small} />\n                          ) : ''}\n                          {subitem.name}\n                        </div>\n                      </Dropdown.Item>\n                    )\n                  })}\n                </Dropdown>\n              )\n            }\n\n            return (\n              <Nav.Item\n                key={index}\n                eventKey={index.toString()}\n                disabled={isDisabled}\n                onClick={(event) => {\n                  event.preventDefault()\n                  item.onClick()\n                }}>\n                {item.name}\n              </Nav.Item>\n            )\n\n          })}\n\n        </Nav>\n        {/* <Nav pullRight>\n            <Nav.Item>Settings</Nav.Item>\n          </Nav> */}\n\n      </Navbar >\n\n    )\n  }\n\n  return (\n    <div className={classes.root}>\n      <div>\n        <div {...props} ref={ref}>\n          {isMobile ? renderMobileMenu() : renderContent()}\n        </div>\n      </div>\n    </div>\n  );\n})\n\n\nexport const QuickMenu: React.FC<any> = () => {\n  const system = useSystem()\n\n  if (!system.project.exist) {\n    return (<div />)\n  }\n\n  return (\n    <Animation.Slide in={true} placement='bottom'>\n      {(props, ref) => <Panel {...props} ref={ref} />}\n    </Animation.Slide>\n  )\n}","import * as React from 'react'\n\n// context\nimport { useSystem, usePlayer } from '../../context/';\n\n\nexport default function useBridge() {\n  const system = useSystem()\n  const player = usePlayer()\n\n  const cls = new class {\n\n    async _emit(uuid: string) {\n      return await player.cls.emitUuidAsync(uuid)\n    }\n\n    get menu() {\n\n      const click = (uuid: string) => {\n        if (uuid) {\n          this._emit(uuid)\n        }\n      }\n\n      const list = system.project.menu || []\n      return list.map((item: any) => ({\n        ...item,\n        onClick: () => click(item.command_uuid),\n        subitems: item.subitems.map((sub: any) => ({\n          ...sub,\n          onClick: async () => {\n            click(item.command_uuid)\n            await click(sub.command_uuid)\n          },\n        }))\n      }))\n    }\n\n  }\n\n  return cls\n\n}\n\n","\nimport * as React from 'react'\n\n// context\nimport { usePlayer } from '../context';\n\n// hooks\nimport { useCountdown } from '../hooks/useCountdown';\n\n// ui\nimport { jss } from '../assets/styled';\nimport Progress from 'rsuite/Progress';\nimport Animation from 'rsuite/Animation';\n\n\nconst useStyles = jss({\n  progressRoot: {\n    position: 'absolute',\n    zIndex: 1050 - 10,\n    top: 27,\n    left: 'calc((100vw - 200px) / 2)',\n    right: 0,\n    width: 200,\n    pointerEvents: 'none',\n  },\n  progress: {\n    display: 'flex',\n    alignItems: 'center',\n    textShadow: '1px 1px rgba(0,0,0, .2)',\n\n    '& .rs-progress-line-outer': {\n      border: 'solid 1px rgba(0,0,0, .1)',\n      '& .rs-progress-line-inner': {\n        backgroundColor: 'rgba(255,255,255, .3)',\n      }\n    }\n\n  },\n})\n\n\nexport const ProgressKiller: React.FC<any> = () => {\n  const classes = useStyles()\n  const player = usePlayer()\n  const contdown = useCountdown()\n\n  const [mounted, setMounted] = React.useState(false)\n\n  const secondsToKill = player.state.config.secondsToKill || 0\n  const secondsToKillLeft = player.state.config.secondsToKillLeft || 0\n\n  const { active } = player.computed.streaming\n\n  React.useEffect(() => {\n    if (active) {\n      if (!mounted && secondsToKill > 0) {\n        setMounted(true)\n      }\n\n      if (mounted && secondsToKillLeft > 0) {\n        contdown.start(secondsToKillLeft)\n      }\n\n    } else {\n      contdown.stop()\n    }\n  }, [active, secondsToKillLeft])\n\n  const show = contdown.active && active\n\n  if (!mounted) {\n    return (<div />)\n  }\n\n  return (\n    <Animation.Slide in={show} placement='top'>\n      {(props, ref) => (\n        <div className={classes.progressRoot}>\n          <div {...props} ref={ref}>\n            <div className={classes.progress}>\n              <Progress.Line\n                showInfo={false}\n                strokeColor='#fff'\n                percent={contdown.percent}\n                status={'active'} />\n              <div style={{ width: 60 }}>\n                {contdown.time}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </Animation.Slide>\n  )\n}","export const global: any = {\n  '@global': {\n    body: {\n      overscrollBehavior: 'contain',\n    },\n    // rsuit\n    '.rs-drawer-wrapper': {\n      pointerEvents: 'none',\n      '& *': {\n        pointerEvents: 'all',\n      },\n    },\n    '.rs-drawer': {\n      backdropFilter: 'blur(5px)',\n      borderLeft: 'solid 1px rgba(255, 255, 255, .2)',\n    },\n    '.rs-drawer-content': {\n      backgroundColor: 'rgba(0, 0, 0, .8)',\n    },\n    '.rs-sidenav-default': {\n      backgroundColor: 'transparent',\n      '& .rs-dropdown-toggle, & .rs-sidenav-item': {\n        backgroundColor: 'transparent',\n      },\n      [`& .rs-dropdown.rs-dropdown-open .rs-dropdown-toggle,\n        & .rs-dropdown .rs-dropdown-toggle,\n        & .rs-sidenav-item,\n        & .rs-dropdown-toggle,\n        & .rs-sidenav-item`]: {\n        backgroundColor: 'transparent',\n        '&:hover': {\n          backgroundColor: 'rgba(255, 255, 255, .3)',\n        }\n      }\n    },\n\n    '.rs-toast.rs-notification': {\n      width: 320,\n    },\n\n    '.rs-notification': {\n      width: '100%',\n    }\n  },\n}","import * as React from 'react'\n\n// pixel-streaming\nimport * as client from 'unreal-pixel-streaming'\nimport { psConfigSchema } from '../client/'\n\n// context\nimport { usePlayer, useSystem } from '../context/';\n\n// ui\nimport { jss } from '../assets/styled';\n\n// blocks\nimport { DebugPanel } from './DevBar/DevMenu/PanelPixelStreaming/DebugPanel'\nimport { DevBar } from './DevBar'\nimport { PlayerOverlay } from './PlayerOverlay'\nimport { PlayerActions } from './PlayerActions'\nimport { QuickMenu } from './QuickMenu/'\nimport { ProgressKiller } from './ProgressKiller'\n\n// styles\nimport { global } from '../styles/theme';\n\nconst useStyles = jss({\n  ...global,\n\n  root: {\n    margin: 0,\n    backgroundColor: 'black',\n    height: 'var(--window - height)',\n    overflow: 'hidden',\n    '& #player': {\n      '& video': {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 50,\n        zIndex: 0,\n        objectFit: `var(--player-object-fit)`,\n        cursor: 'pointer',\n      }\n    },\n  },\n  toolbar: {\n    position: 'fixed',\n    zIndex: 1050 - 1,\n    top: 20,\n    right: 20,\n    display: 'flex',\n    flexDirection: 'column',\n    gap: 10,\n  },\n})\n\n\ninterface metaConfigSchema {\n  showToolbar: boolean,\n  showQuickMenu: boolean,\n  showDevBar: boolean,\n  showOverlay: boolean,\n  notifications: {\n    showCommands: boolean,\n    showCallbacks: boolean,\n    placement: string,\n  },\n  videoUrl?: string,\n  issuesUrl?: string,\n}\n\ninterface configSchema {\n  // streamingUrl?: string,\n  secondsToKill: number,\n  secondsToStart: number,\n  autoRestart: boolean,\n}\n\nexport interface PlayerPropsSchema {\n  children?: JSX.Element | React.ReactNode,\n  apiKey?: string,\n  buildId?: string,\n  metaConfig: metaConfigSchema,\n  config: configSchema,\n  psConfig: psConfigSchema,\n  ueSettings: {\n    Encoder: client.Encoder,\n    WebRTC: client.WebRTC,\n    Console: {\n      mode: 'console' | 'command',\n      cursor: boolean,\n      hudSats: boolean,\n    }\n  }\n}\n\nexport const Player: React.FC<any> = (props: PlayerPropsSchema) => {\n  const classes = useStyles()\n  const player = usePlayer()\n  const system = useSystem()\n\n  let { apiKey, metaConfig, config, psConfig, ueSettings } = props\n  const [inited, setInited] = React.useState(false)\n\n  React.useEffect(() => {\n\n    system.cls.setApiKey(apiKey)\n    system.cls.initMetaConfig(metaConfig)\n    player.cls.initConfig(config, psConfig, ueSettings)\n\n  }, [])\n\n  /**\n   * Enrich config from system context\n   */\n  React.useEffect(() => {\n\n    if (inited === false && system.project.config) {\n\n      const { menu, ue_console_mode, ue_control_scheme, ue_sound } = system.project.config\n      system.cls.initMetaConfig({ showQuickMenu: menu })\n      ueSettings.Console.mode = ue_console_mode\n      psConfig.controlScheme = ue_control_scheme\n      psConfig.startVideoMuted = !ue_sound\n\n      setInited(true)\n      player.cls.initConfig(config, psConfig, ueSettings)\n    }\n\n  }, [system.project.config])\n\n\n  return (\n    <div className={classes.root}>\n      <div id=\"player\" />\n      <DebugPanel isFirst />\n\n      {system.config.showOverlay && (<PlayerOverlay />)}\n      {system.config.showQuickMenu && (<QuickMenu />)}\n\n      <ProgressKiller />\n\n      {(system.config.showToolbar || system.config.showDevBar) && (\n        <div className={classes.toolbar} id=\"metaeditor-toolbar\">\n          {system.config.showDevBar && (<DevBar />)}\n          {system.config.showToolbar && (<PlayerActions />)}\n        </div>\n      )}\n\n    </div>\n  )\n}","import * as React from \"react\"\n\n// ui\nimport CustomProvider from 'rsuite/CustomProvider';\n\n// layers\nimport PlayerProvider, { usePlayer } from './usePlayer/';\nimport SystemProvider, { useSystem } from './useSystem/';\n\n\nexport const ContextProvider: React.FC<any> = (props: any) => {\n  return (\n    <CustomProvider theme='dark'>\n      <SystemProvider>\n        <PlayerProvider>\n          {props.children}\n        </PlayerProvider>\n      </SystemProvider>\n    </CustomProvider>\n  )\n}\n\nexport {\n  usePlayer,\n  useSystem,\n}\n\n","const blue = {\n  50: '#e3f2fd',\n  100: '#bbdefb',\n  200: '#90caf9',\n  300: '#64b5f6',\n  400: '#42a5f5',\n  500: '#2196f3',\n  600: '#1e88e5',\n  700: '#1976d2',\n  800: '#1565c0',\n  900: '#0d47a1',\n  A100: '#82b1ff',\n  A200: '#448aff',\n  A400: '#2979ff',\n  A700: '#2962ff'\n};\nexport default blue;","const lightGreen = {\n  50: '#f1f8e9',\n  100: '#dcedc8',\n  200: '#c5e1a5',\n  300: '#aed581',\n  400: '#9ccc65',\n  500: '#8bc34a',\n  600: '#7cb342',\n  700: '#689f38',\n  800: '#558b2f',\n  900: '#33691e',\n  A100: '#ccff90',\n  A200: '#b2ff59',\n  A400: '#76ff03',\n  A700: '#64dd17'\n};\nexport default lightGreen;"],"names":["QualityColour","QualityThresholds","OverlayBase","rootDiv","rootElement","this","classList","add","appendChild","_proto","show","remove","hide","ActionOverlayBase","textElement","_this","_inheritsLoose","_proto2","client","AfkOverlayBase","countDownSpanElementId","_this2","_proto3","update","countdown","document","getElementById","innerHTML","toString","TextOverlayBase","_this3","text","undefined","NativeDOMDelegate","config","_this4","showStats","logging","videoEncoderAvgQP","buildConnectOverlay","buildPlayOverlay","buildAfkOverlay","buildInfoOverlay","buildErrorOverlay","ConfigureButtons","_proto5","connectOverlayHtml","createElement","id","className","addEventListener","event","_this5","onConnectAction","connectOverlayHtmlInner","connectOverlay","playerElement","playOverlayHtml","_this6","onPlayAction","playOverlayHtmlInner","src","Images","playButton","alt","playOverlay","afkOverlayHtml","_this7","onAfkAction","afkOverlayHtmlInner","afkOverlay","infoOverlayHtml","infoOverlayHtmlInner","infoOverlay","errorOverlayHtml","errorOverlayHtmlInner","errorOverlay","onInstanceStateChange","instanceState","instanceStateMessage","isInstancePending","isError","state","UNALLOCATED","details","FAILED","PENDING","READY","showErrorOverlay","spinnerSpan","spinnerDiv","setAttribute","showTextOverlay","outerHTML","onAuthenticationResponse","authResponse","outcome","AUTHENTICATED","INVALID_TOKEN","error","REDIRECT","redirect","ERROR","setUpToggleWithUrlParams","forceTurnToggle","setUpControlSchemeTypeToggle","controlSchemeToggle","onclick","_this8","iWebRtcController","restartStreamAutomaticity","console","debug","encode","MinQP","Number","encoderMinQpText","value","MaxQP","encoderMaxQpText","webRtcSettings","FPS","webRtcFpsText","MinBitrate","webRtcMinBitrateText","MaxBitrate","webRtcMaxBitrateText","sendEncoderSettings","sendWebRtcSettings","sendUeUiDescriptor","uiDescriptorText","sendShowFps","onchange","resizePlayerStyle","toggleMatchViewPortRes","matchViewportResolution","checked","qualityControlOwnershipCheckBox","sendRequestQualityControlOwnership","toggle","toggleElement","controlScheme","LockedMouse","controlSchemeToggleTitle","_this9","HoveringMouse","activateRegisterMouse","urlParameterKey","URLSearchParams","window","location","search","has","urlParams","set","history","replaceState","pathname","IsLinkSharingEnabled","onVideoInitialised","_this10","sendLatencyTest","viewSettingsHeader","viewSettingsContainer","contains","commandsHeader","commandsContainer","streamingSettingsHeader","streamingSettingsContainer","statsHeader","statsContainer","latencyHeader","latencyContainer","videoStartTime","Date","now","onDisconnect","_client$DelegateBase","onVideoEncoderAvgQP","onInitialSettings","settings","Encoder","WebRTC","onVideoStats","stats","statsText","toISOString","substr","formatBytes","inboundVideoStats","bytesReceived","packetsLost","bitrate","framerate","framesDropped","candidatePair","currentRoundTripTime","receiveToCompositeMs","verboseLog","sendStatsToServer","sendStatsToSignallingServer","bytes","decimals","dm","i","Math","floor","log","parseFloat","pow","toFixed","onLatencyTestResult","latencyTimings","latencyStatsInnerHTML","networkLatency","EncodeMs","CaptureToSendMs","browserSendLatency","frameDisplayDeltaTimeMs","browserReceiptTimeMs","latencyExcludingDecode","endToEndLatency","QP","statusLight","style","color","None","title","Bad","BlinkVideoQualityStatus","Spotty","Good","onQualityControlOwnership","hasQualityOwnership","speed","iteration","opacity","tickID","setInterval","_this11","String","abs","clearInterval","afkConnect","connectToSignallingSever","payload","Logger","EventsClass","ClientClass","streamingUrl","psConfig","init","url_parsed","parse","signallingServerProtocol","protocol","signalingAddress","getCfg","v","def","cfg","hasOwnProperty","_enableVerboseLogging","enableSpsAutoplay","startVideoMuted","suppressBrowserKeys","fakeMouseWithTouches","CreateConfig","hostname","RTCPlayer","delegate","create","ontouchmove","preventDefault","ClientAccess","clientCb","cb","connect","cl","close","afkLogic","closeWebSocket","emitCommand","command","JSON","stringify","ueDescriptorUi","emitCommandSystem","emitConsole","iWebRTCController","_createClass","key","get","initialState","commands_list","callbacks_list","secondsToKill","secondsToKillLeft","secondsToStart","autoRestart","ueSettings","initial","onStart","playerSettings","volume","webrtcData","status","statusUpdatedAt","errorCode","autoplaySupport","mouseEvent","moving","reducer","action","type","anValue","webrtcStatusList","disconnected","includes","initialized_no_autoplay","initialized","moment","utc","confirmed","eventInjection","commandConfirmation","variant","verification_id","item","list","initiator","allow","res","filter","o","index","parseJson","data","err","apiKey","buildId","devBar","slug","sessionData","metaData","metaConfig","showToolbar","showQuickMenu","showDevBar","showOverlay","notifications","showCommands","showCallbacks","placement","videoUrl","issuesUrl","isDev","process","version","systemName","websiteUrl","apiUrl","portalUrl","updateUrl","name","url","urlProjects","Request","urlBuilder","route","request","method","getOptions","options","mode","headers","Headers","Origin","Accept","Content-Type","body","_context","fetch","response","json","ok","GET","_context2","POST","_context3","DELETE","_context4","useApi","sessionRead","sessionUuid","sessionCreate","build_id","getMetaeditorData","x-metaeditor-apikey","useEventListener","eventName","handler","element","savedHandler","React","current","eventListener","removeEventListener","useStorage","storageType","isBrowser","getItem","setItem","removeItem","wrapper","STORAGE_KEY","read","stored_data","save","useStorageBook","storage","useVersionCompare","release","transform","match","join","a","b","a_components","split","b_components","len","min","length","parseInt","compare","result","AppContext","useSystem","Provider","props","actions","refCommand","refCallback","dispatch","updateDevBar","updateMetaConfig","updateNotificationSettings","updateSessionData","useDispatch","api","notifier","restricted","getValue","detail","pushCommand","message","Notification","header","closable","toaster","push","pushCallback","storageBook","versionCompare","buildConnector","refInterval","setBuildId","setSessionUuid","cls","readSessionData","start","urlSessionExist","waitSessionData","then","uuid","Error","removeSession","infoLog","_context5","stream_data","metadata","_sessionData$metadata","api_key","params","decodeURI","replace","map","param","reduce","values","session","useBuildConnector","Ev","commands","placementValue","callbacks","loadData","initMetaConfig","setApiKey","connectBuild","_state$metaData","commands_system","Array","isArray","_state$metaData2","commands_project","_this$sessionData","host","seconds_to_start","_state$metaData3","api_data","module","module_version","project","_state$metaData4","_state$metaData4$proj","info","_state$metaData4$proj2","menu","keyboard","helpers","video_url","updatePlacement","updateCommands","updateCallbacks","label","useActions","children","useCountdown","active","percent","leftSeconds","setData","stop","seconds","targetTime","totalSeconds","duration","diff","asSeconds","round","format","usePlayer","system","eventCommand","eventCallbacks","eventMouse","eventWebrtcStatus","updateWebrtcData","eventUeSettingsInitial","updateConfig","updatePsConfig","updateUeSettingsOnStart","updatePlayerSettings","eventHandler","initReady","setInitReady","refTimeoutConfig","mouseAction","webrtcStatus","ueInitialSettings","unload","fn","onUnload","args","deactivate","activate","useUnload","e","returnValue","computed","_s_","ch","empty","initializing","activation","stopped","_inProgress","_allowPlay","_playError","_allowOverlay","_isPending","_state$ueSettings","Console","cursor","hudSats","useUnrealSettings","streaming","resolution","ConsoleSettings","refTimer","width","height","handleResize","innerWidth","innerHeight","setState","doc","documentElement","setProperty","updateWebrtcResolution","resize","clearTimeout","emitCmd","setTimeout","sendUpdateVideoStreamSize","useResolution","_state$ueSettings$onS","streamingConnect","loadingContdown","sec","streamingActive","refIntervalSec","handleStop","useStreamKiller","initPlayer","_allowCommand","emitAsyncCommand","emitItem","attempts","_loop","Promise","r","_iterator","_ret","emitUuidAsync","_iterator2","command_uuid","initConfig","streamingStop","switchStart","changeVolume","videoPlayerController","audioElement","play","pause","PlayAudioTrack","loading","clear","media","getMax","int","getMin","sizes","xs","sm","md","lg","xl","DebugPanel","player","isFirst","onWheel","stopPropagation","display","htmlFor","role","paddingTop","paddingBottom","defaultValue","defaultChecked","max","useStyles","jss","down","marginTop","container","overflow","pointerEvents","maxHeight","CustomDrawer","ref","classes","open","setOpen","withBody","Component","setConfig","c","handleClose","isOpen","Children","onClose","Drawer","size","backdrop","Header","Title","ActionsComponent","Actions","marginRight","padding","JsonViewer","ReactJson","backgroundColor","theme","quotesOnKeys","groupArraysAfterLength","collapseStringsAfterLength","displayDataTypes","displayObjectSize","enableClipboard","Panel","groupList","listStyle","margin","marginBottom","borderBottom","& > li","&:nth-child(1)","textOverflow","whiteSpace","maxWidth","&:nth-child(2)","flexWrap","gap","CommandsList","performers","setPerformers","handlePerformer","handlerCommand","groups","group","_item$group","items","group_list","Object","IconButton","onClick","icon","CopyIcon","zIndex","navigator","clipboard","writeText","alert","renderCommandsList","Button","block","methods","_player$state","NotificationsSettings","ButtonToolbar","SelectPicker","onChange","target","innerText","placementsList","Form","Group","ControlLabel","Toggle","checkedChildren","unCheckedChildren","DevMenu","refDrawer","menuList","ListIcon","PanelPlayerData","PanelMetaData","ProjectIcon","PanelMenuSystem","PanelMenuProject","HistoryIcon","PanelHistoryCommands","PanelHistoryCallbacks","SettingIcon","PanelSettings","PlayOutlineIcon","PanelPixelStreaming","Icon","Sidenav","defaultOpenKeys","Body","Nav","Item","eventKey","openPanel","CustomModal","showFooter","FooterComponent","Modal","Footer","onSuccess","appearance","refModal","setValue","error_","disabled","setDisabled","_system$cls","apiData","_system$cls$apiData","handleOpen","handleSubmit","setError","portal","Message","showIcon","href","onSubmit","Input","required","placeholder","apiKeyIsCorrect","UpdateMessage","titleList","alignItems","& > li:nth-child(2) > span","marginLeft","borderRadius","fontSize","DevBar","setDrawerSlug","openDrawer","useHotkeys","repeat","GearIcon","circle","root","transition","position","flexDirection","justifyContent","top","left","right","bottom","& > video","objectFit","box","reportLink","PlayerOverlay","refRoot","time","eProps","renderButton","spin","loop","autoPlay","muted","textAlign","showInfo","Progress","Circle","textTransform","letterSpacing","defaultProps","SvgIcon","volumeOn","faVolumeHigh","volumeOff","faVolumeOff","expand","faExpand","qrcode","faQrcode","compress","faCompress","faPlay","faPause","star","faStar","arrowLeft","faSquareCaretLeft","arrowRight","faSquareCaretRight","arrowUp","faSquareCaretUp","arrowDown","faSquareCaretDown","question","faQuestion","renderIcon","FontAwesomeIcon","button","buttonSize","level","fgColor","bgColor","QrCode","ReactQRCode","ShareLink","copy","sharedUrl","InputGroup","readOnly","popover","VolumeButton","refWhisper","soundButtonDisabled","Whisper","trigger","enterable","speaker","Popover","Slider","getAriaValueText","tooltip","step","_player$state$playerS","content","keysList","& label","& > div","& > span","Helpers","notify","PlayerActions","fullscreen","setActive","fullscreenchanged","fullscreenElement","requestFullscreen","webkitRequestFullscreen","msRequestFullscreen","exitFullscreen","useFullscreen","useMedia","defaultSizes","setSize","up","isMoving","borderTop","backdropFilter","border","dropdownItem","minWidth","& > img","mobileNavbar","& > [data-li=\"logo\"]","fontWeight","& > [data-li=\"menu\"]","flex","overflowY","mobileMenu","MenuPopover","rest","full","Dropdown","Menu","preview_small","closeMobileMenu","bridge","_emit","click","subitems","sub","useBridge","_media","refMobilePopover","activeKey","setActiveKey","isDisabled","mouse","isMobile","controlId","Navbar","Brand","onSelect","subitem","QuickMenu","exist","Animation","Slide","in","progressRoot","progress","textShadow","& .rs-progress-line-outer","& .rs-progress-line-inner","ProgressKiller","contdown","mounted","setMounted","Line","strokeColor","global","@global","overscrollBehavior",".rs-drawer-wrapper","& *",".rs-drawer","borderLeft",".rs-drawer-content",".rs-sidenav-default","& .rs-dropdown-toggle, & .rs-sidenav-item","&:hover",".rs-toast.rs-notification",".rs-notification","& #player","& video","toolbar","CustomProvider","SystemProvider","PlayerProvider","inited","setInited","ue_console_mode","ue_control_scheme","ue_sound","primary","50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700","success"],"mappings":"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"}