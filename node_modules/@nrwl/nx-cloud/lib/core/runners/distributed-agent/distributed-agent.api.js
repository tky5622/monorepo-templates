const a5_0x5088=['axiosException','mapRespToPerfEntry','createMetricRecorder','dtePollTasks','completeRunGroupWithError','value','/nx-cloud/executions/tasks','apiAxiosInstance','recordMetric','throw','agentName','../../../utilities/environment','response','DistributedAgentApi','done','RUNNER_FAILURE_PERF_ENTRY','../../../utilities/axios','Completed\x20run\x20group\x20with\x20an\x20error','then','error','tasks','VERBOSE_LOGGING','defineProperty','axiosMultipleTries','runGroup:\x20','error:\x20','/nx-cloud/executions/complete-run-group','completeRunGroup','__esModule','next','note','runGroup','post'];(function(_0x589941,_0x508871){const _0x1ce64b=function(_0x4986d1){while(--_0x4986d1){_0x589941['push'](_0x589941['shift']());}};_0x1ce64b(++_0x508871);}(a5_0x5088,0x1d8));const a5_0x1ce6=function(_0x589941,_0x508871){_0x589941=_0x589941-0x0;let _0x1ce64b=a5_0x5088[_0x589941];return _0x1ce64b;};'use strict';var __awaiter=this&&this['__awaiter']||function(_0xca227e,_0x1d1c8f,_0x425af5,_0xcbd3e8){function _0x1c745d(_0x3489f5){return _0x3489f5 instanceof _0x425af5?_0x3489f5:new _0x425af5(function(_0x80dd14){_0x80dd14(_0x3489f5);});}return new(_0x425af5||(_0x425af5=Promise))(function(_0x4c66ae,_0x27c412){function _0x505c8a(_0x156226){try{_0x2706c0(_0xcbd3e8[a5_0x1ce6('0x13')](_0x156226));}catch(_0x43df21){_0x27c412(_0x43df21);}}function _0x3e3b85(_0x1ea470){try{_0x2706c0(_0xcbd3e8[a5_0x1ce6('0x20')](_0x1ea470));}catch(_0x2d0266){_0x27c412(_0x2d0266);}}function _0x2706c0(_0x2e82ab){_0x2e82ab[a5_0x1ce6('0x4')]?_0x4c66ae(_0x2e82ab[a5_0x1ce6('0x1c')]):_0x1c745d(_0x2e82ab[a5_0x1ce6('0x1c')])[a5_0x1ce6('0x8')](_0x505c8a,_0x3e3b85);}_0x2706c0((_0xcbd3e8=_0xcbd3e8['apply'](_0xca227e,_0x1d1c8f||[]))[a5_0x1ce6('0x13')]());});};Object[a5_0x1ce6('0xc')](exports,a5_0x1ce6('0x12'),{'value':!![]});exports[a5_0x1ce6('0x3')]=void 0x0;const axios_1=require(a5_0x1ce6('0x6'));const environment_1=require(a5_0x1ce6('0x1'));const metric_logger_1=require('../../../utilities/metric-logger');const {output}=require('../../../utilities/nx-imports');class DistributedAgentApi{constructor(_0x241aa2,_0xd9ddbc,_0x3ec412){this['runGroup']=_0xd9ddbc;this[a5_0x1ce6('0x0')]=_0x3ec412;this[a5_0x1ce6('0x1e')]=(0x0,axios_1['createApiAxiosInstance'])(_0x241aa2);}[a5_0x1ce6('0xa')](_0x1b7575,_0x1d1014,_0x35b04a){var _0x14f0d3;return __awaiter(this,void 0x0,void 0x0,function*(){const _0x39e7c0=(0x0,metric_logger_1[a5_0x1ce6('0x19')])(a5_0x1ce6('0x1a'));try{const _0x3250c9=yield(0x0,axios_1[a5_0x1ce6('0xd')])(()=>this['apiAxiosInstance']['post'](a5_0x1ce6('0x1d'),{'runGroup':this[a5_0x1ce6('0x15')],'agentName':this[a5_0x1ce6('0x0')],'executionId':_0x1b7575,'statusCode':_0x1d1014,'completedTasks':_0x35b04a}));_0x39e7c0[a5_0x1ce6('0x1f')]((0x0,metric_logger_1[a5_0x1ce6('0x18')])(_0x3250c9));return _0x3250c9['data'];}catch(_0x3c52fc){_0x39e7c0[a5_0x1ce6('0x1f')](((_0x14f0d3=_0x3c52fc===null||_0x3c52fc===void 0x0?void 0x0:_0x3c52fc[a5_0x1ce6('0x17')])===null||_0x14f0d3===void 0x0?void 0x0:_0x14f0d3[a5_0x1ce6('0x2')])?(0x0,metric_logger_1['mapRespToPerfEntry'])(_0x3c52fc[a5_0x1ce6('0x17')][a5_0x1ce6('0x2')]):metric_logger_1[a5_0x1ce6('0x5')]);throw _0x3c52fc;}});}[a5_0x1ce6('0x1b')](_0x32c421){var _0x130e14;return __awaiter(this,void 0x0,void 0x0,function*(){if(environment_1[a5_0x1ce6('0xb')]){output[a5_0x1ce6('0x14')]({'title':'Completing\x20run\x20group\x20with\x20an\x20error','bodyLines':[a5_0x1ce6('0xe')+this[a5_0x1ce6('0x15')],a5_0x1ce6('0xf')+_0x32c421]});}const _0x5b7fdd=(0x0,metric_logger_1['createMetricRecorder'])(a5_0x1ce6('0x11'));try{const _0x118d33=yield(0x0,axios_1[a5_0x1ce6('0xd')])(()=>this[a5_0x1ce6('0x1e')][a5_0x1ce6('0x16')](a5_0x1ce6('0x10'),{'runGroup':this[a5_0x1ce6('0x15')],'agentName':this[a5_0x1ce6('0x0')],'criticalErrorMessage':_0x32c421}));if(environment_1[a5_0x1ce6('0xb')]){output[a5_0x1ce6('0x14')]({'title':a5_0x1ce6('0x7')});}_0x5b7fdd[a5_0x1ce6('0x1f')]((0x0,metric_logger_1[a5_0x1ce6('0x18')])(_0x118d33));}catch(_0x10cd4e){_0x5b7fdd[a5_0x1ce6('0x1f')](((_0x130e14=_0x10cd4e===null||_0x10cd4e===void 0x0?void 0x0:_0x10cd4e['axiosException'])===null||_0x130e14===void 0x0?void 0x0:_0x130e14[a5_0x1ce6('0x2')])?(0x0,metric_logger_1[a5_0x1ce6('0x18')])(_0x10cd4e[a5_0x1ce6('0x17')]['response']):metric_logger_1[a5_0x1ce6('0x5')]);console[a5_0x1ce6('0x9')](_0x10cd4e);}});}}exports[a5_0x1ce6('0x3')]=DistributedAgentApi;