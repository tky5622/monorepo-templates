const a2_0x4931=['hash','.\x20Status\x20404.','hashUrls','axiosException','CloudRemoteCache','__esModule','then','retrieve','throw','remote-cache-hit','push','cache-miss','__awaiter','VERBOSE_LOGGING','cacheError','defineProperty','Nx\x20Cloud:\x20Cache\x20miss\x20','filter','next','value','Nx\x20Cloud:\x20Skipping\x20storing\x20','NX_CLOUD_DISTRIBUTED_EXECUTION_ID','store','map','apply','fileStorage','put','note','indexOf','messages','runContext','startRun','forEach','get','storeRequests','response','reduce','all','storage','resolve','statuses','../../../utilities/environment','requests','api','status','waitForStoreRequestsToComplete','done'];(function(_0x3a7d2f,_0x4931db){const _0x19200e=function(_0x391a74){while(--_0x391a74){_0x3a7d2f['push'](_0x3a7d2f['shift']());}};_0x19200e(++_0x4931db);}(a2_0x4931,0x73));const a2_0x1920=function(_0x3a7d2f,_0x4931db){_0x3a7d2f=_0x3a7d2f-0x0;let _0x19200e=a2_0x4931[_0x3a7d2f];return _0x19200e;};'use strict';var __awaiter=this&&this[a2_0x1920('0x26')]||function(_0x1c5874,_0x346a86,_0x10a367,_0x5b7c83){function _0x38cc15(_0x19377c){return _0x19377c instanceof _0x10a367?_0x19377c:new _0x10a367(function(_0x1d007d){_0x1d007d(_0x19377c);});}return new(_0x10a367||(_0x10a367=Promise))(function(_0x255a57,_0x39c74f){function _0x539440(_0x2e576d){try{_0x1afab1(_0x5b7c83['next'](_0x2e576d));}catch(_0x56f868){_0x39c74f(_0x56f868);}}function _0x1f09a2(_0x1f4067){try{_0x1afab1(_0x5b7c83[a2_0x1920('0x22')](_0x1f4067));}catch(_0x107e13){_0x39c74f(_0x107e13);}}function _0x1afab1(_0x35206e){_0x35206e[a2_0x1920('0x19')]?_0x255a57(_0x35206e[a2_0x1920('0x2d')]):_0x38cc15(_0x35206e[a2_0x1920('0x2d')])[a2_0x1920('0x20')](_0x539440,_0x1f09a2);}_0x1afab1((_0x5b7c83=_0x5b7c83[a2_0x1920('0x3')](_0x1c5874,_0x346a86||[]))[a2_0x1920('0x2c')]());});};Object[a2_0x1920('0x29')](exports,a2_0x1920('0x1f'),{'value':!![]});exports['CloudRemoteCache']=void 0x0;const environment_1=require(a2_0x1920('0x14'));const {output}=require('../../../utilities/nx-imports');class CloudRemoteCache{constructor(_0x485a6e,_0x1db310,_0x479491,_0x283cfc){this[a2_0x1920('0x8')]=_0x485a6e;this[a2_0x1920('0x16')]=_0x1db310;this['runContext']=_0x479491;this[a2_0x1920('0x4')]=_0x283cfc;this[a2_0x1920('0xd')]=[];}[a2_0x1920('0x21')](_0x1b8269,_0x544ee6){var _0x43b413;return __awaiter(this,void 0x0,void 0x0,function*(){if(this['messages']['cacheError'])return![];const _0x1943a4=yield this[a2_0x1920('0x1c')](_0x1b8269);if(!_0x1943a4||!_0x1943a4[a2_0x1920('0xc')]){if(environment_1[a2_0x1920('0x27')]){output[a2_0x1920('0x6')]({'title':a2_0x1920('0x2a')+_0x1b8269+'.'});}this[a2_0x1920('0x9')][a2_0x1920('0x13')][_0x1b8269]=a2_0x1920('0x25');return![];}try{yield this[a2_0x1920('0x4')][a2_0x1920('0x21')](_0x1b8269,_0x1943a4[a2_0x1920('0xc')],_0x544ee6);this['runContext'][a2_0x1920('0x13')][_0x1b8269]=a2_0x1920('0x23');return!![];}catch(_0x2e71d8){const _0xb16e63=(_0x43b413=_0x2e71d8[a2_0x1920('0x1d')])!==null&&_0x43b413!==void 0x0?_0x43b413:_0x2e71d8;if(_0xb16e63[a2_0x1920('0xe')]&&_0xb16e63['response'][a2_0x1920('0x17')]===0x194){if(environment_1[a2_0x1920('0x27')]){output[a2_0x1920('0x6')]({'title':a2_0x1920('0x2a')+_0x1b8269+a2_0x1920('0x1b')});}}else{this[a2_0x1920('0x8')][a2_0x1920('0x28')]=this[a2_0x1920('0x8')]['extractErrorMessage'](_0xb16e63,a2_0x1920('0x11'));}this[a2_0x1920('0x9')][a2_0x1920('0x13')][_0x1b8269]=a2_0x1920('0x25');return![];}});}[a2_0x1920('0x1')](_0x107eda,_0x2b5284){return __awaiter(this,void 0x0,void 0x0,function*(){if(this[a2_0x1920('0x8')]['cacheError'])return![];const _0x198aba=Promise[a2_0x1920('0x12')]()['then'](()=>__awaiter(this,void 0x0,void 0x0,function*(){var _0x32d693;const _0x6a35f9=yield this[a2_0x1920('0x1c')](_0x107eda);if(!_0x6a35f9)return![];if(!_0x6a35f9[a2_0x1920('0x5')]){if(environment_1[a2_0x1920('0x27')]){output[a2_0x1920('0x6')]({'title':a2_0x1920('0x2e')+_0x107eda+'.\x20Read\x20only\x20token\x20is\x20used.'});}return!![];}try{yield this['fileStorage']['store'](_0x107eda,_0x6a35f9[a2_0x1920('0x5')],_0x2b5284);return!![];}catch(_0x186967){const _0x991ce6=(_0x32d693=_0x186967[a2_0x1920('0x1d')])!==null&&_0x32d693!==void 0x0?_0x32d693:_0x186967;this['messages'][a2_0x1920('0x28')]=this['messages']['extractErrorMessage'](_0x991ce6,a2_0x1920('0x11'));return![];}}));this[a2_0x1920('0xd')][a2_0x1920('0x24')](_0x198aba);return _0x198aba;});}['hashUrls'](_0x58b809){return __awaiter(this,void 0x0,void 0x0,function*(){if(_0x58b809 in this['runContext'][a2_0x1920('0x15')]){return(yield this[a2_0x1920('0x9')][a2_0x1920('0x15')][_0x58b809])[_0x58b809];}else{const _0x51e171=this[a2_0x1920('0x9')]['scheduledTasks'][a2_0x1920('0x2b')](_0x3ac349=>!this[a2_0x1920('0x9')][a2_0x1920('0x15')][_0x3ac349[a2_0x1920('0x1a')]])[a2_0x1920('0x2')](_0x2a26a2=>_0x2a26a2[a2_0x1920('0x1a')]);if(_0x51e171[a2_0x1920('0x7')](_0x58b809)===-0x1){_0x51e171[a2_0x1920('0x24')](_0x58b809);}const _0x458ae0=this['api'][a2_0x1920('0xa')](environment_1[a2_0x1920('0x0')],_0x51e171);_0x51e171[a2_0x1920('0xb')](_0x170f0b=>{this[a2_0x1920('0x9')][a2_0x1920('0x15')][_0x170f0b]=_0x458ae0;});return(yield _0x458ae0)[_0x58b809];}});}[a2_0x1920('0x18')](){return Promise[a2_0x1920('0x10')](this[a2_0x1920('0xd')])[a2_0x1920('0x20')](_0x27bb59=>_0x27bb59[a2_0x1920('0xf')]((_0x33e02e,_0xc4a470)=>_0x33e02e&&_0xc4a470,!![]));}}exports[a2_0x1920('0x1e')]=CloudRemoteCache;