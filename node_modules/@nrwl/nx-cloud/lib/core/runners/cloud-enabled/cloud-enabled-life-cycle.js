const a0_0x3adf=['taskId','path','toString','toISOString','readTerminalOutputFile','startTask','join','skipNxCache','TRUNCATED\x0a\x0a','MAX_CHARACTERS_CACHED_TASK','cacheDirectory','length','__esModule','hash','../../../utilities/nx-imports','scheduledTasks','project','forEach','tasks','endTask','indexOf','endTime','keys','outputObfuscator','../../../utilities/environment','cache-miss','filter','scheduleTask','remote-cache','collectTerminalOutput','slice','Cannot\x20find\x20task\x20','cacheableOperations','params','task','local-cache-hit','defineProperty','cacheStatus','cache','find','local-cache','MAX_CHARACTERS_FAILED_TASK','status','nodes','cleanUpHashDetails','getTerminalOutput','obfuscate','npm:','runContext','serializeOverrides','updateStartedTask','endTasks','terminalOutput','NX_CLOUD_UNLIMITED_OUTPUT','statuses','target','local-cache-kept-existing','node_modules','code','MAX_CHARACTERS_SUCCESSFUL_TASK','startsWith','push'];(function(_0x5ab962,_0x3adf65){const _0x3ad915=function(_0x2a1563){while(--_0x2a1563){_0x5ab962['push'](_0x5ab962['shift']());}};_0x3ad915(++_0x3adf65);}(a0_0x3adf,0x1e1));const a0_0x3ad9=function(_0x5ab962,_0x3adf65){_0x5ab962=_0x5ab962-0x0;let _0x3ad915=a0_0x3adf[_0x5ab962];return _0x3ad915;};'use strict';Object[a0_0x3ad9('0x33')](exports,a0_0x3ad9('0x1b'),{'value':!![]});exports['CloudEnabledLifeCycle']=void 0x0;const path=require(a0_0x3ad9('0x10'));const path_1=require('path');const fs_1=require('fs');const environment_1=require(a0_0x3ad9('0x27'));const serializer_overrides_1=require('../../../utilities/serializer-overrides');const {workspaceRoot}=require(a0_0x3ad9('0x1d'));class CloudEnabledLifeCycle{constructor(_0x118d70,_0x16a9d3,_0x224b98,_0x2f4bcd,_0xfacc1f,_0x53fa62,_0x432854){this[a0_0x3ad9('0x1')]=_0x118d70;this[a0_0x3ad9('0x19')]=_0x16a9d3;this[a0_0x3ad9('0x16')]=_0x224b98;this['collectTerminalOutput']=_0x2f4bcd;this[a0_0x3ad9('0x2f')]=_0xfacc1f;this[a0_0x3ad9('0x26')]=_0x53fa62;this[a0_0x3ad9('0x21')]=_0x432854;}[a0_0x3ad9('0x2a')](_0x4d35a4){this[a0_0x3ad9('0x1')][a0_0x3ad9('0x1e')][a0_0x3ad9('0xe')](_0x4d35a4);}[a0_0x3ad9('0x14')](_0x3dffb0){this['tasks'][a0_0x3ad9('0xe')]({'taskId':_0x3dffb0['id'],'startTime':new Date()[a0_0x3ad9('0x12')](),'target':_0x3dffb0['target'][a0_0x3ad9('0x8')],'projectName':_0x3dffb0[a0_0x3ad9('0x8')][a0_0x3ad9('0x1f')],'hash':_0x3dffb0['hash'],'hashDetails':this[a0_0x3ad9('0x3b')](_0x3dffb0['hashDetails']),'params':(0x0,serializer_overrides_1[a0_0x3ad9('0x2')])(_0x3dffb0)});}[a0_0x3ad9('0x22')](_0x1b6264,_0x375f9d){let _0x58fb47;if(this[a0_0x3ad9('0x1')]['statuses'][_0x1b6264['hash']]){_0x58fb47=this[a0_0x3ad9('0x1')][a0_0x3ad9('0x7')][_0x1b6264['hash']];}else{if(this[a0_0x3ad9('0x2f')]['indexOf'](_0x1b6264['target']['target'])>-0x1&&!this['skipNxCache']){_0x58fb47=a0_0x3ad9('0x32');}else{_0x58fb47=a0_0x3ad9('0x28');}}this[a0_0x3ad9('0x3')](_0x1b6264,_0x375f9d,_0x58fb47);}[a0_0x3ad9('0x4')](_0x2eafcf){for(let _0x428d24 of _0x2eafcf){let _0x2fb125;const _0x15ca65=_0x428d24['status']===a0_0x3ad9('0x2b');const _0x221abd=_0x428d24[a0_0x3ad9('0x39')]===a0_0x3ad9('0x35');const _0x160ee0=_0x428d24[a0_0x3ad9('0x39')]===a0_0x3ad9('0x37')||_0x428d24[a0_0x3ad9('0x39')]===a0_0x3ad9('0x9')||_0x221abd;if(this[a0_0x3ad9('0x1')][a0_0x3ad9('0x7')][_0x428d24[a0_0x3ad9('0x31')][a0_0x3ad9('0x1c')]]){_0x2fb125=this[a0_0x3ad9('0x1')][a0_0x3ad9('0x7')][_0x428d24[a0_0x3ad9('0x31')][a0_0x3ad9('0x1c')]];}else if(_0x15ca65){_0x2fb125='remote-cache-hit';}else if(_0x160ee0){_0x2fb125='local-cache-hit';}else{if(this[a0_0x3ad9('0x2f')][a0_0x3ad9('0x23')](_0x428d24[a0_0x3ad9('0x31')]['target']['target'])>-0x1&&!this[a0_0x3ad9('0x16')]){_0x2fb125=a0_0x3ad9('0x32');}else{_0x2fb125=a0_0x3ad9('0x28');}}this[a0_0x3ad9('0x3')](_0x428d24['task'],_0x428d24[a0_0x3ad9('0xb')],_0x2fb125);}}['endCommand'](){}[a0_0x3ad9('0x3')](_0x4e5936,_0x1fe223,_0x1ceaab){const _0x5cee12=this['tasks'][a0_0x3ad9('0x36')](_0x4b5e71=>_0x4b5e71[a0_0x3ad9('0xf')]===_0x4e5936['id']);if(!_0x5cee12){throw new Error(a0_0x3ad9('0x2e')+_0x4e5936['id']);}_0x5cee12[a0_0x3ad9('0x24')]=new Date()[a0_0x3ad9('0x12')]();_0x5cee12[a0_0x3ad9('0x39')]=_0x1fe223;_0x5cee12[a0_0x3ad9('0x30')]=this[a0_0x3ad9('0x26')][a0_0x3ad9('0x3d')](_0x5cee12['params']);_0x5cee12['cacheStatus']=_0x1ceaab;if(this[a0_0x3ad9('0x2c')]){_0x5cee12['terminalOutput']=this[a0_0x3ad9('0x3c')](_0x4e5936['hash'],_0x5cee12[a0_0x3ad9('0x34')],_0x1fe223);}}[a0_0x3ad9('0x3c')](_0x498373,_0x2dc74c,_0x147d7a){let _0x1f5d81;if(this[a0_0x3ad9('0x19')]){if(this[a0_0x3ad9('0x19')]['startsWith']('./')){_0x1f5d81=(0x0,path_1['join'])(workspaceRoot,this[a0_0x3ad9('0x19')]);}else{_0x1f5d81=this[a0_0x3ad9('0x19')];}}else{_0x1f5d81=(0x0,path_1[a0_0x3ad9('0x15')])(workspaceRoot,a0_0x3ad9('0xa'),'.cache','nx');}try{const _0x15f5ea=this[a0_0x3ad9('0x13')](_0x1f5d81,_0x498373);const _0x2f2864=this[a0_0x3ad9('0x26')][a0_0x3ad9('0x3d')](_0x15f5ea);if(environment_1[a0_0x3ad9('0x6')])return _0x2f2864;const _0x3a09ad=_0x2dc74c===a0_0x3ad9('0x28')?_0x147d7a===0x0?CloudEnabledLifeCycle[a0_0x3ad9('0xc')]:CloudEnabledLifeCycle[a0_0x3ad9('0x38')]:CloudEnabledLifeCycle[a0_0x3ad9('0x18')];return _0x2f2864[a0_0x3ad9('0x1a')]>_0x3a09ad?a0_0x3ad9('0x17')+_0x2f2864[a0_0x3ad9('0x2d')](_0x2f2864[a0_0x3ad9('0x1a')]-_0x3a09ad):_0x2f2864;}catch(_0x803f7){return'';}}[a0_0x3ad9('0x3b')](_0x4092f7){const _0x5d7342={};Object[a0_0x3ad9('0x25')](_0x4092f7[a0_0x3ad9('0x3a')])[a0_0x3ad9('0x29')](_0x5e948a=>!_0x5e948a[a0_0x3ad9('0xd')](a0_0x3ad9('0x0')))[a0_0x3ad9('0x20')](_0x588da4=>{_0x5d7342[_0x588da4]=_0x4092f7[a0_0x3ad9('0x3a')][_0x588da4];});return{'nodes':_0x5d7342,'runtime':_0x4092f7['runtime'],'implicitDeps':_0x4092f7['implicitDeps']};}[a0_0x3ad9('0x13')](_0x3b58b2,_0x52fd43){try{return(0x0,fs_1['readFileSync'])(path['join'](_0x3b58b2,'terminalOutputs',_0x52fd43))[a0_0x3ad9('0x11')]();}catch(_0x147be3){try{return(0x0,fs_1['readFileSync'])(path[a0_0x3ad9('0x15')](_0x3b58b2,_0x52fd43,a0_0x3ad9('0x5')))[a0_0x3ad9('0x11')]();}catch(_0x19a374){return'';}}}}exports['CloudEnabledLifeCycle']=CloudEnabledLifeCycle;CloudEnabledLifeCycle[a0_0x3ad9('0x38')]=0x30d40;CloudEnabledLifeCycle[a0_0x3ad9('0xc')]=0x4e20;CloudEnabledLifeCycle[a0_0x3ad9('0x18')]=0x4e20;