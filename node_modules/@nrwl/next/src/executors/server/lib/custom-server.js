"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.customServer = void 0;
const devkit_1 = require("@nrwl/devkit");
const next_1 = require("next");
const tsnode_register_1 = require("./tsnode-register");
function customServer(settings, proxyConfig) {
    const nextApp = (0, next_1.default)(settings);
    (0, tsnode_register_1.tsNodeRegister)((0, devkit_1.joinPathFragments)(settings.dir, settings.path), (0, devkit_1.joinPathFragments)(settings.dir, 'tsconfig.json'));
    const customServerModule = require((0, devkit_1.joinPathFragments)(settings.dir, settings.path));
    const customServer = customServerModule.default || customServerModule;
    return customServer(nextApp, settings, proxyConfig);
}
exports.customServer = customServer;
//# sourceMappingURL=custom-server.js.map