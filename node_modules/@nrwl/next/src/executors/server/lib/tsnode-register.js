"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.tsNodeRegister = void 0;
function tsNodeRegister(file = '', tsConfig) {
    if (file && file.endsWith('.ts')) {
        // Register TS compiler lazily
        require('ts-node').register({
            project: tsConfig,
            compilerOptions: {
                module: 'CommonJS',
                types: ['node'],
            },
        });
        // Register paths in tsConfig
        const tsconfigPaths = require('tsconfig-paths');
        const { absoluteBaseUrl: baseUrl, paths } = tsconfigPaths.loadConfig(tsConfig);
        if (baseUrl && paths) {
            tsconfigPaths.register({ baseUrl, paths });
        }
    }
}
exports.tsNodeRegister = tsNodeRegister;
//# sourceMappingURL=tsnode-register.js.map