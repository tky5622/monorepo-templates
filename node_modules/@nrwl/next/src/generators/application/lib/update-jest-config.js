"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.updateJestConfig = void 0;
function updateJestConfig(host, options) {
    if (options.unitTestRunner !== 'jest') {
        return;
    }
    const configPath = `${options.appProjectRoot}/jest.config.${options.js ? 'js' : 'ts'}`;
    const originalContent = host.read(configPath, 'utf-8');
    const content = originalContent
        .replace('transform: {', "transform: {\n    '^(?!.*\\\\.(js|jsx|ts|tsx|css|json)$)': '@nrwl/react/plugins/jest',")
        .replace(`'babel-jest'`, `['babel-jest', { presets: ['@nrwl/next/babel'] }]`);
    host.write(configPath, content);
}
exports.updateJestConfig = updateJestConfig;
//# sourceMappingURL=update-jest-config.js.map